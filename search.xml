<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ã€è¯‘ã€‘10 ä¸ªæœ‰ç”¨çš„ git log æŠ€å·§</title>
      <link href="/posts/ca4b1f56/"/>
      <url>/posts/ca4b1f56/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598968984592-22efb69a-a3ac-4eab-84bf-9c327a3bf2ff.png#align=left&display=inline&height=383&margin=%5Bobject%20Object%5D&name=image.png&originHeight=383&originWidth=900&size=470432&status=done&style=none&width=900" alt="image.png"></p><blockquote><p>åŸä½œè€…ï¼šSrebalaji<br>åŸæ–‡åœ°å€ï¼š<a href="https://hackernoon.com/ten-useful-git-log-tricks-7nt3yxy">Ten Useful Git Log Tricks | Hacker Noon</a><br>è¯‘è€…ï¼š<a href="https://blog.coder4j.cn/">KIWI çš„ç¢ç¢å¿µ</a></p></blockquote><p>If you are using Git for a while you should have come across git log. As everyone knows, the git log is a simple command that helps us to view the changes or project history.</p><p>ï¼ˆå¦‚æœä½ åœ¨ä½¿ç”¨ Git ä¸€æ®µæ—¶é—´åï¼Œåº”è¯¥ä¼šé‡åˆ°è®¿é—® git æ—¥å¿—çš„åœºæ™¯ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œgit log æ˜¯ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹é¡¹ç›®å˜æ›´æˆ–é¡¹ç›®å†å²çš„ç®€å•å‘½ä»¤ã€‚ï¼‰</p><p>Even with that simplicity, it is a very powerful tool and it comes with numerous options that help us to view the project changes and its structure. We will see some of the most used options in this article.</p><p>ï¼ˆå°½ç®¡å®ƒæ˜¯éå¸¸ç®€å•çš„ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å‘½ä»¤å·¥å…·ï¼Œå¯ä»¥é€šè¿‡å®ƒæä¾›çš„æ•°é‡ä¼—å¤šçš„é€‰é¡¹æ¥å¸®åŠ©æˆ‘ä»¬å»æŸ¥çœ‹é¡¹ç›®çš„å˜æ›´ä¸ç»“æ„ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä¸€äº›å®ƒæœ€å¸¸ä½¿ç”¨çš„é€‰é¡¹ï¼‰</p><h2 id="git-log-â€”oneline"><a href="#git-log-â€”oneline" class="headerlink" title="git log â€”oneline"></a>git log â€”oneline</h2><p>This command helps you to view the commits in a cleaner way. It condenses each commit to a line and has only minimal information like shorter commit hash, commit message.</p><p>ï¼ˆè¿™æ¡å‘½ä»¤å¯ä»¥å¸®åŠ©ä½ ä»¥ç®€æ´çš„æ–¹å¼æŸ¥çœ‹æäº¤è®°å½•ã€‚å®ƒæŠŠæäº¤è®°å½•æµ“ç¼©åœ¨äº†ä¸€è¡Œï¼Œè€Œä¸”åªä¿ç•™ç±»ä¼¼è¾ƒçŸ­çš„æäº¤å“ˆå¸Œå€¼å’Œæäº¤ä¿¡æ¯ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --oneline</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598875762622-319e4d6c-1ea0-4897-a17f-7bb26163c100.png#align=left&display=inline&height=182&margin=%5Bobject%20Object%5D&name=image.png&originHeight=230&originWidth=813&size=194191&status=done&style=none&width=643" alt="image.png"></p><h2 id="Filter-commits-by-time-period"><a href="#Filter-commits-by-time-period" class="headerlink" title="Filter commits by time period"></a>Filter commits by time period</h2><p>ï¼ˆæ ¹æ®æ—¶é—´æ®µç­›é€‰æäº¤ä¿¡æ¯ï¼‰</p><p>These commands will filter out the commits by the given time period. For example,Â â€” afterÂ will only filter commits after the given time period andÂ â€” beforeÂ will only filter commits before the given time period.</p><p>(è¿™äº›å‘½ä»¤å¯ä»¥ç­›é€‰å‡ºæŒ‡å®šæ—¶é—´æ®µçš„æäº¤è®°å½•ï¼Œä¾‹å¦‚ï¼Œ**â€“after** ä¼šç­›é€‰å‡ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤è®°å½•ï¼Œ**â€“before ** ä¼šç­›é€‰å‡ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤è®°å½•ã€‚)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --after&#x3D;&quot;2020-05-15&quot;</span><br></pre></td></tr></table></figure><blockquote><p>// è¯‘è€…æ³¨ï¼šæ³¨æ„åŸæ–‡è¿™é‡Œçš„æ—¥æœŸæ ¼å¼æ˜¯ 2020-15-05 ï¼Œå¹´æ—¥æœˆï¼Ÿæˆ‘æœ¬åœ°æµ‹è¯•æ—¶é—´ä¸å¯¹ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è·ŸåŸä½œè€…é…ç½®æˆ–ç¯å¢ƒä¸ä¸€æ ·ï¼Œå¤§å®¶å¯ä»¥è¯•ä¸€ä¸‹è‡ªå·±æœ¬åœ°å¯ä»¥æ”¯æŒå“ªç§æ ¼å¼ï¼Œåæ–‡çš„æ—¥æœŸæ ¼å¼éƒ½æ˜¯å¦‚æ­¤ï¼Œä¸å†èµ˜è¿°ã€‚</p></blockquote><p>The above command will show only commits after May 15th, 2020</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤å°†åªæ˜¾ç¤º 2020 å¹´ 5 æœˆ 15 æ—¥ ä¹‹åçš„æäº¤è®°å½•)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --after&#x3D;&quot;2020-05-15&quot; --before&#x3D;&quot;2020-05-25&quot;</span><br></pre></td></tr></table></figure><p>The above command will show only commits from May 15 to May 25</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤å°†åªæ˜¾ç¤º 5 æœˆ 15 å·åˆ° 5 æœˆ 25 æ—¥ä¹‹é—´çš„æäº¤è®°å½•)</p><p>You can also use the following date formats</p><p>(ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ—¥æœŸæ ¼å¼)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">git log --after&#x3D;&quot;yesterday&quot; &#x2F;&#x2F; shows only commits from yeserday</span><br><span class="line"></span><br><span class="line">(åªæ˜¾ç¤ºæ˜¨å¤©ä¹‹åçš„æäº¤è®°å½•)</span><br><span class="line"></span><br><span class="line">git log --after&#x3D;&quot;today&quot; &#x2F;&#x2F; shows only today commits</span><br><span class="line"></span><br><span class="line">(åªæ˜¾ç¤ºä»Šå¤©çš„æäº¤è®°å½•)</span><br><span class="line"></span><br><span class="line">git log --before&#x3D;&quot;10 day ago&quot; &#x2F;&#x2F; omits last 10 days commits</span><br><span class="line"></span><br><span class="line">(åªæ˜¾ç¤º 10 å¤©å‰çš„æäº¤è®°å½•)</span><br><span class="line"></span><br><span class="line">git log --after&#x3D;&quot;1 week ago&quot; &#x2F;&#x2F;show only commits from last week</span><br><span class="line"></span><br><span class="line">(åªæ˜¾ç¤ºæœ€è¿‘ä¸€å‘¨çš„æäº¤è®°å½•)</span><br><span class="line"></span><br><span class="line">git log --after&#x3D;&quot;2 week ago&quot;</span><br><span class="line"></span><br><span class="line">ï¼ˆåªæ˜¾ç¤ºæœ€è¿‘ä¸¤å‘¨çš„æäº¤è®°å½•ï¼‰</span><br><span class="line"></span><br><span class="line">git log --after&#x3D;&quot;2 month ago&quot; &#x2F;&#x2F; shows only last 2 months commits</span><br><span class="line"></span><br><span class="line">ï¼ˆåªæ˜¾ç¤ºæœ€è¿‘ä¸¤ä¸ªæœˆçš„æäº¤è®°å½•ï¼‰</span><br></pre></td></tr></table></figure><h2 id="git-log-with-diff-changes"><a href="#git-log-with-diff-changes" class="headerlink" title="git log with diff changes"></a>git log with diff changes</h2><p>ï¼ˆå¸¦å˜æ›´å·®å¼‚ä¿¡æ¯çš„ git æ—¥å¿—ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -p</span><br></pre></td></tr></table></figure><p>This command will show the log with the diff changes. So that you can know the changes done in each commit.</p><p>(è¿™æ¡å‘½ä»¤å°†æ˜¾ç¤ºå¸¦å˜æ›´å·®å¼‚ä¿¡æ¯çš„æäº¤è®°å½•ã€‚æ‰€ä»¥ä½ å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“æ¯æ¬¡æäº¤éƒ½æœ‰å“ªäº›å˜æ›´ã€‚)</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598879462726-ad6b0dab-458d-40d5-bcfe-7aaede1f1dc9.png#align=left&display=inline&height=501&margin=%5Bobject%20Object%5D&name=image.png&originHeight=546&originWidth=620&size=350268&status=done&style=none&width=569" alt="image.png"></p><p>In the above image, you can see the git diff changes.</p><p>ï¼ˆåœ¨ä¸Šé¢çš„å›¾ç‰‡é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ° git çš„å˜æ›´å·®å¼‚ä¿¡æ¯ï¼‰</p><h2 id="Filter-commits-by-author"><a href="#Filter-commits-by-author" class="headerlink" title="Filter commits by author"></a>Filter commits by author</h2><p>ï¼ˆæ ¹æ®ä½œè€…ç­›é€‰æäº¤è®°å½•ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --author&#x3D;&quot;Srebalaji&quot;</span><br></pre></td></tr></table></figure><p>The above command will filter out the commits done by the particular author. Note that the Git filters out by regex pattern. So donâ€™t worry about the exact name match or case sensitivity.</p><p>ï¼ˆä¸Šé¢è¿™æ¡å‘½ä»¤å¯ä»¥é€šè¿‡æŒ‡å®šçš„ä½œè€…åç§°è¿‡æ»¤æäº¤ä¿¡æ¯ã€‚æ³¨æ„ git æ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œè¿‡æ»¤çš„ã€‚æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒç²¾ç¡®çš„åç§°åŒ¹é…æˆ–å¤§å°å†™æ•æ„Ÿçš„åŒ¹é…ï¼‰</p><p>Git log can take multiple options so you can combine options for your need. For example,</p><p>ï¼ˆGit æ—¥å¿—æ˜¯æ”¯æŒå¤šé€‰é¡¹çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŒ‰ä½ çš„éœ€è¦è‡ªç”±ç»„åˆé€‰é¡¹ã€‚ä¾‹å¦‚ï¼šï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --after&#x3D;&quot;1 week ago&quot; --author&#x3D;&quot;srebalji&quot; -p</span><br></pre></td></tr></table></figure><p>The above command will filter commits for the past week by the respective author and also shows the diff changes.</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤å°†è¿‡æ»¤å‡ºæœ€è¿‘ä¸€å‘¨ç›¸åº”ä½œè€…çš„æäº¤è®°å½•å¹¶ä¸”åŒæ—¶æ˜¾ç¤ºå˜æ›´å·®å¼‚ä¿¡æ¯)</p><h2 id="Filter-commits-by-log-messages"><a href="#Filter-commits-by-log-messages" class="headerlink" title="Filter commits by log messages"></a>Filter commits by log messages</h2><p>(æ ¹æ®æ—¥å¿—æäº¤ä¿¡æ¯è¿‡æ»¤æäº¤è®°å½•)</p><p>Sometimes, you need to filter commits by log messages. Git accepts a regex pattern to search for the log messages and displays all the matched commits.</p><p>ï¼ˆæœ‰æ—¶å€™ï¼Œä½ éœ€è¦æ ¹æ®æ—¥å¿—ä¿¡æ¯è¿‡æ»¤æäº¤è®°å½•ã€‚Git æ”¯æŒé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å»æŸ¥è¯¢æ—¥å¿—æ¶ˆæ¯å¹¶ä¸”æ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„æäº¤è®°å½•ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --grep&#x3D;&quot;ISSUE-43560&quot;</span><br></pre></td></tr></table></figure><p>The above command will filter commits by the respective pattern. And remember by default itâ€™s case sensitive.</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤å°†æ ¹æ®ç›¸åº”çš„æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤æäº¤è®°å½•ã€‚éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œå®ƒé»˜è®¤æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚)</p><p>To make the search case insensitive, you can pass -i parameter</p><p>ï¼ˆå¦‚æœæƒ³ä½¿ç”¨å¤§å°å†™ä¸æ•æ„ŸæŸ¥è¯¢ï¼Œä½ å¯ä»¥é€šè¿‡ <strong>-i</strong> å‚æ•°ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -i --grep&#x3D;&quot;issue-43560&quot;</span><br></pre></td></tr></table></figure><p>The below command is using a regex pattern search and will search for both the issue ids.</p><p>(ä¸‹é¢è¿™æ¡å‘½ä»¤é€šè¿‡ä¸¤æ¡ issue ids çš„æ­£å¼è¡¨è¾¾å¼æŸ¥è¯¢æäº¤è®°å½•)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -i --grep&#x3D;&quot;issue-43560\|issue-89786&quot;</span><br></pre></td></tr></table></figure><h2 id="Filter-commits-by-files"><a href="#Filter-commits-by-files" class="headerlink" title="Filter commits by files"></a>Filter commits by files</h2><p>ï¼ˆé€šè¿‡æ–‡ä»¶è¿‡æ»¤æäº¤è®°å½•ï¼‰</p><p>Sometimes you need all commits changes that have affected some particular files. This will come in hand in many places.</p><p>ï¼ˆæœ‰æ—¶å€™ä½ éœ€è¦ä¸€äº›æŒ‡å®šçš„å˜æ›´æ–‡ä»¶çš„æäº¤è®°å½•ã€‚è¿™åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ä½¿ç”¨ã€‚ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log main.rb</span><br></pre></td></tr></table></figure><p>This command will filter commits that made changes to the respective file.</p><p>ï¼ˆè¿™æ¡å‘½ä»¤å°†æŒ‰ç›¸åº”çš„æ–‡ä»¶è¿‡æ»¤æäº¤è®°å½•ï¼‰</p><p>You can also pass multiple files to it.</p><p>ï¼ˆä½ ä¹Ÿå¯ä»¥åŒæ—¶è¿‡æ»¤å¤šä¸ªæ–‡ä»¶ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log main.rb search.rb login.rb</span><br></pre></td></tr></table></figure><p>You can see I have passed three files to filter out.</p><p>ï¼ˆä½ èƒ½çœ‹åˆ°æˆ‘é€šè¿‡ä¸‰ä¸ªæ–‡ä»¶å»è¿‡æ»¤æäº¤è®°å½•ã€‚ï¼‰</p><p>Remember you can also pass multiple options.</p><p>ï¼ˆè®°å¾—ä½ ä¹Ÿå¯ä»¥é€šè¿‡å¤šä¸ªé€‰é¡¹å»ä½¿ç”¨ã€‚ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -i --grep&#x3D;&quot;fix &quot; main.rb search.rb</span><br></pre></td></tr></table></figure><p>This command will filter out commits changes done to the specified files and also will match the log message by the given search pattern.</p><p>ï¼ˆè¿™æ¡å‘½ä»¤å°†é€šè¿‡æŒ‡å®šçš„æ–‡ä»¶å’ŒæŒ‡å®šçš„æ—¥å¿—æ¶ˆæ¯çš„æ­£åˆ™è¡¨è¾¾å¼å»è¿‡æ»¤æäº¤è®°å½•ï¼‰</p><h2 id="Filter-commits-by-file-content"><a href="#Filter-commits-by-file-content" class="headerlink" title="Filter commits by file content"></a>Filter commits by file content</h2><p>ï¼ˆæ ¹æ®æ–‡ä»¶å†…å®¹è¿‡æ»¤æäº¤è®°å½•ï¼‰</p><p>You may need to search for a specific string in the source code that has been added in the commit history. This can be possible by</p><p>ï¼ˆä½ ä¹Ÿè®¸éœ€è¦åœ¨å·²ç»æ·»åŠ åˆ°æäº¤å†å²çš„æºç ä¸­æŸ¥è¯¢æŒ‡å®šå­—ç¬¦ä¸²ã€‚è¿™å¯èƒ½æ˜¯å¦‚ä¸‹çš„ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -S&quot;function login()&quot;</span><br></pre></td></tr></table></figure><p>The above command will search for the string â€œfunction login()â€. By default, itâ€™s case sensitive.</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤å°†é€šè¿‡å­—ç¬¦ä¸² ã€function login()ã€æŸ¥è¯¢ã€‚å®ƒé»˜è®¤æ˜¯å¤§å°å†™æ•æ„Ÿçš„)</p><p>You can make it case-insensitive by adding -i. And to view the content you can view the diff changes.</p><p>(ä½ ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ  -i æ¥è®¾ç½®å¤§å°å†™ä¸æ•æ„Ÿçš„ã€‚å¹¶ä¸”åŒæ—¶æ˜¾ç¤ºå·®å¼‚å˜æ›´çš„å†…å®¹)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -i -S&quot;function login()&quot; -p</span><br></pre></td></tr></table></figure><h2 id="Show-only-merge-commits"><a href="#Show-only-merge-commits" class="headerlink" title="Show only merge commits"></a>Show only merge commits</h2><p>ï¼ˆåªæ˜¾ç¤ºåˆå¹¶æäº¤ï¼‰</p><p>This command helps us in knowing the merges done to the current branch.</p><p>ï¼ˆè¿™æ¡å‘½ä»¤å¸®åŠ©æˆ‘ä»¬çŸ¥é“å½“å‰åˆ†æ”¯çš„åˆå¹¶æƒ…å†µï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --merges</span><br></pre></td></tr></table></figure><p>The above command will show only the merge commits in the current branch. Nothing more.</p><p>(ä¸Šé¢è¿™æ¡å‘½ä»¤åªæ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„åˆå¹¶æäº¤è®°å½•ï¼Œä»…æ­¤è€Œå·²)</p><h2 id="Showing-diff-between-branches"><a href="#Showing-diff-between-branches" class="headerlink" title="Showing diff between branches"></a>Showing diff between branches</h2><p>ï¼ˆæ˜¾ç¤ºä¸¤ä¸ªåˆ†æ”¯çš„å·®å¼‚ï¼‰</p><p>We have already seen this command in one of our previous issues.</p><p>ï¼ˆåœ¨å…ˆå‰çš„é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬å·²ç»è§è¿‡è¿™ä¸ªå‘½ä»¤äº†ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log master..develop</span><br></pre></td></tr></table></figure><p>This command will help you show all the commits from develop but that are not present in the master branch. In this way, you can know that how many new commits are added to the develop branch that is not present in the master branch. And make sure you have the updated changes in the local before comparing.</p><p>(è¿™æ¡å‘½ä»¤å°†å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹æ‰€æœ‰åœ¨ develop åˆ†æ”¯ä¸­çš„ä½†åˆä¸åœ¨ master åˆ†æ”¯çš„æäº¤è®°å½•ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥çŸ¥é“åœ¨ develop åˆ†æ”¯ä¸Šæœ‰å¤šå°‘æ–°çš„æäº¤ï¼Œä½†æ˜¯ master åˆä¸å­˜åœ¨çš„ã€‚ç¡®ä¿ä½ åœ¨æ¯”è¾ƒå‰ï¼Œæœ¬åœ°æœ‰ä¿®æ”¹çš„å˜æ›´ã€‚)</p><h2 id="Custom-formatting-log-messages"><a href="#Custom-formatting-log-messages" class="headerlink" title="Custom formatting log messages"></a>Custom formatting log messages</h2><p>ï¼ˆè‡ªå®šä¹‰æ—¥å¿—æ¶ˆæ¯çš„æ ¼å¼ï¼‰</p><p>Git also provides options to custom format our log messages. You can check out custom pretty options for more options.</p><p>ï¼ˆGit ä¹Ÿæä¾›äº†è‡ªå®šä¹‰æ ¼å¼åŒ–æ—¥å¿—æ¶ˆæ¯çš„é€‰é¡¹ã€‚ä½ å¯ä»¥æŸ¥çœ‹è‡ªå®šä¹‰çš„ pretty é€‰é¡¹çš„æ›´å¤šé€‰é¡¹ï¼‰</p><p>For example,</p><p>ï¼ˆä¾‹å¦‚ï¼Œï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty&#x3D;format:&quot;%Cred%an - %ar%n %Cblue %h -%Cgreen %s %n&quot;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598963580711-84d3c9cc-3a45-4155-92ec-1a9462be0eef.png#align=left&display=inline&height=524&margin=%5Bobject%20Object%5D&name=image.png&originHeight=524&originWidth=642&size=315411&status=done&style=none&width=642" alt="image.png"></p><p>You can see in the above image that the commit logs are custom formatted. Itâ€™s pretty easy and it comes in handy if you want to view only specific details of the log.</p><p>(ä½ å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å›¾ç‰‡çš„æäº¤è®°å½•æ˜¯è‡ªå®šä¹‰æ ¼å¼çš„ã€‚å¦‚æœä½ åªæƒ³æŸ¥è¯¢æ—¥å¿—çš„ç‰¹å®šä¿¡æ¯ï¼Œå®ƒæ˜¯éå¸¸ç®€å•ä¸å®¹æ˜“çš„ã€‚)</p><p>Thatâ€™s it. Hope you learned something new :)</p><p>ï¼ˆå°±è¿™æ ·äº†ï¼Œå¸Œæœ›ä½ å­¦åˆ°äº†ä¸€äº›æ–°çš„ä¸œè¥¿ ğŸ˜€ï¼‰</p><p>Thank you for reading :) :)</p><p>ï¼ˆæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼‰</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> è¯‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€éšç¬”ã€‘å¤–å–ä¸å½±å­</title>
      <link href="/posts/42ae089e/"/>
      <url>/posts/42ae089e/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/119443/1598085674717-7de8bea9-c78a-4322-906f-a0c024260b1c.jpeg#align=left&display=inline&height=397&margin=%5Bobject%20Object%5D&name=mmexport1597409074531.jpg&originHeight=397&originWidth=540&size=25289&status=done&style=none&width=540" alt="mmexport1597409074531.jpg"></p><h3 id="å¤±è´¥çš„å¤–å–"><a href="#å¤±è´¥çš„å¤–å–" class="headerlink" title="å¤±è´¥çš„å¤–å–"></a>å¤±è´¥çš„å¤–å–</h3><p>å‰å‡ å¤©ç‚¹å–œèŒ¶ï¼Œå¾ˆä¸å¼€å¿ƒï¼Œå¤–å–å°å“¥æŠŠèƒ½çŠ¯çš„é”™è¯¯å…¨éƒ½çŠ¯äº†ã€‚</p><p>é¦–å…ˆé€æ™šäº†ï¼Œå¹¶ä¸”åœ¨è¿˜æ²¡é€åˆ°æ—¶ï¼Œå°±æå‰å¾ˆä¹…ï¼Œç‚¹äº†å·²é€è¾¾ã€‚å¦å¤–ï¼Œå¤–å–å‡ ä¹å…¨æ’’äº†ï¼Œç‚¹äº† 12 æ¯å¥¶èŒ¶ï¼Œé€åˆ°æ—¶åªå‰© 3 æ¯ï¼Œå…¶ä»– 9 æ¯å‹æ ¹æ²¡è§åˆ°ã€‚</p><p>è¿™äº›å…¶å®éƒ½å¯ä»¥ç†è§£ï¼Œä½†æ˜¯æœ€ç»ˆé€åˆ°æ—¶ï¼Œå°å“¥å´ä¸€ç›´åœ¨ç”©é”…ï¼Œéè¯´æˆ‘åœ°å€å¡«é”™äº†ï¼Œä»–å¯¼èˆªæ—¶ä¸€ç›´æŠ¥åç¦»è·¯çº¿ï¼Œè¿˜å¯¼è‡´ä»–å…¶ä»–å•éƒ½è¶…æ—¶ï¼Œä»¿ä½›é”™çš„éƒ½æ˜¯æˆ‘ã€‚</p><p>é¦–å…ˆï¼Œåœ°å€ç»å¯¹æ˜¯æ²¡é—®é¢˜çš„ï¼Œç”¨è¿™ä¸ªåœ°å€æ”¶äº†å‡ å¹´çš„å¤–å–è·Ÿå¿«é€’ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°è¯´è¿™ä¸ªåœ°å€æ‰¾ä¸åˆ°çš„ã€‚å…¶æ¬¡ï¼Œä»–è¯´å¯¼èˆªä¸€ç›´æŠ¥åç¦»è·¯çº¿ï¼ŒæŒ‰é“ç†æ¥è¯´åç¦»è·¯çº¿ï¼Œè¿™å°±è¯´æ˜ä»–æ²¡æŒ‰å¯¼èˆªè§„åˆ’çš„è·¯çº¿èµ°ã€‚æœ€é‡è¦çš„æ˜¯å¤–å–æ¼æ´’è·Ÿåœ°å€æ­£ä¸æ­£ç¡®å¹¶æ²¡æœ‰å…³è”å…³ç³»ï¼Œè¿™ä¸ªç†ç”±å®Œå…¨ç«™ä¸ä½è„šã€‚è¿™ç§æ˜æ˜åšé”™äº†ï¼Œä½†æ˜¯å¼ºè¯å¤ºç†è®©äººå¾ˆåæ„Ÿã€‚</p><h3 id="è®¨åŒçš„å½±å­"><a href="#è®¨åŒçš„å½±å­" class="headerlink" title="è®¨åŒçš„å½±å­"></a>è®¨åŒçš„å½±å­</h3><p>å¾ˆä¹…ä¹‹å‰ï¼Œçœ‹è¿‡ä¸€å¥è¯ â€“ <strong>ä½ è®¨åŒçš„äººèº«ä¸Šä¹Ÿä¸€å®šæœ‰ä½ è‡ªå·±çš„å½±å­ã€‚</strong>æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°æ—¶è§‰å¾—ååˆ†çš„æ‰¯æ·¡ï¼Œæˆ‘è®¨åŒçš„äººèº«ä¸Šæ€ä¹ˆä¼šæœ‰æˆ‘çš„å½±å­ï¼Œéš¾é“æˆ‘è®¨åŒæˆ‘è‡ªå·±ï¼Ÿä½†æ˜¯åæ¥éšç€ç»å†çš„äº‹æƒ…å˜å¤šï¼Œå‘è§‰å®ƒè¿˜æ˜¯æœ‰ä¸€å®šçš„åˆç†æ€§çš„ã€‚ç”šè‡³åœ¨å¿ƒç†å­¦ä¸Šè¿˜æœ‰ä¸€ä¸ªç±»å‹çš„æ¦‚å¿µ â€“ ã€Š<a href="https://baike.baidu.com/item/%E6%8A%95%E5%B0%84">æŠ•å°„</a>ã€‹ ç†è®ºã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598089411507-9219f306-785f-48ce-838f-82896033500e.png#align=left&display=inline&height=467&margin=%5Bobject%20Object%5D&name=image.png&originHeight=934&originWidth=1500&size=159758&status=done&style=none&width=750" alt="image.png"></p><p>è‡ªä»æ˜ç™½è¿™ä¸ªé“ç†åï¼Œæˆ‘åœ¨é‡åˆ°è®©æˆ‘åæ„Ÿçš„äººæˆ–äº‹åã€‚æˆ‘å°±ä¼šæƒ³æƒ³è¿™ä¸ªäººæˆ–è¿™ä»¶äº‹æœ‰æ²¡æœ‰æˆ‘çš„å½±å­ã€‚æœ‰åˆ™æ”¹ä¹‹ï¼Œæ— åˆ™åŠ å‹‰ã€‚æœ‰ç‚¹ç±»ä¼¼è€ç¥–å®—è¯´çš„ã€<strong>è§è´¤æ€é½ç„‰ï¼Œè§ä¸è´¤è€Œå†…è‡ªçœä¹Ÿ</strong>ã€ã€‚</p><p>æ™šåˆ°ã€æå‰å…³å•ã€æ¼æ´’ã€‚è¿™äº›æˆ‘éƒ½èƒ½ç†è§£ï¼Œä½†æ˜¯æœ€åçš„ç”©é”…è¡Œä¸ºå´è®©æˆ‘ååˆ†çš„åæ„Ÿã€‚åæ„Ÿä¹‹åï¼Œå°±åœ¨æ€è€ƒè¿™ä»¶äº‹ä¸Šæ˜¯ä¸æ˜¯æœ‰æˆ‘è‡ªå·±çš„å½±å­ã€‚</p><p>å…¶å®æ•´ä»¶äº‹ä¸Šæœ€å¤§çš„æ§½ç‚¹ï¼Œå°±æ˜¯æœ€åçš„ç”©é”…è¡Œä¸ºã€‚å½“æ—¶åªè¦ç¨å¾®è¡¨è¾¾ä¸€ä¸ä¸æ­‰æ„ï¼Œè€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±ç››æ°”å‡Œäººï¼Œåè€ŒæŒ‡è´£ä»–äººæœ‰é—®é¢˜ï¼Œå†µä¸”è¿˜åœ¨ä»–äººå¹¶æ²¡æœ‰é”™è¯¯çš„æƒ…å†µä¸‹ã€‚å³ä½¿ä»–äººä¹Ÿæœ‰é—®é¢˜ï¼Œè¿™ä¹Ÿä¸èƒ½æ©ç›–è‡ªå·±çš„é”™è¯¯äº‹å®ã€‚</p><p>è¿™æ ·ä¸€æƒ³ï¼Œå‘ç°è‡ªå·±èº«ä¸Šè¿˜çš„ç¡®æœ‰åŒæ ·çš„é—®é¢˜ã€‚æŠŠé€å¤–å–æ¢æˆå†™ä»£ç ï¼ŒæŠŠæ™šåˆ°ã€æå‰å…³å•ã€æ¼æ´’æ¢æˆå‡ºç° bugï¼Œå°±å˜å¾—å¾ˆæ˜æ˜¾äº†ã€‚</p><p>å½“å‡ºç°çº¿ä¸Š bug æ—¶ï¼Œæˆ‘å¯èƒ½ä¼šæœ‰ä¸€å¤§å †ç†ç”±ï¼Œè¿™ä¸ªé€»è¾‘æ˜¯äº§å“ç»ç†è®¾è®¡çš„ã€å¼€å‘æ—¶é—´å¤ªç´§ã€åœ¨æˆ‘æœ¬åœ°æ˜¯å¥½çš„ã€æµ‹è¯•æ˜¯æ€ä¹ˆæµ‹çš„ï¼Œæœ‰ bug è¿˜èƒ½ä¸Šçº¿ã€‚ã€‚ã€‚ä»¿ä½›æˆ‘è‡ªå·±æ‰æ˜¯æœ€å§”å±ˆçš„é‚£ä¸ªã€‚ä½†æ˜¯ç»†æƒ³ä¸€ä¸‹ï¼Œåˆè·Ÿ <strong>å› ä¸ºåœ°å€å†™é”™ï¼Œæ‰€ä»¥æ¼æ´’</strong> ä¸€æ ·éƒ½æ˜¯ä¸€äº›ç«™ä¸ä½è„šçš„å€Ÿå£ã€‚</p><p>é€»è¾‘æ˜¯äº§å“è®¾è®¡çš„ï¼Œä½†æ˜¯å®ç°æ˜¯è‡ªå·±å®ç°çš„ï¼Œä¹Ÿç»è¿‡äº§å“è¯„å®¡ä¼šã€æŠ€æœ¯è¯„å®¡ä¼šï¼Œè€Œä¸”æ²¡æœ‰æå‡ºå¼‚æ„ã€‚å¼€å‘æ—¶é—´å¤ªç´§ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸é‡åˆ°çš„ï¼Œå·¥æœŸå¤ªç´§çš„ç¡®ä¼šå‡ºç°äº§å“è´¨é‡ä¸‹é™ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯å¿…ç„¶çš„ç†ç”±ã€‚å¦‚æœæ—¶é—´å¤ªç´§æœ‰æ²¡æœ‰å‘ä¸Šæå‡ºå¼‚æ„ï¼Œå¦‚æœæ—¶é—´æ— æ³•å»¶é•¿ï¼Œåœ¨ä¿è¯æ ¸å¿ƒä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦åŒäº§å“å•†é‡è¿‡å‰Šå‡å…¶å®ƒä¸ç´§æ€¥çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¦‚æœéƒ½ä¸å¯ä»¥ï¼Œæ˜¯å¦å‘ä¸Šåé¦ˆäº†è´¨é‡é£é™©ã€‚æœ€åï¼Œå‡ºç°çº¿ä¸Šé—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæµ‹è¯•åŒå­¦æœ‰å¾ˆå¤§çš„è´£ä»»ï¼Œä½†æ˜¯æµ‹è¯•åŒå­¦ï¼Œç‰¹åˆ«æ˜¯åŠŸèƒ½æµ‹è¯•ï¼Œå¾ˆéš¾å®Œå…¨è¦†ç›–æ‰€æœ‰çš„ä¸šåŠ¡åˆ†æ”¯ï¼Œæœ€äº†è§£è‡ªå·±ä»£ç é€»è¾‘çš„åªæœ‰è‡ªå·±ï¼Œå•å…ƒæµ‹è¯•çš„è¦†ç›–ç‡æ˜¯å¦è¾¾æ ‡ã€‚</p><p>å…¶å®åˆä½•æ­¢æ‰“ä»£ç è¿™ä¸€ä»¶äº‹ï¼Œç”Ÿæ´»ä¸­ä¾‹å­æ¯”æ¯”çš†æ˜¯ï¼Œ<strong>é”™äº†ä¸å¯æ€•ï¼Œæ€•çš„æ˜¯è®¤è¯†ä¸åˆ°è‡ªå·±é”™äº†</strong>ã€‚æ‹¿å¤–ç•Œæˆ–ä»–äººçš„è¿‡é”™æ¥æ©ç›–è‡ªå·±çš„é—®é¢˜ï¼Œæ˜¯æ²¡æ³•è¿›æ­¥çš„ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1598093265108-073f57ea-d1d9-41b4-95eb-b13a349c89e4.png#align=left&display=inline&height=164&margin=%5Bobject%20Object%5D&name=image.png&originHeight=328&originWidth=600&size=309171&status=done&style=none&width=300" alt="image.png"></p><h3 id="å·®è¯„çš„æƒåŠ›"><a href="#å·®è¯„çš„æƒåŠ›" class="headerlink" title="å·®è¯„çš„æƒåŠ›"></a>å·®è¯„çš„æƒåŠ›</h3><p>å†è¯´å›å¤–å–çš„äº‹ï¼Œæˆ‘åˆ°æœ€åä¹Ÿæ²¡æœ‰ç»™å°å“¥æ‰“å·®è¯„ã€‚äº‹å®ä¸Šæ— è®ºæ˜¯åœ¨ç½‘è´­ã€å¤–å–è¿˜æ˜¯æ‰“è½¦ã€‚ã€‚ã€‚æœ‰è¯„åˆ†åŠŸèƒ½çš„äº§å“ä¸Šï¼Œæˆ‘å‡ ä¹æ²¡æœ‰æ‰“è¿‡å·®è¯„ï¼Œé™¤éæˆ‘è®¤ä¸ºå¯¹æ–¹æ˜¯æ¶æ„ä¸ºä¹‹ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘éƒ½è¡¨ç¤ºç†è§£ã€‚æ¯æ¬¡æˆ‘æƒ³æ‰“å·®è¯„çš„æ—¶å€™ï¼Œéƒ½ä¼šè„‘è¡¥ä¸€ä¸ªå¤–å–å°å“¥å¹¸å¹¸è‹¦è‹¦è·‘ä¸€å¤©ï¼Œç»“æœå› ä¸ºä¸€æ¬¡å¤±è¯¯è¢«æŠ•è¯‰ï¼Œä¸€å¤©çš„æ”¶å…¥è¢«ç½šæ¬¾ã€‚ä¸€ä¸ªå¸æœºä¸€å¤©å…¢å…¢ä¸šä¸šçš„å¼€è½¦ï¼Œç»“æœå› ä¸ºæŸæ¬¡æ¥ä¹˜å®¢çš„æ—¶å€™ï¼Œèµ°é”™ä¸€ä¸ªè·¯å£ï¼Œå¯¼è‡´å‡ºç°å»¶è¯¯è¢«å·®è¯„ã€‚</p><p>æ„Ÿæ€§ä¸Šï¼Œè®©æˆ‘ä¸€ç›´ä¸è¦æ‰“å·®è¯„ï¼Œä½†æ˜¯ç†æ€§ä¸Šï¼Œæˆ‘åˆä¸€ç›´å‘Šè¯‰æˆ‘è‡ªå·±è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚</p><p>ä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œå¤–å–å¹³å°éƒ½å¤šäº†ä¸ª **å‡†æ—¶èµ”ä»˜ **çš„åŠŸèƒ½ã€‚å¹³å°ä¼šä¼°ç®—ä¸€ä¸ªé€è¾¾æ—¶é—´ï¼Œä½ å¯ä»¥æŒ‰é¤é¢çš„ä¸€å®šæ¯”ä¾‹ä¹°ä»½å‡†æ—¶èµ”ä»˜é™©ã€‚å¦‚æœæ²¡æœ‰æŒ‰æ—¶é€è¾¾ï¼Œä¼šè¿›è¡Œèµ”ä»˜ã€‚åˆšå¼€å§‹çœ‹åˆ°è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—å¾ˆå¥½ã€‚ä½†æ˜¯æ²¡ç”¨å‡ æ¬¡ï¼Œæˆ‘å‘ç°è¿™ä¸ªåŠŸèƒ½å°±æ˜¯ä¸ªé¸¡è‚‹ã€‚å› ä¸ºé‚£äº›å‡†æ—¶çš„å¤–å–å°å“¥ï¼Œä¸ç®¡ä½ ä¹°ä¸ä¹°èµ”ä»˜é™©ï¼Œä»–ä»¬ä¸€èˆ¬éƒ½ä¼šå‡†æ—¶é€åˆ°ã€‚è€Œé‚£äº›ä¸å¤ªå‡†æ—¶çš„å¤–å–å°å“¥ï¼Œé€šå¸¸åœ¨æ—¶é—´æœŸé™å¿«åˆ°çš„æ—¶å€™ï¼Œæ‰“ä¸ªç”µè¯ç»™ä½ ï¼Œè¯´ä»–åœ¨æ¥¼ä¸‹äº†ï¼Œæˆ–è€…å¿«åˆ°äº†ï¼Œä»–ä»¬å…ˆç‚¹å·²é€è¾¾ç„¶åå…³é—­è®¢å•äº†ï¼Œæ›´æœ‰ç”šè€…ç›´æ¥ä¸€å£°ä¸å­ç‚¹äº†å·²é€è¾¾ï¼Œå®é™…ä¸Šè¶…è¿‡çº¦å®šæ—¶é—´å¾ˆä¹…æ‰é€åˆ°ã€‚è€Œèµ”ä»˜é™©æ˜¯æŒ‰å¤–å–å°å“¥ç‚¹å‡»å·²é€è¾¾çš„æ—¶é—´ä¸ºå‡†ï¼Œæ‰€ä»¥å‡ ä¹æ²¡æœ‰ä»€ä¹ˆçº¦æŸåŠ›ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿæˆ‘è§‰å¾—å°±æ˜¯å› ä¸ºæˆ‘æ”¾å¼ƒäº†å·®è¯„çš„æƒåŠ›ï¼Œæ²¡æœ‰åŠæ—¶çš„è´Ÿé¢åé¦ˆï¼Œäº‹æƒ…å°±å‘æ›´è´Ÿé¢çš„æ–¹å‘å‘å±•ã€‚</p><p>å¦‚æœä»”ç»†æƒ³æƒ³è¿™ä¸ª <strong>å‡†æ—¶èµ”ä»˜é™©</strong> æœ¬èº«å°±æ˜¯å¾ˆè’å”çš„ä¸€ä»¶äº‹ã€‚ä¹Ÿæ˜¯æ¶ˆè´¹è€…æ”¾å¼ƒè‡ªå·±å·®è¯„æƒåŠ›é€ æˆçš„ã€‚è¯•æƒ³æˆ‘ä¹°äº†ä¸€ä»½å¤–å–ï¼Œå¹³å°å‘Šè¯‰æˆ‘ä¼šåœ¨æŸä¸ªæ—¶é—´é€è¾¾ï¼Œè¿™ç®—æ˜¯ä¸€ç§å¥‘çº¦äº†ï¼Œä½†æ˜¯æˆ‘ä¸ºäº†å¤–å–å°å“¥æŒ‰å¹³å°çº¦å®šçš„æ—¶é—´é€åˆ°ï¼Œæˆ‘éœ€å†é¢å¤–åŠ é’±ä¹°ä¸ª <strong>å‡†æ—¶èµ”ä»˜é™© **è®©ä»–å»å±¥è¡Œå½“åˆæœ¬è¯¥å±¥è¡Œçš„å¥‘çº¦ã€‚å¤–å–è´¹ç”¨å°±å˜æˆäº† **æœ¬èº«é¤è´¹ + è¿é€è´¹ + å‡†æ—¶é€åˆ°çš„é¢å¤–è´¹ **ã€‚è¿™å°±åƒ A å€Ÿç»™ B 100 å—é’±ï¼Œç„¶åå¿«åˆ°äº†è¿˜é’±çš„æ—¶å€™ï¼ŒB å¯¹ A è¯´ï¼Œ</strong>å¦‚æœæƒ³è®©æˆ‘å‡†æ—¶è¿˜é’±ã€‚é‚£ä½ å¾—å…ˆç»™æˆ‘é’±ã€‚**</p><p>è®°å¾—æœ‰ä¸€æ¬¡ã€Šå¥‡è‘©è¯´ã€‹ï¼Œå¥½åƒæœ‰ä¸€ä¸ªç±»ä¼¼ç»™ä¸ç»™å·®è¯„çš„è¾©é¢˜ã€‚æœ‰ä¸€ä¸ªå‘è¨€è®©æˆ‘å°è±¡æ·±åˆ»ï¼Œå¥¹è¯´ <strong>å¯¹äºå‡ºé”™çš„å¤–å–å°å“¥ï¼Œå¥¹è¡¨ç¤ºæ„Ÿæƒ…ä¸Šçš„ç†è§£ï¼Œä½†æ˜¯å¥¹è¿˜æ˜¯è¦ç»™å·®è¯„ï¼Œå› ä¸ºå¦‚æœä¸ç»™ï¼Œé‚£å°±æ˜¯å¯¹é‚£äº›æ²¡æœ‰å‡ºé”™çš„å¤–å–å°å“¥ä¸å…¬å¹³ï¼Œ</strong>æˆ‘æ·±ä»¥ä¸ºç„¶ã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€æµ‹è¯•ã€‘ Javaå¦‚ä½•ä¼˜é›…çš„ç”Ÿæˆæµ‹è¯•æ•°æ®</title>
      <link href="/posts/ca9ab046/"/>
      <url>/posts/ca9ab046/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1596466683511-3126376c-fb13-4a4c-9b14-3b31d8aa198c.png#align=left&display=inline&height=383&margin=%5Bobject%20Object%5D&name=image.png&originHeight=383&originWidth=900&size=38900&status=done&style=none&width=900" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨æ—¥å¸¸çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æå‰å‡†å¤‡ä¸€å¤§å †æµ‹è¯•æ•°æ®ï¼Œç”¨æ¥éªŒè¯ä¸šåŠ¡é€»è¾‘ã€‚å½“ç„¶å¯¹äºç®€å•çš„æ•°æ®ç±»å‹å®Œå…¨å¯ä»¥é€šè¿‡ JDK è‡ªå¸¦çš„ Â <code>Random</code>Â  ç±»æ¥å®ç°ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„ç±»ï¼Œæˆ–è€…å‚æ•°çš„æ ¼å¼æœ‰ç‰¹æ®Šè¦æ±‚çš„æ—¶å€™ï¼Œ<code>Random</code>Â  å°±ä¸é€‚ç”¨äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å€ŸåŠ©ä¸€äº›èƒ½å¤Ÿç”Ÿæˆæµ‹è¯•æ•°æ®çš„æ¡†æ¶ã€‚</p><h2 id="ç›¸å…³æ¡†æ¶"><a href="#ç›¸å…³æ¡†æ¶" class="headerlink" title="ç›¸å…³æ¡†æ¶"></a>ç›¸å…³æ¡†æ¶</h2><p>æˆ‘åœ¨å®é™…è°ƒç ”ä¸­ï¼Œæ‰¾åˆ°äº† 2 ä¸ªåœ¨ä¸ªäººçœ‹æ¥è¿˜ä¸é”™çš„ç”Ÿæˆæ¡†æ¶ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š</p><ol><li><a href="https://github.com/jsonzou/jmockdata">jmockdata</a></li><li><a href="https://github.com/DiUS/java-faker">java-faker</a></li></ol><p>ä¸‹é¢æˆ‘å°†ä¸€ä¸€ä»‹ç»è¿™äº›æ¡†æ¶çš„ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯ã€‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹æ’¸ä»£ç ã€‚</p><h3 id="JmockData"><a href="#JmockData" class="headerlink" title="JmockData"></a>JmockData</h3><p>é¦–å…ˆå‡ºåœºçš„æ˜¯ JmockData æ¡†æ¶ï¼Œå®ƒæ˜¯å®˜æ–¹å®šä¹‰å¦‚ä¸‹ï¼š</p><blockquote><p>ä¸€æ¬¾å®ç°æ¨¡æ‹Ÿ JAVA ç±»å‹æˆ–å¯¹è±¡çš„å®ä¾‹åŒ–å¹¶éšæœºåˆå§‹åŒ–å¯¹è±¡çš„æ•°æ®çš„å·¥å…·æ¡†æ¶ã€‚</p></blockquote><h4 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.jsonzou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jmockdata<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŸºç¡€ç±»å‹æ•°æ®ç”Ÿæˆ"><a href="#åŸºç¡€ç±»å‹æ•°æ®ç”Ÿæˆ" class="headerlink" title="åŸºç¡€ç±»å‹æ•°æ®ç”Ÿæˆ"></a>åŸºç¡€ç±»å‹æ•°æ®ç”Ÿæˆ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBaseType</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// åŸºç¡€æ•°æ®ç±»å‹</span></span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">byte</span>.class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">int</span>.class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">long</span>.class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">double</span>.class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">float</span>.class));</span><br><span class="line">    System.out.println(JMockData.mock(String.class));</span><br><span class="line">    System.out.println(JMockData.mock(BigDecimal.class));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸºç¡€æ•°æ®ç±»å‹çš„æ•°ç»„</span></span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">byte</span>[].class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">int</span>[].class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">long</span>[].class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">double</span>[].class));</span><br><span class="line">    System.out.println(JMockData.mock(<span class="keyword">float</span>[].class));</span><br><span class="line">    System.out.println(JMockData.mock(String[].class));</span><br><span class="line">    System.out.println(JMockData.mock(BigDecimal[].class));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">2610</span></span><br><span class="line"><span class="number">3401</span></span><br><span class="line"><span class="number">8582.18</span></span><br><span class="line"><span class="number">7194.44</span></span><br><span class="line"><span class="number">5</span>Xu7</span><br><span class="line"><span class="number">9051.92</span></span><br><span class="line">[B@<span class="number">7f</span>be847c</span><br><span class="line">[I@<span class="number">41975e01</span></span><br><span class="line">[J<span class="meta">@c2e1f26</span></span><br><span class="line">[D<span class="meta">@dcf3e99</span></span><br><span class="line">[F@<span class="number">6d</span>9c638</span><br><span class="line">[Ljava.lang.String;@<span class="number">7d</span>c5e7b4</span><br><span class="line">[Ljava.math.BigDecimal;@<span class="number">1</span>ee0005</span><br></pre></td></tr></table></figure><h4 id="JavaBean-ç±»å‹æ•°æ®ç”Ÿæˆ"><a href="#JavaBean-ç±»å‹æ•°æ®ç”Ÿæˆ" class="headerlink" title="JavaBean ç±»å‹æ•°æ®ç”Ÿæˆ"></a>JavaBean ç±»å‹æ•°æ®ç”Ÿæˆ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java bean æµ‹è¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testJavaBean</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Person mock = JMockData.mock(Person.class);</span><br><span class="line">    System.out.println(mock);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¿è¡Œç»“æœ-1"><a href="#è¿è¡Œç»“æœ-1" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person[address=RrayfQIK,age=<span class="number">5863</span>,idCard=SDn,name=j]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ <code>JMockdata.mock(xx.class);</code> å¯ä»¥å¾ˆå®¹æ˜“çš„ç”Ÿæˆä¸€ä¸ª JavaBeanã€‚æ¡†æ¶é€šè¿‡åå°„ï¼Œåœ¨åº•å±‚éå†è·å¾—ç±»çš„å±æ€§ä¸ç±»å‹ï¼Œç„¶åå¡«å……æ•°æ®ã€‚</p><p>ä½†æ˜¯ä¸æ­¤åŒæ—¶ï¼Œå¤§å®¶ä¹Ÿå‘ç°äº†ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥çš„çš„ç¡®ç¡®çš„ç”Ÿæˆäº†ä¸€ä¸ª <code>Person</code> ç±»ï¼Œä¹Ÿç»™å®ƒçš„æ¯ä¸ªå±æ€§éƒ½å¡«å……äº†å€¼ï¼Œä½†æ˜¯ç”Ÿæˆçš„æ•°æ®åªæ˜¯æ ¹æ®ç±»å‹ç®€å•ç”Ÿæˆçš„ï¼Œæ¯”å¦‚ <code>age</code> å­—æ®µè¢«å¡«å……çš„æ˜¯ 5863ã€‚å¦‚æœæ•°æ®æœ‰ç°å®å«ä¹‰ï¼Œæ²¡æœ‰è§„åˆ™çš„éšæœºå°±å¾ˆå®¹æ˜“å‡ºç°ä¹Œé¾™ã€‚</p><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±è¦é™åˆ¶éšæœºæ•°æ®çš„èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡å®ƒçš„é…ç½®åŠŸèƒ½å®ç°ã€‚</p><h4 id="ä½¿ç”¨éšæœºé…ç½®"><a href="#ä½¿ç”¨éšæœºé…ç½®" class="headerlink" title="ä½¿ç”¨éšæœºé…ç½®"></a>ä½¿ç”¨éšæœºé…ç½®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testJavaBeanWithConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    MockConfig mockConfig =</span><br><span class="line">            <span class="keyword">new</span> MockConfig()</span><br><span class="line">                    .subConfig(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">                    <span class="comment">// è®¾ç½® int çš„èŒƒå›´</span></span><br><span class="line">                    .intRange(<span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">                    .subConfig(<span class="string">&quot;email&quot;</span>)</span><br><span class="line">                    <span class="comment">// è®¾ç½®ç”Ÿæˆé‚®ç®±æ­£åˆ™</span></span><br><span class="line">                    .stringRegex(<span class="string">&quot;[a-z0-9]&#123;5,15&#125;\\@\\w&#123;3,5&#125;\\.[a-z]&#123;2,3&#125;&quot;</span>)</span><br><span class="line">                    .globalConfig();</span><br><span class="line"></span><br><span class="line">    Person mock = JMockData.mock(Person.class, mockConfig);</span><br><span class="line">    System.out.println(mock);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¿è¡Œç»“æœ-2"><a href="#è¿è¡Œç»“æœ-2" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person[address=hXttj2s,age=<span class="number">2</span>,email=w14hnn<span class="meta">@UvFB9</span>.kt,idCard=V5bBdX,name=KM8]</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° <code>age</code> è·Ÿ <code>email</code> å·²ç»æ­£å¸¸äº†ï¼Œå¯ä»¥é€šè¿‡ä»–å¼ºå¤§çš„é…ç½®åŠŸèƒ½å¯¹äºæ•°æ®è¿›è¡Œç”Ÿæˆçš„é™åˆ¶ï¼Œä½†æ˜¯ä½ ä¹Ÿå‘ç°äº†ï¼Œå¯¹äºä¸€äº›æœ‰ç®€å•è¾¹ç•Œçš„æ•°æ®ï¼Œè¿™æ ·åšå¯ä»¥ï¼Œå¦åˆ™å°±åƒ address ã€ name è¿™æ ·çš„æ•°æ®ï¼Œå¾ˆéš¾é€šè¿‡ç®€å•è§„åˆ™å»ç”Ÿæˆã€‚</p><p>è€Œå¯¹äºæœ‰ç°å®æ„ä¹‰çš„æ•°æ®ç”Ÿæˆï¼Œå¯ä»¥ä½¿ç”¨ java-faker æ¡†æ¶ã€‚</p><h3 id="Java-faker"><a href="#Java-faker" class="headerlink" title="Java-faker"></a>Java-faker</h3><h4 id="ä¾èµ–-1"><a href="#ä¾èµ–-1" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.javafaker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javafaker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ•°æ®ç”Ÿæˆ"><a href="#æ•°æ®ç”Ÿæˆ" class="headerlink" title="æ•°æ®ç”Ÿæˆ"></a>æ•°æ®ç”Ÿæˆ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRandomName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Faker faker = <span class="keyword">new</span> Faker();</span><br><span class="line">    <span class="keyword">final</span> Name name = faker.name();</span><br><span class="line">    System.out.println(<span class="string">&quot;firstName : &quot;</span> + name.firstName());</span><br><span class="line">    System.out.println(<span class="string">&quot;username : &quot;</span> + name.username());</span><br><span class="line">    System.out.println(<span class="string">&quot;bloodGroup : &quot;</span> + name.bloodGroup());</span><br><span class="line">    System.out.println(<span class="string">&quot;suffix : &quot;</span> + name.suffix());</span><br><span class="line">    System.out.println(<span class="string">&quot;title : &quot;</span> + name.title());</span><br><span class="line">    System.out.println(<span class="string">&quot;lastName : &quot;</span> + name.lastName());</span><br><span class="line">    System.out.println(<span class="string">&quot;nameWithMiddle : &quot;</span> + name.nameWithMiddle());</span><br><span class="line">    System.out.println(<span class="string">&quot;fullName : &quot;</span> + name.fullName());</span><br><span class="line">    System.out.println(<span class="string">&quot;name : &quot;</span> + name.name());</span><br><span class="line">    System.out.println(<span class="string">&quot;prefix : &quot;</span> + name.prefix());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç”Ÿæˆç»“æœ"><a href="#ç”Ÿæˆç»“æœ" class="headerlink" title="ç”Ÿæˆç»“æœ"></a>ç”Ÿæˆç»“æœ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">firstName : Hollis</span><br><span class="line">username : cristy.white</span><br><span class="line">bloodGroup : O-</span><br><span class="line">suffix : Sr.</span><br><span class="line">title : Product Implementation Specialist</span><br><span class="line">lastName : Johnston</span><br><span class="line">nameWithMiddle : Alesia Hagenes Kiehn</span><br><span class="line">fullName : Dr. Pat Marvin</span><br><span class="line">name : Ms. Jamal Rau</span><br><span class="line">prefix : Mr.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° java-faker ç”Ÿæˆæ•°æ®ç‰¹åˆ«çš„æ–¹ä¾¿ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      Faker faker = <span class="keyword">new</span> Faker();</span><br><span class="line">      <span class="keyword">final</span> Xx xx = faker.xx();</span><br><span class="line">xx.yyyy;</span><br></pre></td></tr></table></figure><p>æ­¥éª¤ï¼š</p><ol><li>åˆ›å»º faker å¯¹è±¡</li><li>é€šè¿‡ faker å¯¹è±¡è·å¾—è¦ç”Ÿæˆçš„å®ä½“å¯¹è±¡</li><li>è°ƒç”¨å®ä½“å¯¹è±¡è·å¾—å¯¹äºç”Ÿæˆçš„éƒ¨åˆ†</li></ol><p>è¿™é‡Œçš„å®ä½“å¯¹è±¡ï¼Œå¯¹åº”ä¸Šé¢çš„ nameï¼Œä¹Ÿå°±è¯´æˆ‘ä»¬è¦ç”Ÿæˆå§“åç›¸å…³çš„æ•°æ®ï¼Œæ‹¿åˆ°å®ä½“å¯¹è±¡åè¿˜å¯ä»¥åªè·å¾—å…¶ä¸­çš„éƒ¨åˆ†æ•°æ®ï¼Œæ¯”å¦‚å§“åä¸­çš„å§“æˆ–åï¼Œè¿˜æœ‰å‰ç¼€ï¼Œç”šè‡³è¡€å‹ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸å…¨é¢ã€‚</p><p>è€Œä¸” java-faker æ”¯æŒçš„å®ä½“å¯¹è±¡ç‰¹åˆ«çš„å¤šï¼Œå¦‚ä¸‹ï¼š</p><blockquote><ul><li>Address</li><li>Ancient</li><li>Animal</li><li>App</li><li>Aqua Teen Hunger Force</li><li>Artist</li><li>Avatar</li><li>Back To The Future</li><li>Aviation</li><li>Basketball</li><li>Beer</li><li>Bojack Horseman</li><li>Book</li><li>Bool</li><li>Business</li><li>ChuckNorris</li><li>Cat</li><li>Code</li><li>Coin</li><li>Color</li><li>Commerce</li><li>Company</li><li>Crypto</li><li>DateAndTime</li><li>Demographic</li><li>Disease</li><li>Dog</li><li>DragonBall</li><li>Dune</li><li>Educator</li><li>Esports</li><li>File</li><li>Finance</li><li>Food</li><li>Friends</li><li>FunnyName</li><li>GameOfThrones</li><li>Gender</li><li>Hacker</li><li>HarryPotter</li><li>Hipster</li><li>HitchhikersGuideToTheGalaxy</li><li>Hobbit</li><li>HowIMetYourMother</li><li>IdNumber</li><li>Internet</li><li>Job</li><li>Kaamelott</li><li>LeagueOfLegends</li><li>Lebowski</li><li>LordOfTheRings</li><li>Lorem</li><li>Matz</li><li>Music</li><li>Name</li><li>Nation</li><li>Number</li><li>Options</li><li>Overwatch</li><li>PhoneNumber</li><li>Pokemon</li><li>Princess Bride</li><li>Relationship Terms</li><li>RickAndMorty</li><li>Robin</li><li>RockBand</li><li>Shakespeare</li><li>SlackEmoji</li><li>Space</li><li>StarTrek</li><li>Stock</li><li>Superhero</li><li>Team</li><li>TwinPeaks</li><li>University</li><li>Weather</li><li>Witcher</li><li>Yoda</li><li>Zelda</li></ul></blockquote><p>ä»èº«ä»½è¯åˆ°å§“åå†åˆ°åœ°å€ã€åŠ¨ç‰©ã€ä¹¦ç±ã€å¤´åƒã€èŒä½ç­‰ç­‰ï¼ŒåŸºæœ¬ä¸Šè¦†ç›–äº†æˆ‘ä»¬ç”Ÿæ´»ä¸­çš„æ–¹æ–¹é¡µé¢ã€‚</p><p>å¦å¤–ï¼Œjava-faker æ›´è´´å¿ƒçš„æ˜¯å¸®æˆ‘ä»¬å®ç°äº†å›½é™…åŒ–ï¼Œå¯èƒ½åˆšæ‰çœ‹äº†å§“åçš„ä¾‹å­ï¼Œæœ‰äº›æœ‹å‹è§‰å¾—è¿™ä¸ªæ¡†æ¶å¥½çœ‹ä½†ä¸å¥½ç”¨ï¼Œå°±æ‹¿ç”Ÿæˆå§“åæ¥è¯´ï¼Œç”Ÿæˆéƒ½æ˜¯ Johnstonã€Tomã€Kiwi ä¹‹ç±»è‹±æ–‡åï¼Œåœ¨å›½å†…å¾ˆå°‘ç”¨åˆ°è¿™äº›æ•°æ®ã€‚å…¶å® java-faker å·²ç»è€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜ã€‚è€Œä¸”åªè¦æ”¹ä¸€è¡Œä»£ç å°±å¯ä»¥äº†ã€‚</p><h5 id="ä¿®æ”¹åçš„ä»£ç "><a href="#ä¿®æ”¹åçš„ä»£ç " class="headerlink" title="ä¿®æ”¹åçš„ä»£ç "></a>ä¿®æ”¹åçš„ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸä»£ç  Faker faker = new Faker();</span></span><br><span class="line"><span class="comment">// æ–°ä»£ç </span></span><br><span class="line">      Faker faker = <span class="keyword">new</span> Faker(Locale.CHINA);</span><br><span class="line">      <span class="keyword">final</span> Name name = faker.name();</span><br><span class="line">      System.out.println(<span class="string">&quot;firstName : &quot;</span> + name.firstName());</span><br><span class="line">      System.out.println(<span class="string">&quot;username : &quot;</span> + name.username());</span><br><span class="line">      System.out.println(<span class="string">&quot;bloodGroup : &quot;</span> + name.bloodGroup());</span><br><span class="line">      System.out.println(<span class="string">&quot;suffix : &quot;</span> + name.suffix());</span><br><span class="line">      System.out.println(<span class="string">&quot;title : &quot;</span> + name.title());</span><br><span class="line">      System.out.println(<span class="string">&quot;lastName : &quot;</span> + name.lastName());</span><br><span class="line">      System.out.println(<span class="string">&quot;nameWithMiddle : &quot;</span> + name.nameWithMiddle());</span><br><span class="line">      System.out.println(<span class="string">&quot;fullName : &quot;</span> + name.fullName());</span><br><span class="line">      System.out.println(<span class="string">&quot;name : &quot;</span> + name.name());</span><br><span class="line">      System.out.println(<span class="string">&quot;prefix : &quot;</span> + name.prefix());</span><br></pre></td></tr></table></figure><h5 id="ç”Ÿæˆç»“æœ-1"><a href="#ç”Ÿæˆç»“æœ-1" class="headerlink" title="ç”Ÿæˆç»“æœ"></a>ç”Ÿæˆç»“æœ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">firstName : ç† å½¤</span><br><span class="line">username : çƒ¨éœ–.é¾™</span><br><span class="line">bloodGroup : A-</span><br><span class="line">suffix : IV</span><br><span class="line">title : Investor Division Engineer</span><br><span class="line">lastName : èŒƒ</span><br><span class="line">nameWithMiddle : èƒ¡æ€</span><br><span class="line">fullName : å­Ÿé¸¿æ¶›</span><br><span class="line">name : é»èˆª</span><br><span class="line">prefix : Miss</span><br></pre></td></tr></table></figure><p>åªéœ€è¦ï¼ŒæŠŠä¹‹å‰çš„ Faker faker = new Faker(); æ”¹æˆ Faker faker = new Faker(Locale.CHINA); å³å¯ã€‚å¦‚æœä½ æƒ³ç”Ÿæˆå…¶å®ƒå›½å®¶çš„å†…å®¹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œjava-faker æ”¯æŒçš„å›½å®¶å¦‚ä¸‹ï¼š</p><blockquote><ul><li>bg</li><li>ca</li><li>ca-CAT</li><li>da-DK</li><li>de</li><li>de-AT</li><li>de-CH</li><li>en</li><li>en-AU</li><li>en-au-ocker</li><li>en-BORK</li><li>en-CA</li><li>en-GB</li><li>en-IND</li><li>en-MS</li><li>en-NEP</li><li>en-NG</li><li>en-NZ</li><li>en-PAK</li><li>en-SG</li><li>en-UG</li><li>en-US</li><li>en-ZA</li><li>es</li><li>es-MX</li><li>fa</li><li>fi-FI</li><li>fr</li><li>he</li><li>hu</li><li>in-ID</li><li>it</li><li>ja</li><li>ko</li><li>nb-NO</li><li>nl</li><li>pl</li><li>pt</li><li>pt-BR</li><li>ru</li><li>sk</li><li>sv</li><li>sv-SE</li><li>tr</li><li>uk</li><li>vi</li><li>zh-CN</li><li>zh-TW</li></ul></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="JmockData-1"><a href="#JmockData-1" class="headerlink" title="JmockData"></a>JmockData</h3><p>ä¸ªäººæ„Ÿè§‰å®ƒæ˜¯ plus ç‰ˆçš„ Random ç±»ï¼Œæ–¹ä¾¿ç®€å•çš„æŒ‰ç±»å‹ç”Ÿæˆæ•°æ®ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç»™å®šé…ç½®ä¸è§„åˆ™å»ç”Ÿæˆï¼Œç¼ºç‚¹ï¼Œä¸Šæ–‡ä¹Ÿè¯´äº†ï¼Œç”Ÿæˆçš„æ•°æ®æ²¡æœ‰å¤ªå¤šå®é™…æ„ä¹‰ï¼Œç®€å•æ•°æ®è¿˜å¥½ï¼Œå¦‚æœåƒå§“åã€åœ°å€ç­‰æœ‰ç°å®æ„ä¹‰çš„æ•°æ®ï¼Œå°±ä¸å¤ªåˆé€‚äº†ã€‚</p><h3 id="Java-faker-1"><a href="#Java-faker-1" class="headerlink" title="Java-faker"></a>Java-faker</h3><p>java-faker å…¶å®æ˜¯è¿ç§»è‡ª ruby ä¸­å¤§åé¼é¼çš„ fakerã€‚å¾ˆå¤šè¯­è¨€éƒ½æœ‰ä»–çš„å¯¹åº”è¿ç§»ï¼Œæ¯”å¦‚ pythonã€javaã€‚æ‰€ä»¥æ•°æ®é‡å’ŒåŠŸèƒ½æ˜¯å¾ˆå®Œå–„å¹¶ä¸”ç»è¿‡è€ƒéªŒçš„ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚å®é™…å·¥ä½œä¸­ï¼Œå¯ä»¥ä¼˜åŒ–ä½¿ç”¨ã€‚å¦‚æœè¦è¯´ç¼ºç‚¹ï¼Œä¸ªäººè§‰å¾—ä»–æœ‰äº›åœ°æ–¹å›½é™…åŒ–çš„å¹¶ä¸å…¨é¢ï¼Œæ¯”å¦‚è½¦ç‰Œã€èº«ä»½è¯ä¹‹ç±»çš„ã€‚å¦‚æœå¯¹äºè¿™äº›æ•°æ®æœ‰æ¯”è¾ƒä¸¥æ ¼çš„è¦æ±‚ï¼Œæ¨èå¦ä¸€ä¸ªé¡¹ç›® <a href="https://github.com/yindz/common-random">yindz/common-random: ç®€å•æ˜“ç”¨çš„éšæœºæ•°æ®ç”Ÿæˆå™¨ã€‚</a>è¿™ä¸ªé¡¹ç›®å¯¹äºæœ¬åœ°åŒ–æ•°æ®ï¼Œåšäº†å¾ˆå¤šå¤„ç†ï¼ŒåŸºæœ¬å¤Ÿç”¨ã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€éšç¬”ã€‘å¼€æºä¹‹æ®‡</title>
      <link href="/posts/3bff6daa/"/>
      <url>/posts/3bff6daa/</url>
      
        <content type="html"><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585665681398-9d34e534-df66-4ee2-a177-8ac14fbdfc86.png#align=left&display=inline&height=383&name=image.png&originHeight=383&originWidth=900&size=288525&status=done&style=none&width=900" alt="image.png"></h1><h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p>è¿™ä¸¤å¤©æœ‰ä¸ª<a href="https://www.ithome.com/0/480/137.htm">æ–°é—»</a>æ¯”è¾ƒç«ï¼Œä¸€ä¸ªå«ä¸¹å°¼æ–¯Â·æ™®ä»€å¡åˆ—å¤«çš„ä¿„ç½—æ–¯ç¨‹åºå‘˜ï¼Œå› ä¸ºéª‘è½¦æ’äººè¢«åˆ¤ 18 ä¸ªæœˆã€‚éª‘è½¦æ’äººå¯èƒ½ä¸æ˜¯ä»€ä¹ˆå¤§æ–°é—»ï¼Œé€ æˆä¸¥é‡åæœçš„ï¼Œè¢«åˆ¤åˆ‘ä¹Ÿæ— å¯åšéã€‚</p><p>å¯é—®é¢˜å°±å‡ºåœ¨è¿™ä¸ªæ’äººçš„ç¨‹åºå‘˜ä¸Šï¼Œä»–æ˜¯å‰ç«¯çŸ¥åå¼€æºæ¡†æ¶ <a href="https://github.com/zloirock/core-js">core-js</a> çš„ä½œè€…ã€‚è¿™ä¸ªåº“æœ‰å¤šçŸ¥åå‘¢ï¼Ÿåæ­£è‹¹æœå…¬å¸åœ¨ä½¿ç”¨ï¼Œå¹¶ä¸” vue ä¹Ÿä¾èµ–è¿™ä¸ªé¡¹ç›®ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585656907662-cfbdaf7d-0893-4853-bdc5-53462a4f28f9.png#align=left&display=inline&height=441&name=image.png&originHeight=882&originWidth=2550&size=257910&status=done&style=none&width=1275" alt="image.png"></p><p>ä¸Šå›¾æ˜¯ core-js åœ¨ npm çš„é¡¹ç›®æˆªå›¾ï¼Œå¯ä»¥çœ‹åˆ°æ¯å‘¨æœ‰ 2600w+ æ¬¡çš„ä¸‹è½½é‡ã€‚è¿™ä¸ªä½“é‡å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå‰ç«¯ç”Ÿæ€çš„åŸºç¡€æ¡†æ¶äº†ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘åªæƒ³è¡¨è¾¾è¿™ä¸ªé¡¹ç›®çœŸçš„å¾ˆé‡è¦ï¼Œæœ‰å¾ˆå¤šå¾ˆå¤šäººæ¯å¤©éƒ½åœ¨ä½¿ç”¨ã€‚</p><p>æ‰€ä»¥åœ¨å¾—çŸ¥ä½œè€…è¢«åˆ¤åˆ‘ä¹‹åå¼•èµ·äº†å¾ˆå¤šäººçš„æ‹…å¿§ï¼Œé¡¹ç›®æ²¡äººç»´æŠ¤äº†ï¼Œåœ¨é¡¹ç›®çš„ github ä¸Šçš„ issues å°±æœ‰äººç›´æ¥äº†å½“çš„é—®ä½œè€…ï¼Œå…¥ç‹±ä¹‹åè¿™ä¸ªé¡¹ç›®æ€ä¹ˆåŠã€‚</p><p>æœ‰äººæè®®ä½œè€…è½¬ç§» core-js çš„æ§åˆ¶æƒï¼Œæ¯•ç«Ÿä»–æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´æ˜¯æ²¡æ³•ç»´æŠ¤çš„ã€‚ç”šè‡³è¿˜æœ‰äººå»ºè®®ä½œè€…åœ¨ç›‘ç‹±çš„å›¾ä¹¦é¦†é‡Œç»§ç»­ç»´æŠ¤è¿™ä¸ªé¡¹ç›®ã€‚</p><p>æ€»ä¹‹å¤§å¤šäººå…³å¿ƒçš„æ˜¯è¿™ä¸ªå¼€æºé¡¹ç›®æœªæ¥æ˜¯å¦èƒ½ç»§ç»­ç¨³å®šçš„ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä½œè€…æœ¬äººä»¥åŠäº¤é€šäº‹æ•…çš„å—å®³è€…ã€‚è™½è¯´ä¸ä¸Šå¯¹é”™ï¼Œä½†æ€»æ„Ÿæ‚²å‡‰ï¼Œäººéƒ½å·²ç»å…¥ç‹±äº†ï¼Œè¿˜è¢«äººå‚¬ç€ç»´æŠ¤é¡¹ç›®ã€‚</p><h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p>å¦ä¸€ä»¶äº‹ï¼Œéƒ¨åˆ†äººå¯èƒ½æœ‰äº›å°è±¡ï¼Œ2017 å¹´çš„å¹´ä¸­çš„æ—¶å€™ï¼Œæœ‰ä¸€ç¯‡æ–‡ç« åœ¨å¼€æºç•Œä¼ çš„å¾ˆå¹¿ã€‚å¸–å­çš„æ ‡é¢˜å«ä½œ Â <a href="https://www.v2ex.com/t/367424">çŸ¥åå…¬å¸ï¼ˆåŠªæ¯”äºš/ä¸­å…´ï¼‰æ‹¿æˆ‘çš„å¼€æºè½¯ä»¶ï¼ˆ XXL-JOBï¼‰ç”³è¯·å›½å®¶çŸ¥è¯†ä¸“åˆ©ï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ</a>éƒ¨åˆ†å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585659106524-005508a6-23a1-4bd7-ad4c-0ae1ea443947.png#align=left&display=inline&height=591&name=image.png&originHeight=1182&originWidth=1518&size=460162&status=done&style=none&width=759" alt="image.png"></p><p>ä¸€å®¶å›½å†…çŸ¥åä¼ä¸šæŠŠä¸€ä¸ªå¼€æºé¡¹ç›®ä¸€å­—æœªæ”¹çš„æ‹¿å–ç”³è¯·äº†å›½å®¶ä¸“åˆ©ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ è¾›è¾›è‹¦è‹¦å†™çš„ä»£ç ï¼Œæ— å¿ç»™åˆ«äººä½¿ç”¨ï¼Œåˆ«äººæ‹¿ç€ä½ çš„ä»£ç å»ç”³è¯·äº†çŸ¥è¯†äº§æƒï¼Œåˆ°å¤´æ¥è‡ªå·±ä½¿ç”¨è‡ªå·±çš„é¡¹ç›®éƒ½å¯èƒ½è¢«å‘Šä¾µæƒã€‚æ˜¯ä¸æ˜¯å¾ˆé­”å¹»ã€‚</p><p>å…¶å®è¿™ä¸ªå¼€æºé¡¹ç›®åœ¨ä¸šå†…æœ‰ä¸€å®šçš„çŸ¥ååº¦ï¼Œä½œè€…æœ¬èº«ä¹Ÿæœ‰ä¸€å®šçš„å½±å“åŠ›ã€‚ç”šè‡³å½“æ—¶å¼€æºä¸­å›½ç½‘ç«™ä¹Ÿä»‹å…¥ç»´æƒã€‚ä¸‹é¢æ˜¯å¼€æºä¸­å›½å®˜æ–¹çš„<a href="https://my.oschina.net/javayou/blog/918941">ç»´æƒè¿›å±•æŠ¥å‘Š</a>ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585660110740-818e47fa-3771-428b-b6f0-9100343f4b77.png#align=left&display=inline&height=621&name=image.png&originHeight=1242&originWidth=1848&size=300281&status=done&style=none&width=924" alt="image.png"></p><p>æ³¨æ„è¿™ä¸ªæœ€æ–°è¿›å±•æŠ¥å‘Šçš„å‘å¸ƒæ—¶é—´åŠæ–‡ç« çš„æœ€åä¸€å¥è¯ã€‚åˆ°å†™æœ¬æ–‡æ—¶ï¼ˆ2020-03-31ï¼‰ï¼Œæˆ‘ä»ç„¶å¯ä»¥åœ¨ä¸“åˆ©ç½‘ç«™ä¸Šæ‰¾åˆ°è¿™ä¸ªä¸“åˆ©ç”³è¯·ã€‚å¤§æ¦‚ç‡æ°¸è¿œä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆæ”¹å˜ã€‚</p><h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>å»å¹´ï¼Œæˆ‘åœ¨ v ç«™çœ‹åˆ°äº†ä¸€ç¯‡å¸–å­ï¼Œä¸€ç›´åœ¨è„‘æµ·é‡Œä¹…ä¹…ä¸èƒ½å¹³æ¯ï¼Œå¸–å­çš„æ ‡é¢˜æ˜¯ Â <a href="https://www.v2ex.com/t/625470">ç¨‹åºå‘˜æ€»å–œæ¬¢è‡ªæ–­åè·¯ï¼Œéš¾æ€ªèŒä¸šç”Ÿæ¶¯åªèƒ½åˆ° 35 å²</a>Â ã€‚åŸå¸–å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585660758808-70f7f05f-4962-4b4f-b8a3-04403d9cbb41.png#align=left&display=inline&height=891&name=image.png&originHeight=1783&originWidth=1520&size=625284&status=done&style=none&width=760" alt="image.png"></p><p>å¦‚æœæ—©å‡ å¹´ï¼Œæˆ‘è¿˜åœ¨å­¦æ ¡ï¼Œæˆ–è€…åˆšåˆšæ¥è§¦ IT è¡Œä¸šï¼Œæˆ‘ç‚¹å¼€è¿™ç¯‡æ–‡ç« ï¼Œè‚¯å®šä¸€å–·åˆ°åº•ã€‚ç°åœ¨çœ‹åˆ°è¿™æ ·çš„å†…å®¹ï¼Œåªèƒ½æ— è¨€ä»¥å¯¹ã€‚æˆ‘çŸ¥é“ä½œè€…åªæ˜¯ä¸€æ—¶æƒ…ç»ªæ¿€åŠ¨ï¼Œé€šè¿‡åæ¿€çš„æ–¹å¼å»è¡¨è¾¾ï¼Œä½†æ˜¯æˆ‘èƒ½æ„ŸåŒèº«å—åˆ°ä½œè€…çš„é‚£ç§æ„¤æ€’ä¸æ— å¥ˆã€‚</p><h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>åˆšæ¥è§¦åˆ° github çš„æ—¶å€™ï¼Œæˆ‘æ„Ÿåˆ°å¾ˆéœ‡æƒŠï¼Œæ€ä¹ˆä¼šæœ‰äººæŠŠè‡ªå·±å†™çš„ä»£ç æ— å¿çš„æä¾›ç»™å…¶å®ƒäººä½¿ç”¨ã€‚æ¥è§¦ä¹…äº†ï¼Œæˆ‘åˆè§‰å¾—ç†æ‰€åº”å½“ï¼Œç†Ÿè§†æ— ç¹åï¼Œè§‰å¾— IT è¡Œä¸šæœ¬æ¥å°±åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚ä½†æ˜¯å†ä¹…ç‚¹ï¼Œæˆ‘åˆå¼€å§‹ç–‘æƒ‘ï¼ŒçœŸçš„æ˜¯ç†æ‰€åº”å½“çš„å—ï¼Ÿæˆ‘æ¥è§¦åˆ°çš„å„è¡Œå„ä¸šï¼Œä»æ¥æ²¡æœ‰çœ‹åˆ°è¿‡ä»»ä½•ä¸€ä¸ªè¡Œä¸šï¼Œæœ‰ IT è¡Œä¸šï¼Œè¿™ç§å¦‚æ­¤æ™®éçš„å…±äº«ä¸å¼€æºç²¾ç¥ã€‚</p><p>æ—¶è‡³ä»Šæ—¥ï¼Œæˆ‘ä»ä¸æ˜ç™½å¼€æºçš„ç²¾ç¥ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œåˆæ˜¯ä»€ä¹ˆåŠ›é‡é©±åŠ¨ç€æ— æ•°ç¨‹åºå‘˜ä¸ºä¹‹é€šå®µè¾¾æ—¦ï¼Œå‘•å¿ƒæ²¥è¡€è€Œä¸æ±‚å›æŠ¥ã€‚</p><p>æˆ‘æƒ³ï¼Œå¼€æºä¹Ÿè®¸æ˜¯ç‹¬å±äºç¨‹åºå‘˜çš„æµªæ¼«ä¸»ä¹‰å§ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585667451352-29d2a9e3-1fbd-479e-b51c-3b100f2ddea7.png#align=left&display=inline&height=266&name=image.png&originHeight=250&originWidth=450&size=109976&status=done&style=none&width=479" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Mavenã€‘maven æ’ä»¶å¼€å‘å®æˆ˜</title>
      <link href="/posts/7e8b6a7/"/>
      <url>/posts/7e8b6a7/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585583078647-c0a12206-3334-4eaf-9588-fd384bd43d3b.png#align=left&display=inline&height=383&name=image.png&originHeight=383&originWidth=900&size=137499&status=done&style=none&width=900" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œmaven å®è´¨ä¸Šæ˜¯ä¸€ä¸ªæ’ä»¶æ‰§è¡Œæ¡†æ¶ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯é€šè¿‡æ’ä»¶å®Œæˆçš„ã€‚åŒ…æ‹¬æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨åˆ°çš„ç±»ä¼¼ installã€cleanã€deployã€compilerã€‚ã€‚ã€‚è¿™äº›å‘½ä»¤ï¼Œå…¶å®åº•å±‚éƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„ maven æ’ä»¶ã€‚</p><h2 id="å¦‚ä½•å¼€å‘è‡ªå·±çš„æ’ä»¶"><a href="#å¦‚ä½•å¼€å‘è‡ªå·±çš„æ’ä»¶" class="headerlink" title="å¦‚ä½•å¼€å‘è‡ªå·±çš„æ’ä»¶"></a>å¦‚ä½•å¼€å‘è‡ªå·±çš„æ’ä»¶</h2><h3 id="1-maven-æ’ä»¶çš„å‘½åè§„èŒƒ"><a href="#1-maven-æ’ä»¶çš„å‘½åè§„èŒƒ" class="headerlink" title="1. maven æ’ä»¶çš„å‘½åè§„èŒƒ"></a>1. maven æ’ä»¶çš„å‘½åè§„èŒƒ</h3><p>åœ¨å†™ä¸€ä¸ªé¡¹ç›®ä¹‹å‰ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯ç¡®å®šä¸€ä¸ªåç§°ã€‚maven æ’ä»¶ä¹Ÿä¸ä¾‹å¤–ã€‚å®ƒæœ‰ç€è‡ªå·±çš„ä¸€å¥—å‘½åè§„èŒƒã€‚ä½†æ˜¯è§„èŒƒå¾ˆç®€å•ï¼Œä¸€å¥è¯å°±å¯ä»¥æ¦‚æ‹¬ï¼Œ<strong>å®˜æ–¹æ’ä»¶å‘½åçš„æ ¼å¼ä¸º maven-xxx-plugin,éå®˜æ–¹çš„æ’ä»¶å‘½åä¸º xxx-maven-plugin ã€‚</strong>æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆçœ¼ç†Ÿï¼Œæ²¡é”™ï¼Œspring boot starter çš„å‘½åä¹Ÿæœ‰ç±»ä¼¼çš„è§„èŒƒã€‚</p><p>å¥½çš„ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª maven æ’ä»¶é¡¹ç›®å°±å« demo-maven-plugin å§ã€‚</p><h3 id="2-åˆ›å»ºé¡¹ç›®"><a href="#2-åˆ›å»ºé¡¹ç›®" class="headerlink" title="2. åˆ›å»ºé¡¹ç›®"></a>2. åˆ›å»ºé¡¹ç›®</h3><p>åç§°èµ·å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åˆ›å»ºè¿™ä¸ªé¡¹ç›®ã€‚å¦‚æœä½ ä½¿ç”¨ idea çš„è¯ï¼Œé‚£ä¹ˆåˆ›å»ºååˆ†çš„ä¾¿æ·ï¼ŒæŒ‰å¦‚ä¸‹æ­¥éª¤å³å¯ï¼š</p><h4 id="2-1-é€‰æ‹©-org-apache-maven-archetypes-maven-archetype-mojo-ä¸ºéª¨æ¶åˆ›å»ºé¡¹ç›®"><a href="#2-1-é€‰æ‹©-org-apache-maven-archetypes-maven-archetype-mojo-ä¸ºéª¨æ¶åˆ›å»ºé¡¹ç›®" class="headerlink" title="2.1 é€‰æ‹© org.apache.maven.archetypes:maven-archetype-mojo ä¸ºéª¨æ¶åˆ›å»ºé¡¹ç›®"></a>2.1 é€‰æ‹© org.apache.maven.archetypes:maven-archetype-mojo ä¸ºéª¨æ¶åˆ›å»ºé¡¹ç›®</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585576537171-8acf6bd7-2bf5-4db9-8d03-cd17ce0073ea.png#align=left&display=inline&height=605&name=image.png&originHeight=1210&originWidth=2462&size=415035&status=done&style=none&width=1231" alt="image.png"></p><ol><li>é€‰æ‹©åˆ›å»ºæ–°é¡¹ç›®</li><li>é€‰æ‹©é€šè¿‡ maven åˆ›å»º</li><li>å‹¾é€‰ Create from archetype é€šè¿‡é¡¹ç›®éª¨æ¶åˆ›å»º</li><li>é€‰æ‹© Â org.apache.maven.archetypes:maven-archetype-mojo</li><li>ç‚¹å‡»ä¸‹ä¸€æ­¥</li></ol><h4 id="2-2-è¾“å…¥åœ¨ç¬¬ä¸€æ­¥èµ·çš„é¡¹ç›®å"><a href="#2-2-è¾“å…¥åœ¨ç¬¬ä¸€æ­¥èµ·çš„é¡¹ç›®å" class="headerlink" title="2.2 è¾“å…¥åœ¨ç¬¬ä¸€æ­¥èµ·çš„é¡¹ç›®å"></a>2.2 è¾“å…¥åœ¨ç¬¬ä¸€æ­¥èµ·çš„é¡¹ç›®å</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585576749262-5321d41f-c5c2-484b-9449-fc8f18f51d8e.png#align=left&display=inline&height=605&name=image.png&originHeight=1210&originWidth=2462&size=165287&status=done&style=none&width=1231" alt="image.png"></p><p>ç‚¹å‡» Next</p><h4 id="2-3-ç‚¹å‡»-Finish-å®Œæˆé¡¹ç›®åˆ›å»º"><a href="#2-3-ç‚¹å‡»-Finish-å®Œæˆé¡¹ç›®åˆ›å»º" class="headerlink" title="2.3 ç‚¹å‡» Finish å®Œæˆé¡¹ç›®åˆ›å»º"></a>2.3 ç‚¹å‡» Finish å®Œæˆé¡¹ç›®åˆ›å»º</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585576887162-6f6a5e25-7aa6-4edb-9f38-e04697661b8d.png#align=left&display=inline&height=605&name=image.png&originHeight=1210&originWidth=2462&size=183559&status=done&style=none&width=1231" alt="image.png"></p><h4 id="2-4-åˆ†æé¡¹ç›®æ–‡ä»¶"><a href="#2-4-åˆ†æé¡¹ç›®æ–‡ä»¶" class="headerlink" title="2.4Â  åˆ†æé¡¹ç›®æ–‡ä»¶"></a>2.4Â  åˆ†æé¡¹ç›®æ–‡ä»¶</h4><h5 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h5><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585577595314-252a1194-e2df-4087-952e-6c03b6b5bbb4.png#align=left&display=inline&height=155&name=image.png&originHeight=310&originWidth=802&size=35169&status=done&style=none&width=401" alt="image.png"></p><blockquote><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„é¡¹ç›®å°±æ˜¯æˆ‘ä»¬æœ€æœ€å¸¸è§çš„ maven é¡¹ç›®çš„ç»“æ„ï¼Œç”Ÿæˆçš„æ–‡ä»¶ä¹Ÿå¾ˆå°‘ï¼Œä¸€ä¸ª pom.xml æ–‡ä»¶ï¼Œä¸€ä¸ª MyMojo æ–‡ä»¶ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–‡ä»¶</p></blockquote><h5 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.coder4j.study.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>maven-plugin<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo-mavne-plugin Maven Mojo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>é¦–å…ˆç”Ÿæˆçš„é¡¹ç›® pom.xml ä¸­ï¼Œè‡ªåŠ¨ä¾èµ–äº†ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯ maven-plugin-api ï¼Œè¿™ä¸ªæ˜¯å¼€å‘ maven æ’ä»¶å¿…é¡»ä¾èµ–çš„æ ¸å¿ƒåŒ…ã€‚å¦ä¸€ä¸ªæ˜¯å•å…ƒæµ‹è¯•æ—¶ä½¿ç”¨çš„ junit åŒ…ã€‚è¿™ä¸¤ä¸ªæ²¡ä»€ä¹ˆè¦æ³¨æ„çš„ï¼ŒçœŸæ­£è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªé¡¹ç›®çš„ packagingï¼Œé€šå¸¸æˆ‘é‡åˆ°çš„ packaging éƒ½æ˜¯ jarã€warã€pomï¼Œè¿™é‡Œæ¯”è¾ƒç‰¹æ®Šæ˜¯ maven-pluginã€‚</p></blockquote><h5 id="MyMojo-java"><a href="#MyMojo-java" class="headerlink" title="MyMojo.java"></a>MyMojo.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.coder4j.study.example;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright 2001-2005 The Apache Software Foundation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><br><span class="line"><span class="comment"> * you may not use this file except in compliance with the License.</span></span><br><span class="line"><span class="comment"> * You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment"> * See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment"> * limitations under the License.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecutionException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Goal which touches a timestamp file.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@goal</span> touch</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@phase</span> process-sources</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Location of the file.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> expression=&quot;$&#123;project.build.directory&#125;&quot;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@required</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> File outputDirectory;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> MojoExecutionException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        File f = outputDirectory;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( !f.exists() )</span><br><span class="line">        &#123;</span><br><span class="line">            f.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        File touch = <span class="keyword">new</span> File( f, <span class="string">&quot;touch.txt&quot;</span> );</span><br><span class="line"></span><br><span class="line">        FileWriter w = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            w = <span class="keyword">new</span> FileWriter( touch );</span><br><span class="line"></span><br><span class="line">            w.write( <span class="string">&quot;touch.txt&quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> ( IOException e )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> MojoExecutionException( <span class="string">&quot;Error creating file &quot;</span> + touch, e );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ( w != <span class="keyword">null</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">try</span></span><br><span class="line">                &#123;</span><br><span class="line">                    w.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> ( IOException e )</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// ignore</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¦–å…ˆç”Ÿæˆçš„ç±»ç»§æ‰¿äº† Â AbstractMojo è¿™ä¸ªæŠ½è±¡ç±»ï¼Œè¿™é‡Œæ˜¯ maven æ’ä»¶çš„è§„èŒƒè¦æ±‚ï¼Œmaven æ’ä»¶å¿…é¡»è¦ç»§æ‰¿ Â AbstractMojoÂ  å¹¶å®ç°ä»–çš„ Â execute æ–¹æ³•ã€‚</p><p>å¦å¤–å¯ä»¥çœ‹åˆ°ç±»ä¸æ–¹æ³•ä½¿ç”¨äº†å¾ˆå¤š tagã€‚æ³¨æ„æ˜¯ tag è€Œä¸æ˜¯æ³¨è§£ï¼Œæ³¨è§£æ˜¯ç›´æ¥æ ‡è®°çš„ï¼Œè€Œ tag æ˜¯åœ¨æ–‡æ¡£æ³¨é‡Šé‡Œé¢çš„ã€‚</p><p>å…¶ä¸­ Â @goal è¿™ä¸ª tag çš„ä½œç”¨æ˜¯æŒ‡å®šæ’ä»¶çš„å‘½åï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„ mvn cleanï¼Œè¿™ä¸ª clean å°±æ˜¯ä»–çš„ Â @goal ã€‚</p><p>è€Œ @phase æ˜¯ç»‘å®šæ’ä»¶æ‰§è¡Œçš„ç”Ÿæˆå‘¨æœŸï¼Œæ¯”å¦‚ä½ ç»‘å®šåœ¨ clean è¿™ä¸ªå‘¨æœŸï¼Œé‚£ä½ åœ¨æ‰§è¡Œ clean çš„æ—¶å€™ä¼šè‡ªåŠ¨è§¦å‘ä½ çš„æ’ä»¶ã€‚</p><p>@parameter ç”¨æ¥æŒ‡å®šæ’ä»¶çš„å‚æ•°ã€‚</p><p>å°æœ‹å‹ä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®å·ï¼Ÿtag è¿™ä¸ªä¸œè¥¿å†™åœ¨æ–‡æ¡£æ³¨é‡Šé‡Œé¢çš„ä¸œè¥¿ï¼Œæ–¹ä¾¿æ˜¯æ–¹ä¾¿ä½†æ˜¯å®¹æ˜“å†™é”™å‘€ï¼Œå†™é”™æ²¡æœ‰è¯­æ³•æŠ¥é”™ï¼Œå†™å¯¹æ—¶å€™ä¹Ÿæ²¡æœ‰è¯­æ³•æç¤ºï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨æ³¨è§£çš„å½¢å¼å‘¢ï¼ŸåŸå› æ˜¯ java çš„æ³¨è§£æ˜¯ jdk1.5 ä¹‹åæ‰æœ‰çš„ï¼Œè€Œå®ç° maven çš„æ—¶å€™è¿˜æ²¡æœ‰è¿™ç§è¯­æ³•ã€‚æ‰€ä»¥è¦ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼Œä¸€ç›´èƒŒè¿™ä¸ªå†å²åŒ…è¢±å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œåé¢æˆ‘ä»¬ä¼šè¯´è§£å†³åŠæ³•ã€‚å¦å¤–ï¼Œè¿™ç§å†™æ³•è™½ç„¶ä¸æ¨èä½¿ç”¨äº†ï¼Œä½†æ˜¯æœ‰äº› maven çš„ç»å…¸æ’ä»¶ç”±äºå®Œæˆæ—¶é—´æ¯”è¾ƒæ—©ï¼Œç†Ÿæ‚‰è¿™äº› tag å¯¹äºç†è§£ä»£ç ä¹Ÿæœ‰å¸®åŠ©ã€‚</p><h3 id="3-å¼€å‘æ’ä»¶"><a href="#3-å¼€å‘æ’ä»¶" class="headerlink" title="3. å¼€å‘æ’ä»¶"></a>3. å¼€å‘æ’ä»¶</h3><h4 id="3-1-ä»£ç æœªåŠ¨ï¼Œä¾èµ–å…ˆè¡Œ-pom-xml"><a href="#3-1-ä»£ç æœªåŠ¨ï¼Œä¾èµ–å…ˆè¡Œ-pom-xml" class="headerlink" title="3.1 ä»£ç æœªåŠ¨ï¼Œä¾èµ–å…ˆè¡Œ Â pom.xml"></a>3.1 ä»£ç æœªåŠ¨ï¼Œä¾èµ–å…ˆè¡Œ Â pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.coder4j.study.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>maven-plugin<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo-mavne-plugin Maven Mojo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugin-tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç›¸è¾ƒäºé»˜è®¤çš„ pom.xml æ–‡ä»¶ï¼Œæˆ‘ä»¬åšäº†å¦‚ä¸‹å‡ ä¸ªå˜åŠ¨ï¼š</p><ol><li>å‡çº§ maven-plugin-api çš„æ’ä»¶ç‰ˆæœ¬åˆ° Â 3.5.2 ã€‚åŸç”Ÿçš„ 2.0 å®åœ¨æ˜¯å¤ªè€äº†ã€‚</li><li>æ·»åŠ  Â maven-plugin-annotations è¿™ä¸ªä¾èµ–ï¼Œè¿˜è®°å¾—ä¸Šé¢è¯´çš„ tag çš„äº‹å—ï¼Ÿæœ‰äº†è¿™ä¸ªä¾èµ–å°±å¯ä»¥ç›´æ¥ä½¿ç”¨æ³¨è§£äº†</li><li>æ·»åŠ  Â maven-plugin-plugin æ’ä»¶ä¾èµ–ï¼Œæ·»åŠ è¿™ä¸ªä¾èµ–ä¸»è¦æ˜¯ä¸ºäº†åœ¨ jdk1.8 èƒ½ç¼–è¯‘é€šè¿‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li></ol><h4 id="3-2-DemoMojo-java"><a href="#3-2-DemoMojo-java" class="headerlink" title="3.2Â DemoMojo.java"></a>3.2Â DemoMojo.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) 2016-2020 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecutionException;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoFailureException;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Mojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Parameter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> DemoMojo.java, v 0.1 2020-03-30 22:51 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mojo(name = &quot;hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoMojo</span> <span class="keyword">extends</span> <span class="title">AbstractMojo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter(name = &quot;name&quot;, defaultValue = &quot;kiwi&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> MojoExecutionException, MojoFailureException </span>&#123;</span><br><span class="line">        getLog().info(<span class="string">&quot;hello &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼ŒåŒç”Ÿæˆçš„ç±»ä¸€æ ·ï¼Œæˆ‘ä»¬çš„ç±»å¿…é¡»ç»§æ‰¿ Â AbstractMojo å¹¶å®ç°ä»–çš„ execute æ–¹æ³•ï¼Œè€Œ execute æ–¹æ³•å…¶å®å°±æ˜¯è¿™ä¸ªæ’ä»¶çš„å…¥å£ç±»ã€‚</p><p>ç¤ºä¾‹ä»£ç ä¸­æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„æ³¨è§£ï¼Œä¸€ä¸ªæ˜¯ @Mojo ï¼Œå®ƒä¸»è¦ç”¨æ¥å®šä¹‰æ’ä»¶ç›¸å…³çš„ä¿¡æ¯ç›¸å½“äºä¸Šé¢è¯´çš„ @goal ï¼Œå…¶ä¸­ name å±æ€§ç”¨æ¥æŒ‡å®šè¿™ä¸ªæ’ä»¶åç§°ï¼ŒåŒ clean ç±»ä¼¼ã€‚</p><p>å¦å¤–ä¸€ä¸ªé‡è¦æ³¨è§£ Â @Parameter ï¼Œåˆ™æ˜¯ç”¨æ¥æŒ‡å®šæ’ä»¶è¿è¡Œæ—¶ä½¿ç”¨çš„å‚æ•°ï¼Œå…¶ä¸­ name æ˜¯å‚æ•°åï¼ŒdefaultValue é¡¾åæ€ä¹‰æ˜¯é»˜è®¤å€¼ï¼Œä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ²¡æœ‰è®¾ç½®çš„æ—¶å€™ä½¿ç”¨çš„å€¼ã€‚</p><p>è¯¦ç»†çš„æ’ä»¶åŠä½œç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.maven.execution.MavenSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecution;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.descriptor.PluginDescriptor;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Component;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Execute;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.InstantiationStrategy;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.LifecyclePhase;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Mojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Parameter;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.ResolutionScope;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.project.MavenProject;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.settings.Settings;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// æ­¤Mojoå¯¹åº”çš„ç›®æ ‡çš„åç§°</span></span><br><span class="line"><span class="meta">@Mojo( name = &quot;&lt;goal-name&gt;&quot;,</span></span><br><span class="line"><span class="meta">       aggregator = &lt;false|true&gt;,</span></span><br><span class="line"><span class="meta">       configurator = &quot;&lt;role hint&gt;&quot;,</span></span><br><span class="line"><span class="meta">       // æ‰§è¡Œç­–ç•¥</span></span><br><span class="line"><span class="meta">       executionStrategy = &quot;&lt;once-per-session|always&gt;&quot;,</span></span><br><span class="line"><span class="meta">       inheritByDefault = &lt;true|false&gt;,</span></span><br><span class="line"><span class="meta">       // å®ä¾‹åŒ–ç­–ç•¥</span></span><br><span class="line"><span class="meta">       instantiationStrategy = InstantiationStrategy.&lt;strategy&gt;,</span></span><br><span class="line"><span class="meta">       // å¦‚æœç”¨æˆ·æ²¡æœ‰åœ¨POMä¸­æ˜ç¡®è®¾ç½®æ­¤Mojoç»‘å®šåˆ°çš„phaseï¼Œé‚£ä¹ˆç»‘å®šä¸€ä¸ªMojoExecutionåˆ°é‚£ä¸ªphase</span></span><br><span class="line"><span class="meta">       defaultPhase = LifecyclePhase.&lt;phase&gt;,</span></span><br><span class="line"><span class="meta">       requiresDependencyResolution = ResolutionScope.&lt;scope&gt;,</span></span><br><span class="line"><span class="meta">       requiresDependencyCollection = ResolutionScope.&lt;scope&gt;,</span></span><br><span class="line"><span class="meta">       // æç¤ºæ­¤Mojoéœ€è¦è¢«ç›´æ¥è°ƒç”¨ï¼ˆè€Œéç»‘å®šåˆ°ç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼‰</span></span><br><span class="line"><span class="meta">       requiresDirectInvocation = &lt;false|true&gt;,</span></span><br><span class="line"><span class="meta">       // æç¤ºæ­¤Mojoä¸èƒ½åœ¨ç¦»çº¿æ¨¡å¼ä¸‹è¿è¡Œ</span></span><br><span class="line"><span class="meta">       requiresOnline = &lt;false|true&gt;,</span></span><br><span class="line"><span class="meta">       // æç¤ºæ­¤Mojoå¿…é¡»åœ¨ä¸€ä¸ªMavené¡¹ç›®å†…è¿è¡Œ</span></span><br><span class="line"><span class="meta">       requiresProject = &lt;true|false&gt;,</span></span><br><span class="line"><span class="meta">       // æç¤ºæ­¤Mojoæ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Œçº¿ç¨‹å®‰å…¨çš„Mojoæ”¯æŒåœ¨å¹¶è¡Œæ„å»ºä¸­è¢«å¹¶å‘çš„è°ƒç”¨</span></span><br><span class="line"><span class="meta">       threadSafe = &lt;false|true&gt; )</span> <span class="comment">// (since Maven 3.0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½•æ—¶æ‰§è¡Œæ­¤Mojo</span></span><br><span class="line"><span class="meta">@Execute( goal = &quot;&lt;goal-name&gt;&quot;,           // å¦‚æœæä¾›goalï¼Œåˆ™éš”ç¦»æ‰§è¡Œæ­¤Mojo</span></span><br><span class="line"><span class="meta">          phase = LifecyclePhase.&lt;phase&gt;, // åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸé˜¶æ®µè‡ªåŠ¨æ‰§è¡Œæ­¤Mojo</span></span><br><span class="line"><span class="meta">          lifecycle = &quot;&lt;lifecycle-id&gt;&quot; )</span>  <span class="comment">// åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œæ­¤Mojo</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( name = &quot;parameter&quot;,</span></span><br><span class="line"><span class="meta">                // åœ¨POMä¸­å¯ä½¿ç”¨åˆ«åæ¥é…ç½®å‚æ•°</span></span><br><span class="line"><span class="meta">                alias = &quot;myAlias&quot;,</span></span><br><span class="line"><span class="meta">                property = &quot;a.property&quot;,</span></span><br><span class="line"><span class="meta">                defaultValue = &quot;an expression, possibly with $&#123;variables&#125;&quot;,</span></span><br><span class="line"><span class="meta">                readonly = &lt;false|true&gt;,</span></span><br><span class="line"><span class="meta">                required = &lt;false|true&gt; )</span></span><br><span class="line">    <span class="keyword">private</span> String parameter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Component( role = MyComponentExtension.class,</span></span><br><span class="line"><span class="meta">                hint = &quot;...&quot; )</span></span><br><span class="line">    <span class="keyword">private</span> MyComponent component;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;session&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> MavenSession session;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;project&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> MavenProject project;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;mojoExecution&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> MojoExecution mojo;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;plugin&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> PluginDescriptor plugin;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;settings&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> Settings settings;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;project.basedir&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> File basedir;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Parameter( defaultValue = &quot;$&#123;project.build.directory&#125;&quot;, readonly = true )</span></span><br><span class="line">    <span class="keyword">private</span> File target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›åˆ°ç¤ºä¾‹ä¸Šäº†ï¼Œæˆ‘ä»¬è¿™ä¸ªæ’ä»¶ä½œç”¨å¾ˆç®€å•ï¼Œæ ¹æ®é…ç½®è¾“å‡º hello xxxï¼Œå¦‚æœæ²¡æœ‰é…ç½®å°±è¾“å‡º hello kiwiã€‚æˆ‘ä»¬åœ¨å†™æ’ä»¶æ—¶ï¼Œå½“ç„¶ä¸ä¼šè¿™æ ·å†™ï¼Œä½†æ˜¯é€šè¿‡è¿™ä¸ª demoï¼Œä½ å°±æŒæ¡äº† maven æ’ä»¶çš„å¤§éƒ¨åˆ†çŸ¥è¯†ï¼Œå¯ä»¥è‡ªå·±åšä¸€äº›å¾ˆæœ‰è¶£çš„æ’ä»¶ã€‚</p><h3 id="4-ä½¿ç”¨æ’ä»¶"><a href="#4-ä½¿ç”¨æ’ä»¶" class="headerlink" title="4. ä½¿ç”¨æ’ä»¶"></a>4. ä½¿ç”¨æ’ä»¶</h3><p>é¦–å…ˆä¸Šé¢æˆ‘ä»¬çš„ä»£ç å†™å®Œäº†ï¼Œå¿…é¡»è¦ Install ä¸€ä¸‹ï¼Œå¦åˆ™åˆ«çš„é¡¹ç›®æ— æ³•ç›´æ¥ä¾èµ–ï¼Œå¦‚æœä½ è¿˜æƒ³ç»™å…¶å®ƒäººä½¿ç”¨ï¼Œé‚£è¿˜éœ€ä¸Šä¼ åˆ° maven ä»“åº“ã€‚</p><h4 id="4-1-ä¾èµ–æ’ä»¶"><a href="#4-1-ä¾èµ–æ’ä»¶" class="headerlink" title="4.1 ä¾èµ–æ’ä»¶"></a>4.1 ä¾èµ–æ’ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.coder4j.study.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬æƒ³ä½¿ç”¨æ’ä»¶çš„é¡¹ç›®ä¸­ï¼Œæ·»åŠ å¦‚ä¸Šé…ç½®ï¼Œå…¶ä¸­ plugin ä¸­ä½¿ç”¨æˆ‘ä»¬æ’ä»¶çš„ Â  GAV ä¿¡æ¯ã€‚</p><h4 id="4-2-å¯åŠ¨æ’ä»¶"><a href="#4-2-å¯åŠ¨æ’ä»¶" class="headerlink" title="4.2 å¯åŠ¨æ’ä»¶"></a>4.2 å¯åŠ¨æ’ä»¶</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585581578390-50d9cb76-2506-4cae-8cba-d93d21bbd7fa.png#align=left&display=inline&height=326&name=image.png&originHeight=652&originWidth=904&size=126075&status=done&style=none&width=452" alt="image.png"></p><p>å¦‚æœä¸Šé¢é…ç½®çš„éƒ½æ­£ç¡®ï¼Œé‚£ä¹ˆåœ¨ idea å³ä¾§çš„ Maven ä¸­ï¼Œä½ é…ç½®çš„é¡¹ç›®çš„ Plugins ä¸‹ä¼šå¤šäº†ä¸€ä¸ª demoï¼ˆå…·ä½“æ ¹æ®ä½ æ’ä»¶é¡¹ç›®çš„åç§°ï¼‰ï¼Œè€Œ demo é‡Œé¢ä¼šæœ‰ä¸€ä¸ª demo:helloï¼Œå…¶ä¸­è¿™ä¸ª demo å¯¹åº”ä½ æ’ä»¶é¡¹ç›®çš„åç§°ï¼Œè€Œ hello å¯¹åº”ä½ æ’ä»¶çš„åç§°ä¹Ÿå°±æ˜¯ @Mojo ä¸­çš„ name ã€‚</p><p>å¥½çš„ï¼Œæˆ‘ä»¬åŒå‡»ä¸€ä¸‹ï¼Œdemo:hello ï¼Œä¼šè¾“å‡ºå¦‚ä¸‹æ—¥å¿—ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585581782947-f0d0ee16-4c02-4925-85e7-039229934079.png#align=left&display=inline&height=340&name=image.png&originHeight=680&originWidth=1766&size=109127&status=done&style=none&width=883" alt="image.png"></p><p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Maven æ’ä»¶å°±å¥½äº†ã€‚</p><h4 id="4-3-é…ç½®å‚æ•°"><a href="#4-3-é…ç½®å‚æ•°" class="headerlink" title="4.3 é…ç½®å‚æ•°"></a>4.3 é…ç½®å‚æ•°</h4><p>å¯èƒ½ä½ è¿˜è®°å¾—ï¼Œæˆ‘ä»¬åœ¨å†™ DemoMojo çš„æ—¶å€™è¿˜æŒ‡å®šäº†ä¸€ä¸ª name å±æ€§ï¼Œå¹¶ä¸”ä¸ºå®ƒæŒ‡å®šäº†ä¸€ä¸ª Â Parameterï¼Œè¿™ä¸ªå¦‚ä½•ä½¿ç”¨ã€‚åªè¦åœ¨ä¾èµ–çš„æ’ä»¶ä¸‹é¢æ·»åŠ  configuration æ ‡ç­¾å°±å¯ä»¥äº†ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.coder4j.study.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ Â configuration æ ‡ç­¾å†…çš„æ ‡ç­¾ï¼Œå¯¹åº”ä½ å®šä¹‰çš„å‚æ•°åç§°ï¼Œè€Œä¸” idea è¿˜æœ‰è¯­æ³•æç¤ºï¼Œå¾ˆ niceã€‚</p><p>å¥½çš„ï¼Œæˆ‘ä»¬å†è¿è¡Œä¸€ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585582062275-b8dfb9e9-bddc-4eea-bd3b-ec6e1aca2d6c.png#align=left&display=inline&height=338&name=image.png&originHeight=676&originWidth=1788&size=107447&status=done&style=none&width=894" alt="image.png"></p><p>å¥½çš„ï¼Œå¤§åŠŸå‘Šæˆã€‚</p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p><a href="https://blog.gmem.cc/maven-plugin-development">Maven æ’ä»¶å¼€å‘</a></p><p><a href="https://www.cnblogs.com/sniffs/p/11985699.html">Maven æ’ä»¶ç¼–å†™</a></p><h3 id="é¡¹ç›®æºç "><a href="#é¡¹ç›®æºç " class="headerlink" title="é¡¹ç›®æºç "></a>é¡¹ç›®æºç </h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå¦‚é‡åˆ°é—®é¢˜å¯åˆ° <a href="https://github.com/kiwiflydream/study-example/tree/master/demo-maven-plugin">github</a> ä¸ŠæŸ¥çœ‹æºç ã€‚</p><h2 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1585582500755-9deeb99d-1ffa-4dfd-9812-2dfd9a399013.png#align=left&display=inline&height=250&name=image.png&originHeight=500&originWidth=900&size=291174&status=done&style=none&width=450" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> Maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€qdoxã€‘Java ä»£ç è§£æåˆ©å™¨ QDox</title>
      <link href="/posts/2a8bb95f/"/>
      <url>/posts/2a8bb95f/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1584882725192-78d7799b-f010-48a2-b59a-0a16cf76ea10.png#align=left&display=inline&height=383&name=image.png&originHeight=383&originWidth=900&size=300248&status=done&style=none&width=900" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å†™ maven æ’ä»¶ï¼Œæ¶‰åŠåˆ°äº† java ä»£ç è§£æè¿™å—å†…å®¹ã€‚éœ€è¦è§£æ java æºç ï¼Œç„¶åå¯¹äºç±»ä¸­çš„ä¸åŒéƒ¨åˆ†è¿›è¡Œå¤„ç†ã€‚å‘ç°æ‰‹å†™è¿˜æ˜¯å¾ˆéš¾çš„ï¼Œæ‰¾äº†ä¸€åœˆå‘ç°äº†ä¸¤ä¸ªä¸é”™çš„å·¥å…·å¯ä»¥ä½¿ç”¨ï¼Œä¸€ä¸ªæ˜¯ Â <a href="https://github.com/javaparser/javaparser">javaparser</a>ï¼Œå¦ä¸€ä¸ªæ˜¯ Â <a href="https://github.com/paul-hammant/qdox">qdox</a>Â ã€‚ä¸ªäººæ„Ÿè§‰ javaparser å¼ºå¤§ä¸€äº›ï¼Œæ›´æ–°ä¸ç»´æŠ¤ä¹Ÿæ¯”è¾ƒå‹¤ï¼Œä½†æ˜¯ç›¸å¯¹æ¥è¯´ä¸Šæ‰‹éš¾ä¸€ç‚¹ï¼Œä»ä»–çš„ä½¿ç”¨æ–‡æ¡£ç‹¬ç«‹æˆä¹¦åœ¨ä¹°ï¼Œå¯è§ä¸€æ–‘ï¼Œè€Œ qdox æ¯”è¾ƒå°å·§ï¼Œä¸Šæ‰‹å¾ˆå¿«ï¼ŒåŠŸèƒ½ä¹Ÿæ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œæœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº† qdoxã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-QDox"><a href="#ä»€ä¹ˆæ˜¯-QDox" class="headerlink" title="ä»€ä¹ˆæ˜¯ QDox"></a>ä»€ä¹ˆæ˜¯ QDox</h2><p>å®˜æ–¹çš„ä»‹ç»æ˜¯:</p><blockquote><p>QDox - full extractor of Java class/interface/method definitions (including annotations, parameters, param names)</p></blockquote><p>å¤§æ¦‚æ„æ€æ˜¯ä¸€æ¬¾å®Œæ•´çš„ java ç±»ã€æ¥å£ã€æ–¹æ³•å®šä¹‰çš„æå–å™¨ï¼ŒåŒ…æ‹¬äº†æ³¨é‡Šã€å‚æ•°åŠå‚æ•°åç§°ã€‚å…¶å®æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯æˆ‘è¾“å…¥ä¸€ä¸ª java ç±»çš„æºç ï¼Œä»–å¯ä»¥æŠŠè¿™ä¸ª java ç±»è§£ææˆä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥è·å–å¾ˆæ–¹ä¾¿çš„è·å–è§£æçš„ç±»çš„ä¸åŒç»„æˆï¼Œæ¯”å¦‚æˆ‘å¯ä»¥è·å¾—è¿™ä¸ªç±»æœ‰å“ªäº›æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œè¿”å›å€¼åˆæ˜¯ä»€ä¹ˆï¼Œä»–ä»¬çš„ç±»å‹åˆåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿè¿˜æœ‰è¿™ä¸ªæ–¹æ³•ä¸Šæœ‰å“ªäº›æ³¨é‡Šã€å“ªäº› tagã€‚ä¹Ÿèƒ½è·å–ç±»ä¸­æœ‰å“ªäº›çš„ fieldã€‚ã€‚ã€‚æ€»ä¹‹æŠŠè¿™ä¸ªç±»åº–ä¸è§£ç‰›èˆ¬è§£æå¥½ï¼Œä½¿å¾—è°ƒç”¨è€…å¾ˆæ–¹ä¾¿çš„è·å–åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„ä¿¡æ¯ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨-QDox"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-QDox" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ QDox"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ QDox</h2><p>é™¤äº†ä¸Šé¢è¯´çš„ QDox ä¸Šæ‰‹æ¯”è¾ƒå¿«å¤–ï¼Œä»–çš„è¿è¡Œé€Ÿåº¦åŠå ç”¨ç©ºé—´éƒ½ååˆ†ä¼˜ç§€ã€‚</p><p>å¦å¤–ä¸å¾—ä¸è¯´çš„æ˜¯è¿™ä¸ªé¡¹ç›®å¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¸Šå¤æ—¶æœŸçš„é¡¹ç›®äº†ï¼Œçœ‹äº† github ä¸Šçš„æäº¤è®°å½•ï¼Œæœ€æ—©çš„ä¸€æ¡æäº¤è®°å½•æ˜¯ 2002 å¹´çš„æ—¶å€™ï¼Œå› ä¸ºè¿™ä¸ªé¡¹ç›®ä¹‹å‰ä½¿ç”¨çš„æ˜¯ svnï¼Œæ‰€ä»¥å…·ä½“æ—¶é—´å¯èƒ½æ›´æ—©ã€‚ä¸€ä¸ªå¼€æºé¡¹ç›®ç»´æŠ¤äº†å¿« 20 å¹´ä¹Ÿæ˜¯ä¸€ä»¶æŒºä»¤äººé’¦ä½©çš„äº‹ã€‚ä¸è¿‡åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™ä¸ªé¡¹ç›®åœ¨ github ä¸Šåªæœ‰ 151 ä¸ª starï¼Œå¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥ç»™ä½œè€…ä¸€ä¸ª starã€‚github ä¸Šæœ‰å¤ªå¤šç±»ä¼¼çš„é¡¹ç›®é»˜é»˜æ— é—»çš„å‡ºç°ï¼Œåˆé»˜é»˜æ— é—»çš„æ¶ˆé€ã€‚</p><p>æ‰¯è¿œäº†ï¼Œè™½ç„¶é¡¹ç›®å…³æ³¨çš„äººæ¯”è¾ƒå°‘ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒçš„é¡¹ç›®è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ã€‚maven çš„å®˜æ–¹ javadoc æ’ä»¶ Â maven-javadoc-plugin å°±æ˜¯ä½¿ç”¨å®ƒæ¥è§£æä»£ç ä¸­çš„ doc tags çš„ã€‚æ‰€ä»¥å¯èƒ½ä½ æ²¡æœ‰ç›´æ¥ä½¿ç”¨å®ƒï¼Œä½†æ˜¯å®ƒå…¶ä¸­å·²ç»åœ¨ä½ æœ¬åœ°çš„ maven ä»“åº“å†…èººç€äº†ã€‚æœ‰å®˜æ–¹èƒŒä¹¦ï¼Œå¯¹äºå®ƒçš„ä½¿ç”¨å°±æ¯”è¾ƒæ”¾å¿ƒäº†ã€‚</p><h2 id="ä»€ä¹ˆæƒ…å†µä¸‹é€‚åˆä½¿ç”¨-QDox"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹é€‚åˆä½¿ç”¨-QDox" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹é€‚åˆä½¿ç”¨ QDox"></a>ä»€ä¹ˆæƒ…å†µä¸‹é€‚åˆä½¿ç”¨ QDox</h2><p>è¿™ä¸ªå°±æ¯”è¾ƒå¤šäº†ï¼Œé€šå¸¸åªè¦æˆ‘ä»¬éœ€è¦è§£ææºç çš„å†…å®¹å°±å¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚æˆ‘æƒ³è·å¾—æŒ‡å®šç±»æ–‡ä»¶ä¸­çš„å…¨éƒ¨æ–¹æ³•ã€‚å°±å¯ä»¥ä½¿ç”¨ã€‚å¯èƒ½æœ‰äº›äººæ„Ÿåˆ°ä¸è§£äº†ï¼Œä¸ºä»€ä¹ˆä¸é€šè¿‡åå°„æ‹¿åˆ°è¿™äº›å†…å®¹ï¼Œè¿™æ ·ä¸æ˜¯æ›´æ–¹ä¾¿å—ï¼Ÿé¦–å…ˆï¼Œåå°„çš„å‰ææ˜¯ä½ èƒ½æ‹¿åˆ°è¿™ä¸ªç±»çš„å®ä¾‹ï¼Œæˆ–è€…ä½ é¡¹ç›®ä¸­å°±æœ‰è¿™ä¸ªç±»ã€‚å³ä½¿è¿™äº›æ¡ä»¶éƒ½æ»¡è¶³ï¼Œä½†æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚åå°„æ²¡æ³•æ»¡è¶³ï¼Œæ¯”å¦‚è¯´æ‹¿åˆ°æ–¹æ³•çš„æ³¨é‡ŠåŠ tags ç­‰ï¼Œè¿™ç±»åœ¨ç¼–è¯‘æ—¶å°±è¢«æŠ¹é™¤äº†ã€‚è¿™ç§æƒ…å†µå°±ä¸å¾—ä¸ç”¨æºç è§£æçš„æ–¹æ³•äº†ã€‚</p><p>å¦å¤–å®ƒä¸åªæ˜¯èƒ½è§£æï¼Œä»–åŒæ—¶å¯ä»¥ç”Ÿæˆ java ç±»æ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥åŠ¨æ€çš„ç”Ÿæˆä¸€äº› java ç±»ã€‚</p><p>æ— è®ºæ˜¯è§£æè¿˜æ˜¯ç”Ÿæˆï¼Œåœ¨å†™æ’ä»¶çš„æ—¶å€™è‚¯å®šéœ€è¦ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œæ¯”å¦‚æˆ‘æƒ³é€šè¿‡ä»£ç é‡Œçš„ javadoc è¿™äº› tags ç”Ÿæˆä¸€ä¸ªæ¥å£æ–‡æ¡£ç»™å‰ç«¯ï¼Œè¿™æ ·å°±ä¸ç”¨æˆ‘ä¸€ä¸ªä¸€ä¸ªæ‰‹å†™äº†ã€‚å†æ¯”å¦‚æˆ‘æƒ³é€šè¿‡æ•°æ®è¡¨çš„ä¿¡æ¯ï¼Œè‡ªåŠ¨ç”Ÿæˆ model ç±»ï¼Œservice ç±»ã€‚ã€‚ã€‚ä½¿ç”¨åœºæ™¯çš„é™åˆ¶ä¸»è¦æ˜¯ä¸ªäººçš„æƒ³è±¡åŠ›ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨-QDox"><a href="#å¦‚ä½•ä½¿ç”¨-QDox" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ QDox"></a>å¦‚ä½•ä½¿ç”¨ QDox</h2><h3 id="åˆ›å»º-java-é¡¹ç›®-builder-å¯¹è±¡"><a href="#åˆ›å»º-java-é¡¹ç›®-builder-å¯¹è±¡" class="headerlink" title="åˆ›å»º java é¡¹ç›® builder å¯¹è±¡"></a>åˆ›å»º java é¡¹ç›® builder å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º java é¡¹ç›® builder å¯¹è±¡</span></span><br><span class="line">JavaProjectBuilder javaProjectBuilder = <span class="keyword">new</span> JavaProjectBuilder();</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ -java-æºæ–‡ä»¶"><a href="#æ·»åŠ -java-æºæ–‡ä»¶" class="headerlink" title="æ·»åŠ  java æºæ–‡ä»¶"></a>æ·»åŠ  java æºæ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ  java æºæ–‡ä»¶</span></span><br><span class="line">javaProjectBuilder.addSource(<span class="keyword">new</span> File(<span class="string">&quot;/Users/kiwi/study/code/study-example/study-qdox-example/src/main/java/cn/coder4j/study/example/qdox/Demo.java&quot;</span>));</span><br></pre></td></tr></table></figure><blockquote><p>demo ç¤ºä¾‹æ˜¯é€šè¿‡æ–‡ä»¶æ·»åŠ çš„ï¼Œå…¶å®æ”¯æŒå¾ˆå¤šç§ç±»å‹ï¼Œæ¯”å¦‚ URLã€Reader ç”šè‡³ç›´æ¥æ·»åŠ ä¸€ä¸ªç›®å½•ï¼Œæ¡†æ¶ä¼šè‡ªå·±æ‰«æç›®å½•ä¸‹çš„æ‰€æœ‰ java æ–‡ä»¶</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1584875079407-bec0607d-34a3-413d-be2a-1787fa13f162.png#align=left&display=inline&height=197&name=image.png&originHeight=394&originWidth=1538&size=114763&status=done&style=none&width=769" alt="image.png"></p><h3 id="è·å¾—è§£æåçš„-JavaClass-å¯¹è±¡"><a href="#è·å¾—è§£æåçš„-JavaClass-å¯¹è±¡" class="headerlink" title="è·å¾—è§£æåçš„ JavaClass å¯¹è±¡"></a>è·å¾—è§£æåçš„ JavaClass å¯¹è±¡</h3><blockquote><p>ç»è¿‡ä¸Šé¢ä¸¤æ­¥ï¼Œå‡†å¤‡å·¥ä½œå°±å·²ç»ç»“æŸäº†ï¼Œå¯ä»¥ç›´æ¥è·å¾—è§£æåçš„ JavaClass å¯¹è±¡äº†ï¼Œæœ‰ä¸¤ç§æ–¹å¼è·å–ï¼Œä¸€ç§æ˜¯ç›´æ¥è·å¾—è§£æåçš„ç±»é›†åˆï¼Œä¸ºä»€ä¹ˆæ˜¯é›†åˆå‘¢ï¼Ÿå› ä¸ºä¸Šé¢ä¹Ÿè¯´äº†æ˜¯å¯ä»¥æ·»åŠ ç›®å½•çš„ï¼Œè€Œä¸” addSource å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ã€‚å¦ä¸€ç§æ˜¯åœ¨çŸ¥é“ç±»åç§°çš„æƒ…å†µä¸‹ç›´æ¥ä½¿ç”¨ getClassByName è·å¾—</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1584880098195-0ea64ff6-f3d0-47f8-95b2-dd54217c0d32.png#align=left&display=inline&height=107&name=image.png&originHeight=214&originWidth=1554&size=75807&status=done&style=none&width=777" alt="image.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾—è§£æåçš„ç±»</span></span><br><span class="line">Collection&lt;JavaClass&gt; classes = javaProjectBuilder.getClasses();</span><br><span class="line"><span class="keyword">for</span> (JavaClass javaClass : classes) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="JavaClass-æ¥å£å®šä¹‰"><a href="#JavaClass-æ¥å£å®šä¹‰" class="headerlink" title="JavaClass æ¥å£å®šä¹‰"></a>JavaClass æ¥å£å®šä¹‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.thoughtworks.qdox.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class="line"><span class="comment"> * or more contributor license agreements.  See the NOTICE file</span></span><br><span class="line"><span class="comment"> * distributed with this work for additional information</span></span><br><span class="line"><span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span></span><br><span class="line"><span class="comment"> * to you under the Apache License, Version 2.0 (the</span></span><br><span class="line"><span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span></span><br><span class="line"><span class="comment"> * with the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing,</span></span><br><span class="line"><span class="comment"> * software distributed under the License is distributed on an</span></span><br><span class="line"><span class="comment"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></span><br><span class="line"><span class="comment"> * KIND, either express or implied.  See the License for the</span></span><br><span class="line"><span class="comment"> * specific language governing permissions and limitations</span></span><br><span class="line"><span class="comment"> * under the License.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.thoughtworks.qdox.library.ClassLibrary;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class&#125;, providing the most important methods.</span></span><br><span class="line"><span class="comment"> * Where the original Class is using an Array, this model is using a List.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Robert Scholte</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">JavaClass</span> <span class="keyword">extends</span> <span class="title">JavaModel</span>, <span class="title">JavaType</span>, <span class="title">JavaAnnotatedElement</span>, <span class="title">JavaGenericDeclaration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The compilation unit, which includes the imports, the public and anonymous classes</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the &#123;<span class="doctag">@link</span> JavaSource&#125; of this element</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaSource <span class="title">getSource</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.Class#isInterface()&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Determines if the specified &lt;code&gt;Class&lt;/code&gt; object represents an interface type.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this object represents an interface, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isInterface</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.Class#isEnum()&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Returns &lt;code&gt;true&lt;/code&gt; if and only if this class was declared as an enum in the source code.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this object represents an enum, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEnum</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.Class#isAnnotation()&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;Returns true if this &lt;code&gt;Class&lt;/code&gt; object represents an annotation type.</span></span><br><span class="line"><span class="comment">     *    Note that if this method returns true, &#123;<span class="doctag">@link</span> #isInterface()&#125; would also return true, as all annotation types are also interfaces.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this object represents an annotation, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isAnnotation</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">JavaClass <span class="title">getDeclaringClass</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">JavaType <span class="title">getSuperClass</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Shorthand for getSuperClass().getJavaClass() with null checking.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the super class as &#123;<span class="doctag">@link</span> JavaClass&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaClass <span class="title">getSuperJavaClass</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;JavaType&gt; <span class="title">getImplements</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getInterfaces()&#125;</span></span><br><span class="line"><span class="comment">     *  Determines the interfaces implemented by the class or interface represented by this object.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a list of interfaces, never &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaClass&gt; <span class="title">getInterfaces</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getCodeBlock</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">JavaSource <span class="title">getParentSource</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getPackage()&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the package</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaPackage <span class="title">getPackage</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * If this class has a package, the packagename will be returned.</span></span><br><span class="line"><span class="comment">     * Otherwise an empty String.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the name of the package, otherwise an empty String</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">String <span class="title">getPackageName</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this class is an inner class, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isInner</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getMethods()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the methods declared or overridden in this class</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaMethod&gt; <span class="title">getMethods</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getConstructors()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the list of constructors</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaConstructor&gt; <span class="title">getConstructors</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the constructor, can be &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching constructor, otherwise &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaConstructor <span class="title">getConstructor</span><span class="params">(List&lt;JavaType&gt; parameterTypes)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the constructor, can be &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> varArg define is the constructor has varArgs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching constructor, otherwise &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaConstructor <span class="title">getConstructor</span><span class="params">(List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> varArg)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Return declared methods and optionally the inherited methods</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses &#123;<span class="doctag">@code</span> true&#125; if inherited methods should be returned as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> all methods</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaMethod&gt; <span class="title">getMethods</span><span class="params">( <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching method, otherwise &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaMethod <span class="title">getMethodBySignature</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * This should be the signature for getMethodBySignature.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> varArgs define if the method has varArgs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching method, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaMethod <span class="title">getMethod</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> varArgs )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses to define if superclasses should be included as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching method, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaMethod <span class="title">getMethodBySignature</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses &#123;<span class="doctag">@code</span> true&#125; if inherited methods should be matched as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> varArg define if the method has varArgs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching method, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaMethod <span class="title">getMethodBySignature</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> superclasses, <span class="keyword">boolean</span> varArg )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses &#123;<span class="doctag">@code</span> true&#125; if inherited methods should be matched as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching methods, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaMethod&gt; <span class="title">getMethodsBySignature</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parameterTypes the parameter types of the method, can be  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses &#123;<span class="doctag">@code</span> true&#125; if inherited methods should be matched as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> varArg define if the method has varArgs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the matching methods, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaMethod&gt; <span class="title">getMethodsBySignature</span><span class="params">( String name, List&lt;JavaType&gt; parameterTypes, <span class="keyword">boolean</span> superclasses,</span></span></span><br><span class="line"><span class="function"><span class="params">                                                   <span class="keyword">boolean</span> varArg )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getFields()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a list of fiels, never  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaField&gt; <span class="title">getFields</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getField(String)&#125;, where this method can resolve every field</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the field</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the field</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaField <span class="title">getFieldByName</span><span class="params">( String name )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Based on &#123;<span class="doctag">@link</span> java.lang.Class#getEnumConstants()&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a List of enum constants if this class is an &lt;code&gt;enum&lt;/code&gt;, otherwise  &#123;<span class="doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaField&gt; <span class="title">getEnumConstants</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name the name of the enum constant</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the enumConstant matching the &#123;<span class="doctag">@code</span> name&#125;, otherwise &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaField <span class="title">getEnumConstantByName</span><span class="params">( String name )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> Class#getDeclaredClasses()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a list of declared classes, never &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaClass&gt; <span class="title">getNestedClasses</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">JavaClass <span class="title">getNestedClassByName</span><span class="params">( String name )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fullyQualifiedName the FQN to match with</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> true&#125; if this is of type FQN, otherwise &#123;<span class="doctag">@code</span> false&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isA</span><span class="params">( String fullyQualifiedName )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> javaClass the JavaClass to match with</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> true&#125; if this is of type &#123;<span class="doctag">@literal</span> javaClass&#125;, otherwise &#123;<span class="doctag">@code</span> false&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isA</span><span class="params">( JavaClass javaClass )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the depth of this array, 0 if it&#x27;s not an array</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> The depth of this array, at least &lt;code&gt;0&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDimensions</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this JavaClass is an array, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isArray</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this JavaClass is a void, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0 (was part of Type since 1.6)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isVoid</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> Class#getComponentType()&#125;</span></span><br><span class="line"><span class="comment">     * If this type is an array, return its component type</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the type of array if it&#x27;s one, otherwise &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">JavaClass <span class="title">getComponentType</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Gets bean properties without looking in superclasses or interfaces.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the bean properties</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;BeanProperty&gt; <span class="title">getBeanProperties</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses to define if superclasses should be included as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the bean properties</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;BeanProperty&gt; <span class="title">getBeanProperties</span><span class="params">( <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Gets bean property without looking in superclasses or interfaces.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> propertyName the name of the property</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the bean property</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">BeanProperty <span class="title">getBeanProperty</span><span class="params">( String propertyName )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> propertyName the name of the property</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> superclasses to define if superclasses should be included as well</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the bean property</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">BeanProperty <span class="title">getBeanProperty</span><span class="params">( String propertyName, <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> Class#getClasses()&#125;</span></span><br><span class="line"><span class="comment">     * Gets the known derived classes. That is, subclasses or implementing classes.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the derived classes</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaClass&gt; <span class="title">getDerivedClasses</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;DocletTag&gt; <span class="title">getTagsByName</span><span class="params">( String name, <span class="keyword">boolean</span> superclasses )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ClassLibrary <span class="title">getJavaClassLibrary</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A list if &#123;<span class="doctag">@link</span> JavaInitializer&#125;, either static or instance initializers.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a List of initializers</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;JavaInitializer&gt; <span class="title">getInitializers</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getName()&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the name of the entity (class, interface, array class, primitive type, or void) represented by this Class object, as a String.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> java.lang.Class#getSimpleName()&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the simple name of the underlying class as given in the source code.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">String <span class="title">getSimpleName</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Equivalent of &#123;<span class="doctag">@link</span> Class#getModifiers()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * &lt;strong&gt;This does not follow the java-api&lt;/strong&gt;</span></span><br><span class="line"><span class="comment">     * The Class.getModifiers() returns an &lt;code&gt;int&lt;/code&gt;, which should be decoded with the &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier&#125;.</span></span><br><span class="line"><span class="comment">     * This method will return a list of strings representing the modifiers.</span></span><br><span class="line"><span class="comment">     * If this member was extracted from a source, it will keep its order.</span></span><br><span class="line"><span class="comment">     * Otherwise if will be in the preferred order of the java-api.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> all modifiers is this member</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;String&gt; <span class="title">getModifiers</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isPublic(int)&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the public modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class has the public modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isPublic</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isProtected(int)&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the protected modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class has the protected modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isProtected</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isPrivate(int)&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the private modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class has the private modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isPrivate</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isFinal(int)&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the final modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class has the final modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isFinal</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isStatic(int)&#125;)</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the static modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class the static modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isStatic</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.reflect.Modifier#isAbstract(int)&#125;)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Return &lt;code&gt;true&lt;/code&gt; if the class includes the abstract modifier, &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if class has the abstract modifier, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isAbstract</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  Equivalent of  &#123;<span class="doctag">@link</span> java.lang.Class#isPrimitive()&#125;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &lt;code&gt;true&lt;/code&gt; if this class represents a primitive, otherwise &lt;code&gt;false&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isPrimitive</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (API description of &#123;<span class="doctag">@link</span> java.lang.Class#toString()&#125;)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Converts the object to a string.</span></span><br><span class="line"><span class="comment">     * The string representation is the string &quot;class&quot; or &quot;interface&quot;, followed by a space, and then by the fully qualified name of the class in the format returned by &lt;code&gt;getName&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">     * If this &lt;code&gt;Class&lt;/code&gt; object represents a primitive type, this method returns the name of the primitive type.</span></span><br><span class="line"><span class="comment">     * If this &lt;code&gt;Class&lt;/code&gt; object represents void this method returns &quot;void&quot;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a string representation of this class object.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function">String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° JavaClass æä¾›çš„æ–¹æ³•è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä¸»è¦æœ‰å¦‚ä¸‹è¿™äº›ï¼Œå¤§æ¦‚å¯ä»¥åˆ†æˆä¸¤ç±»:</p><p>ä¸€ç±»æ˜¯ getXXX è¿™ä¸ªæ˜¯é€šè¿‡è·å¾—ç±»ä¸­ä¸åŒçš„ç»„æˆéƒ¨åˆ†çš„ï¼Œæ¯”è¾ƒå¸¸ç”¨æœ‰ getFields ï¼Œå¯ä»¥è·å¾—ç±»æ‰€æœ‰çš„ Field å˜é‡çš„å¯¹è±¡ï¼Œé€šè¿‡ Field åˆå¯ä»¥è·å¾— Field ä¸Šçš„æ³¨è§£ä»¥åŠæ³¨é‡Šï¼Œç±»å‹ã€‚ã€‚ã€‚æ‰€æœ‰å…³äº field çš„ä¿¡æ¯ã€‚åˆæ¯”å¦‚ getTagsã€getMethods é¡¾åæ€ä¹‰æ˜¯è·å¾— javadoc çš„æ³¨é‡ŠåŠæ–¹æ³•åˆ—è¡¨ã€‚</p><p>å¦ä¸€ç±»æ˜¯ isXXX ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥åˆ¤æ–­ç±»çš„ä¸€å®šç‰¹æ€§çš„ï¼Œæ¯”å¦‚ isEnum åˆ¤æ–­ç±»æ˜¯å¦æ˜¯æšä¸¾ï¼ŒisInterface åˆ¤æ–­æ˜¯å¦æ˜¯æ¥å£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™äº›æ–¹æ³•åï¼Œå…¶å®ä¹Ÿæ˜¯ç”¨ QDox æ‰“å°å‡ºæ¥çš„</span></span><br><span class="line">getBeanProperties</span><br><span class="line">getBeanProperty</span><br><span class="line">getCodeBlock</span><br><span class="line">getComponentType</span><br><span class="line">getConstructor</span><br><span class="line">getConstructors</span><br><span class="line">getDeclaringClass</span><br><span class="line">getDerivedClasses</span><br><span class="line">getDimensions</span><br><span class="line">getEnumConstantByName</span><br><span class="line">getEnumConstants</span><br><span class="line">getFieldByName</span><br><span class="line">getFields</span><br><span class="line">getImplements</span><br><span class="line">getInitializers</span><br><span class="line">getInterfaces</span><br><span class="line">getJavaClassLibrary</span><br><span class="line">getMethod</span><br><span class="line">getMethodBySignature</span><br><span class="line">getMethods</span><br><span class="line">getMethodsBySignature</span><br><span class="line">getModifiers</span><br><span class="line">getName</span><br><span class="line">getNestedClassByName</span><br><span class="line">getNestedClasses</span><br><span class="line">getPackage</span><br><span class="line">getPackageName</span><br><span class="line">getParentSource</span><br><span class="line">getSimpleName</span><br><span class="line">getSource</span><br><span class="line">getSuperClass</span><br><span class="line">getSuperJavaClass</span><br><span class="line">getTagsByName</span><br><span class="line">isA</span><br><span class="line">isAbstract</span><br><span class="line">isAnnotation</span><br><span class="line">isArray</span><br><span class="line">isEnum</span><br><span class="line">isFinal</span><br><span class="line">isInner</span><br><span class="line">isInterface</span><br><span class="line">isPrimitive</span><br><span class="line">isPrivate</span><br><span class="line">isProtected</span><br><span class="line">isPublic</span><br><span class="line">isStatic</span><br><span class="line">isVoid</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´-Demo"><a href="#å®Œæ•´-Demo" class="headerlink" title="å®Œæ•´ Demo"></a>å®Œæ•´ Demo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) 2016-2020 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.qdox;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.thoughtworks.qdox.JavaProjectBuilder;</span><br><span class="line"><span class="keyword">import</span> com.thoughtworks.qdox.model.JavaClass;</span><br><span class="line"><span class="keyword">import</span> com.thoughtworks.qdox.model.JavaMethod;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> DemoParser.java, v 0.1 2020-03-22 19:03 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoParser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»º java é¡¹ç›® builder å¯¹è±¡</span></span><br><span class="line">        JavaProjectBuilder javaProjectBuilder = <span class="keyword">new</span> JavaProjectBuilder();</span><br><span class="line">        <span class="comment">// æ·»åŠ  java æºæ–‡ä»¶</span></span><br><span class="line">        javaProjectBuilder.addSource(<span class="keyword">new</span> File(<span class="string">&quot;/Users/kiwi/study/code/study-example/study-qdox-example/src/main/java/cn/coder4j/study/example/qdox/Demo.java&quot;</span>));</span><br><span class="line">        <span class="comment">// è·å¾—è§£æåçš„ç±»</span></span><br><span class="line">        Collection&lt;JavaClass&gt; classes = javaProjectBuilder.getClasses();</span><br><span class="line">        <span class="keyword">for</span> (JavaClass javaClass : classes) &#123;</span><br><span class="line">            <span class="comment">// æ‰“å°ç±»ç›¸å…³ä¿¡æ¯</span></span><br><span class="line">            System.out.println(<span class="string">&quot;ç±»å:&quot;</span> + javaClass.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;å®ç°äº†å“ªäº›ç±»ï¼š&quot;</span> + javaClass.getImplements());</span><br><span class="line">            System.out.println(<span class="string">&quot;ç»§æ‰¿å“ªä¸ªç±»ï¼š&quot;</span> + javaClass.getSuperJavaClass());</span><br><span class="line">            System.out.println(<span class="string">&quot;æ³¨é‡Šï¼š&quot;</span> + javaClass.getComment());</span><br><span class="line">            <span class="comment">// è·å¾—æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line">            List&lt;JavaMethod&gt; methods = javaClass.getMethods();</span><br><span class="line">            <span class="keyword">for</span> (JavaMethod method : methods) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ–¹æ³•åæ˜¯ï¼š&quot;</span> + method.getName());</span><br><span class="line">                System.out.println(<span class="string">&quot;æ–¹æ³•çš„ Tags æœ‰å“ªäº›ï¼š&quot;</span> + method.getTags().stream().map(it -&gt; it.getName() + <span class="string">&quot;-&gt;&quot;</span>+ it.getValue()).collect(Collectors.joining(<span class="string">&quot;\n&quot;</span>)));</span><br><span class="line">                System.out.println(<span class="string">&quot;æ–¹æ³•çš„å‚æ•°æœ‰å“ªäº›ï¼š&quot;</span> + method.getParameters());</span><br><span class="line">                System.out.println(<span class="string">&quot;æ–¹æ³•çš„è¿”å›å€¼æœ‰å“ªäº›ï¼š&quot;</span> + method.getReturns());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç±»å:Demo</span><br><span class="line">å®ç°äº†å“ªäº›ç±»ï¼š[java.io.Serializable]</span><br><span class="line">ç»§æ‰¿å“ªä¸ªç±»ï¼š<span class="class"><span class="keyword">class</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Object</span></span></span><br><span class="line"><span class="class">æ³¨é‡Šï¼šè¿™æ˜¯ä¸€ä¸ª <span class="title">demo</span> ç±»</span></span><br><span class="line"><span class="class">æ–¹æ³•åæ˜¯ï¼š<span class="title">hello</span></span></span><br><span class="line"><span class="class">æ–¹æ³•çš„ <span class="title">Tags</span> æœ‰å“ªäº›ï¼š<span class="title">param</span>-&gt;<span class="title">name</span> å§“å</span></span><br><span class="line"><span class="class"><span class="title">return</span>-&gt;<span class="title">hello</span> </span>&#123;name&#125;</span><br><span class="line">æ–¹æ³•çš„å‚æ•°æœ‰å“ªäº›ï¼š[String name]</span><br><span class="line">æ–¹æ³•çš„è¿”å›å€¼æœ‰å“ªäº›ï¼šjava.lang.String</span><br></pre></td></tr></table></figure><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="é¡¹ç›®ä»£ç "><a href="#é¡¹ç›®ä»£ç " class="headerlink" title="é¡¹ç›®ä»£ç "></a>é¡¹ç›®ä»£ç </h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå¦‚é‡åˆ°é—®é¢˜å¯åˆ° Â <a href="https://github.com/kiwiflydream/study-example/tree/master/study-qdox-example">github</a> ä¸ŠæŸ¥çœ‹æºç ã€‚</p><h3 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h3><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1584883444778-7ccbdded-8a8a-4281-b645-0ac585337440.png#align=left&display=inline&height=500&name=image.png&originHeight=500&originWidth=900&size=292275&status=done&style=none&width=900" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> qdox </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qdox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¹¶å‘é‚£äº›äº‹ã€‘çº¿ç¨‹æœ‰åºåŒ–ç¥å™¨CompletionService</title>
      <link href="/posts/3df73832/"/>
      <url>/posts/3df73832/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1582037585459-bd2594d2-21f6-4801-af65-dcf70611bfe0.png#align=left&display=inline&height=383&name=image.png&originHeight=383&originWidth=900&size=662400&status=done&style=none&width=900" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯è¯´æœ‰ä¸€å¤©ï¼Œäº§å“ç»ç†çªç„¶æ‰¾åˆ°æ­£åœ¨æ‘¸é±¼çš„ä½ ã€‚</p><p>äº§å“ï¼šã€æˆ‘ä»¬è¦åŠ ä¸€ä¸ªèšåˆæœç´¢åŠŸèƒ½ï¼Œå½“ç”¨æˆ·åœ¨æˆ‘ä»¬ç½‘ç«™æŸ¥è¯¢ä¸€ä»¶å•†å“æ—¶ï¼Œæˆ‘ä»¬åˆ†åˆ«ä» Aã€Bã€C ä¸‰ä¸ªç½‘ç«™ä¸ŠæŸ¥è¯¢è¿™ä¸ªä¿¡æ¯ï¼Œç„¶åå†æŠŠå¾—åˆ°çš„ç»“æœè¿”å›ç»™ç”¨æˆ·ã€</p><p>ä½ ï¼šã€å“¦ï¼Œå°±æ˜¯å†™ä¸ªçˆ¬è™«ï¼Œä» 3 ä¸ªç½‘ç«™ä¸ŠæŠ“å–æ•°æ®æ˜¯å§ï¼Ÿã€</p><p>äº§å“ï¼šã€å‘¸ï¼Œçˆ¬è™«æ˜¯çŠ¯æ³•çš„ï¼Œè¿™å«æ•°æ®åˆ†æï¼Œæ€ä¹ˆæ ·ï¼Œèƒ½å®ç°å§ï¼Ÿã€</p><p>ä½ ï¼šã€å¯ä»¥ã€</p><p>äº§å“ï¼šã€å¥½çš„ï¼Œæ˜å¤©ä¸Šçº¿ã€</p><p>ä½ ï¼šã€ã€‚ã€‚ã€‚ã€</p><h2 id="Code-1-0"><a href="#Code-1-0" class="headerlink" title="Code 1.0"></a>Code 1.0</h2><p>ä½ å¾ˆå¿«å®Œæˆäº†å¼€å‘ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) B0A6-B0B0 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.thread.ThreadUtil;</span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Lists;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> TestCompletionService.java, v 0.A B0B0-0B-A8 A9:0C buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCompletionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢ä¿¡æ¯</span></span><br><span class="line">        String queryName = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æŸ¥è¯¢æ¥å£</span></span><br><span class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">        List&lt;String&gt; result = queryInfoCode1(queryName);</span><br><span class="line">        System.out.println(<span class="string">&quot;è€—æ—¶: &quot;</span> + (System.currentTimeMillis() - startTime));</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 1</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode1</span><span class="params">(String queryName)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">        String webA = searchWebA(queryName);</span><br><span class="line">        resultList.add(webA);</span><br><span class="line"></span><br><span class="line">        String webB = searchWebB(queryName);</span><br><span class="line">        resultList.add(webB);</span><br><span class="line"></span><br><span class="line">        String webC = searchWebC(queryName);</span><br><span class="line">        resultList.add(webC);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™ A</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebA</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">5000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webA&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™B</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebB</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">3000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™C</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebC</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">500</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webC&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ è¿è¡Œäº†ä¸€ä¸‹ä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è€—æ—¶: <span class="number">8512</span></span><br><span class="line">[webA, webB, webC]</span><br></pre></td></tr></table></figure><p>æˆ‘å»ï¼Œæ€ä¹ˆè¯·æ±‚ä¸€ä¸‹è¦ 8 ç§’å¤šï¼Ÿä¸Šçº¿äº†ï¼Œäº§å“è¿˜ä¸ç æ­»æˆ‘ã€‚</p><p>debug äº†ä¸€ä¸‹ä»£ç ï¼Œå‘ç°é—®é¢˜å‡ºåœ¨äº†è¯·æ±‚çš„ç½‘ç«™ä¸Šï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç½‘ç«™ A</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebA</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    ThreadUtil.sleep(<span class="number">5000</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;webA&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç½‘ç«™B</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebB</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    ThreadUtil.sleep(<span class="number">3000</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;webB&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç½‘ç«™C</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebC</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    ThreadUtil.sleep(<span class="number">500</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;webC&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç½‘ç«™ Aã€ç½‘ç«™ B å› ä¸ºå¹´ä¹…å¤±ä¿®ï¼Œæ²¡äººç»´æŠ¤ï¼Œæ¥å£å“åº”å¾ˆæ…¢ï¼Œå¹³å‡å“åº”æ—¶é—´ä¸€ä¸ªæ˜¯ 5 ç§’ï¼Œä¸€ä¸ªæ˜¯ 3 ç§’ï¼ˆè¿™é‡Œä½¿ç”¨ sleep æ¨¡æ‹Ÿï¼‰ã€‚ç½‘ç«™ C æ€§èƒ½è¿˜å¯ä»¥ï¼Œå¹³å‡å“åº”æ—¶é—´ 0.5 ç§’ã€‚ è€Œæˆ‘ä»¬ç¨‹åºçš„æ‰§è¡Œæ—¶é—´å°±æ˜¯ <strong>ç½‘ç«™ A å“åº”æ—¶é—´ + ç½‘ç«™ B å“åº”æ—¶é—´ + ç½‘ç«™ C å“åº”æ—¶é—´ã€‚</strong></p><h2 id="Code-2-0"><a href="#Code-2-0" class="headerlink" title="Code 2.0"></a>Code 2.0</h2><p>å¥½äº†ï¼Œé—®é¢˜çŸ¥é“äº†ï¼Œå› ä¸ºè¯·æ±‚çš„ç½‘ç«™å¤ªæ…¢äº†ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿæ€»ä¸èƒ½æ‰“ç”µè¯æ‰¾ä»–ä»¬æŠŠç½‘ç«™ä¼˜åŒ–ä¸€ä¸‹è®©æˆ‘çˆ¬å§ã€‚ä¹¦ä¸Šæ•™å¯¼æˆ‘ä»¬è¦å…ˆä»è‡ªå·±èº«ä¸Šæ‰¾é—®é¢˜ã€‚å…ˆçœ‹çœ‹è‡ªå·±ä»£ç å“ªé‡Œå¯ä»¥ä¼˜åŒ–ã€‚</p><p>ä¸€åˆ†æä»£ç å‘ç°ï¼Œæˆ‘ä»¬çš„ä»£ç å…¨æ˜¯ä¸²è¡ŒåŒ–ï¼Œ A ç½‘ç«™è¯·æ±‚å®Œï¼Œå†è¯·æ±‚ B ç½‘ç«™ï¼ŒB ç½‘ç«™è¯·æ±‚å®Œå†è¯·æ±‚ C ç½‘ç«™ã€‚çªç„¶æƒ³åˆ°æé«˜æ•ˆç‡çš„ç¬¬ä¸€è¦ä¹‰ï¼Œæé«˜ä»£ç çš„å¹¶è¡Œç‡ã€‚ä¸ºä»€ä¹ˆè¦ä¸€ä¸ªä¸€ä¸ªä¸²è¡Œè¯·æ±‚ï¼Œè€Œä¸æ˜¯ Aã€Bã€C ä¸‰ä¸ªç½‘ç«™ä¸€èµ·è¯·æ±‚å‘¢ï¼ŒJava çš„å¤šçº¿ç¨‹å¾ˆè½»æ¾å°±å¯ä»¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) B0A6-B0B0 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.thread.ThreadUtil;</span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Lists;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> TestCompletionService.java, v 0.A B0B0-0B-A8 A9:0C buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCompletionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢ä¿¡æ¯</span></span><br><span class="line">        String queryName = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æŸ¥è¯¢æ¥å£</span></span><br><span class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">        List&lt;String&gt; result = queryInfoCode2(queryName);</span><br><span class="line">        System.out.println(<span class="string">&quot;è€—æ—¶: &quot;</span> + (System.currentTimeMillis() - startTime));</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 1</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode1</span><span class="params">(String queryName)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">        String webA = searchWebA(queryName);</span><br><span class="line">        resultList.add(webA);</span><br><span class="line"></span><br><span class="line">        String webB = searchWebB(queryName);</span><br><span class="line">        resultList.add(webB);</span><br><span class="line"></span><br><span class="line">        String webC = searchWebC(queryName);</span><br><span class="line">        resultList.add(webC);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 2</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode2</span><span class="params">(String queryName)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º3ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± </span></span><br><span class="line">        ExecutorService pool = Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºä»»åŠ¡çš„ feature</span></span><br><span class="line">            Future&lt;String&gt; webAFuture = pool.submit(() -&gt; searchWebA(queryName));</span><br><span class="line">            Future&lt;String&gt; webBFuture = pool.submit(() -&gt; searchWebB(queryName));</span><br><span class="line">            Future&lt;String&gt; webCFuture = pool.submit(() -&gt; searchWebC(queryName));</span><br><span class="line">            <span class="comment">// å¾—åˆ°ä»»åŠ¡ç»“æœ</span></span><br><span class="line">            resultList.add(webAFuture.get());</span><br><span class="line">            resultList.add(webBFuture.get());</span><br><span class="line">            resultList.add(webCFuture.get());</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å…³é—­çº¿ç¨‹æ± </span></span><br><span class="line">            pool.shutdown();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™ A</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebA</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">5000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webA&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™B</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebB</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">3000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™C</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebC</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">500</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webC&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„é‡ç‚¹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 2</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode2</span><span class="params">(String queryName)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">    List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»º3ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± </span></span><br><span class="line">    ExecutorService pool = Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä»»åŠ¡çš„ feature</span></span><br><span class="line">        Future&lt;String&gt; webAFuture = pool.submit(() -&gt; searchWebA(queryName));</span><br><span class="line">        Future&lt;String&gt; webBFuture = pool.submit(() -&gt; searchWebB(queryName));</span><br><span class="line">        Future&lt;String&gt; webCFuture = pool.submit(() -&gt; searchWebC(queryName));</span><br><span class="line">        <span class="comment">// å¾—åˆ°ä»»åŠ¡ç»“æœ</span></span><br><span class="line">        resultList.add(webAFuture.get());</span><br><span class="line">        resultList.add(webBFuture.get());</span><br><span class="line">        resultList.add(webCFuture.get());</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">// å…³é—­çº¿ç¨‹æ± </span></span><br><span class="line">        pool.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> resultList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·æ±‚ç½‘ç«™çš„ä»£ç å…¶å®ä¸€è¡Œæ²¡å˜ï¼Œå˜çš„æ˜¯æˆ‘ä»¬è°ƒç”¨è¯·æ±‚æ–¹æ³•çš„åœ°æ–¹ï¼ŒæŠŠä¹‹å‰ä¸²è¡Œçš„ä»£ç ï¼Œå˜æˆäº†å¤šçº¿ç¨‹çš„å½¢å¼ï¼Œè€Œä¸”è¿˜ä¸æ˜¯æ™®é€šçš„å¤šçº¿ç¨‹çš„å½¢å¼ï¼Œå› ä¸ºæˆ‘ä»¬è¦åœ¨ä¸»çº¿ç¨‹è·å¾—çº¿ç¨‹çš„ç»“æœï¼Œæ‰€ä»¥è¿˜è¦ä½¿ç”¨ Future çš„å½¢å¼ã€‚ï¼ˆè¿™é‡Œå¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« <a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157695&idx=1&sn=780603b41fb81746c173c0993b3d25b7&chksm=f13f3feac648b6fc112d222954e63546a0ed48d8ce0daa614768cbe7e126bd056a5c51b9bf0f&scene=0&xtrack=1#rd">ã€å¹¶å‘é‚£äº›äº‹ã€‘åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼</a>ï¼‰ã€‚</p><p>å¥½çš„è¿è¡Œä¸€ä¸‹ä»£ç ï¼Œçœ‹çœ‹æ•ˆæœï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è€—æ—¶: <span class="number">5058</span></span><br><span class="line">[webA, webB, webC]</span><br></pre></td></tr></table></figure><p>å—¯ï¼Œæ•ˆæœæ˜æ˜¾ï¼Œä» 8 ç§’å¤šä¸‹é™åˆ°äº† 5 ç§’å¤šï¼Œä½†æ˜¯è¿˜æ˜¯å¾ˆé•¿ï¼Œæ²¡æ³•æ¥å—çš„é•¿ã€‚åšä¸ºä¸€ä¸ªæœ‰è¿½æ±‚çš„ç¨‹åºå‘˜ï¼Œè¿˜è¦å»ä¼˜åŒ–ã€‚æˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼Œåˆšå¼€å§‹ä»£ç æ˜¯ä¸²è¡Œçš„ï¼Œæµç¨‹å¦‚ä¸‹ï¼Œæ€»è¯·æ±‚æ—¶é—´æ˜¯ä¸‰æ¬¡è¯·æ±‚çš„æ€»æ—¶é•¿ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1582032480701-8034db7e-8864-4610-bd6d-f928495f7d1d.png#align=left&display=inline&height=738&name=image.png&originHeight=738&originWidth=1898&size=53851&status=done&style=none&width=1898" alt="image.png"><br>ç„¶åæˆ‘ä»¬ä¼˜åŒ–äº†ä¸€ä¸‹ï¼ŒæŠŠä¸²è¡Œè¯·æ±‚ç»™å¹¶è¡ŒåŒ–ï¼Œæµç¨‹å¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1582032638666-1948978c-9778-4534-a9e0-848a2eafdf70.png#align=left&display=inline&height=1268&name=image.png&originHeight=1268&originWidth=788&size=50053&status=done&style=none&width=788" alt="image.png"><br>å› ä¸ºæ˜¯å¹¶è¡ŒåŒ–ï¼Œç±»ä¼¼æœ¨æ¡¶æ•ˆåº”ï¼Œå†³å®šæœ€é•¿æ—¶é—´çš„å› ç´ ï¼Œæ˜¯ä½ è¯·æ±‚ä¸­æœ€è€—æ—¶çš„çš„é‚£ä¸ªæ“ä½œï¼Œè¿™é‡Œæ˜¯æ—¶é—´ä¸º 5 ç§’çš„è¯·æ±‚ A ç½‘ç«™æ“ä½œã€‚</p><h2 id="Code-3-0"><a href="#Code-3-0" class="headerlink" title="Code 3.0"></a>Code 3.0</h2><p>å…¶å®åˆ†æåˆ°è¿™é‡Œï¼Œåœ¨ä¸èƒ½ä¼˜åŒ– AB ç½‘ç«™çš„è¯·æ±‚æ—¶é—´çš„å‰æä¸‹ï¼Œå·²ç»å¾ˆéš¾ä¼˜åŒ–äº†ã€‚ä½†æ˜¯æ–¹æ³•æ€»æ¯”å›°éš¾å¤šï¼Œæˆ‘ä»¬çš„ç¡®æ²¡åŠæ³•å†å»å‹ç¼©æ€»è¯·æ±‚æ—¶é—´ï¼Œä½†æ˜¯å¯ä»¥è®©ç”¨æˆ·ä½“éªŒæ›´å¥½ä¸€ç‚¹ï¼Œè¿™é‡Œéœ€è¦å¼•å…¥ä¸¤ä¸ªæŠ€æœ¯ä¸€ä¸ªæ˜¯ Websocketï¼Œä¸€ä¸ªæ˜¯ <strong>CompletionServiceã€‚</strong>å…¶ä¸­ websocket å¯ä»¥ç®€å•çš„ç†è§£æˆæœåŠ¡ç«¯æ¨é€æŠ€æœ¯ï¼Œå°±æ˜¯ä¸éœ€è¦å®¢æˆ·ç«¯ä¸»åŠ¨è¯·æ±‚ï¼Œè€Œæ˜¯é€šè¿‡æœåŠ¡ç«¯ä¸»åŠ¨æ¨é€æ¶ˆæ¯ï¼ˆws åœ¨æœ¬æ–‡ä¸­ä¸æ˜¯é‡ç‚¹ï¼Œä¼šä¸€ç¬”å¸¦è¿‡ï¼Œå…·ä½“å®ç°å¯ä»¥å‚è€ƒå‰æ–‡<a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157699&idx=1&sn=879d72a187e65d2ccd297ab44ca50d2c&chksm=f13f3f16c648b6006483c92a5811402726761eb7ea139488623d91029759f7c651f9dd6e3de7&scene=0&xtrack=1#rd">ã€websocketã€‘spring boot é›†æˆ websocket çš„å››ç§æ–¹å¼</a>ï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬ç›´æ¥ä¸Šä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) B0A6-B0B0 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.thread.ThreadUtil;</span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Lists;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorCompletionService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> TestCompletionService.java, v 0.A B0B0-0B-A8 A9:0C buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCompletionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢ä¿¡æ¯</span></span><br><span class="line">        String queryName = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æŸ¥è¯¢æ¥å£</span></span><br><span class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">        queryInfoCode3(queryName);</span><br><span class="line">        System.out.println(<span class="string">&quot;è€—æ—¶: &quot;</span> + (System.currentTimeMillis() - startTime));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 1</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode1</span><span class="params">(String queryName)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">        String webA = searchWebA(queryName);</span><br><span class="line">        resultList.add(webA);</span><br><span class="line"></span><br><span class="line">        String webB = searchWebB(queryName);</span><br><span class="line">        resultList.add(webB);</span><br><span class="line"></span><br><span class="line">        String webC = searchWebC(queryName);</span><br><span class="line">        resultList.add(webC);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 2</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">queryInfoCode2</span><span class="params">(String queryName)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        List&lt;String&gt; resultList = Lists.newArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º3ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± </span></span><br><span class="line">        ExecutorService pool = Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºä»»åŠ¡çš„ feature</span></span><br><span class="line">            Future&lt;String&gt; webAFuture = pool.submit(() -&gt; searchWebA(queryName));</span><br><span class="line">            Future&lt;String&gt; webBFuture = pool.submit(() -&gt; searchWebB(queryName));</span><br><span class="line">            Future&lt;String&gt; webCFuture = pool.submit(() -&gt; searchWebC(queryName));</span><br><span class="line">            <span class="comment">// å¾—åˆ°ä»»åŠ¡ç»“æœ</span></span><br><span class="line">            resultList.add(webAFuture.get());</span><br><span class="line">            resultList.add(webBFuture.get());</span><br><span class="line">            resultList.add(webCFuture.get());</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å…³é—­çº¿ç¨‹æ± </span></span><br><span class="line">            pool.shutdown();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 3</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">queryInfoCode3</span><span class="params">(String queryName)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        <span class="comment">// å¼€å§‹æ—¶é—´</span></span><br><span class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// åˆ›å»º CompletionService</span></span><br><span class="line">        ExecutorCompletionService executorCompletionService = <span class="keyword">new</span> ExecutorCompletionService(Executors.newFixedThreadPool(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä»»åŠ¡çš„ feature</span></span><br><span class="line">        executorCompletionService.submit(() -&gt; searchWebA(queryName));</span><br><span class="line">        executorCompletionService.submit(() -&gt; searchWebB(queryName));</span><br><span class="line">        executorCompletionService.submit(() -&gt; searchWebC(queryName));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            Future take = executorCompletionService.take();</span><br><span class="line">            System.out.println(<span class="string">&quot;è·å¾—è¯·æ±‚ç»“æœ -&gt; &quot;</span> + take.get());</span><br><span class="line">            System.out.println(<span class="string">&quot;é€šè¿‡ ws æ¨é€ç»™å®¢æˆ·ç«¯,æ€»å…±è€—æ—¶&quot;</span> + (System.currentTimeMillis() - startTime));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™ A</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebA</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">5000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webA&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™B</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebB</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">3000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç½‘ç«™C</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">searchWebC</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        ThreadUtil.sleep(<span class="number">500</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;webC&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èšåˆæŸ¥è¯¢ä¿¡æ¯ code 3</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> queryName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">queryInfoCode3</span><span class="params">(String queryName)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">// å¼€å§‹æ—¶é—´</span></span><br><span class="line">    <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">    <span class="comment">// åˆ›å»º CompletionService</span></span><br><span class="line">    ExecutorCompletionService executorCompletionService = <span class="keyword">new</span> ExecutorCompletionService(Executors.newFixedThreadPool(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä»»åŠ¡çš„ feature</span></span><br><span class="line">    executorCompletionService.submit(() -&gt; searchWebA(queryName));</span><br><span class="line">    executorCompletionService.submit(() -&gt; searchWebB(queryName));</span><br><span class="line">    executorCompletionService.submit(() -&gt; searchWebC(queryName));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        Future take = executorCompletionService.take();</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å¾—è¯·æ±‚ç»“æœ -&gt; &quot;</span> + take.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;é€šè¿‡ ws æ¨é€ç»™å®¢æˆ·ç«¯,æ€»å…±è€—æ—¶&quot;</span> + (System.currentTimeMillis() - startTime));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆçœ‹æ‰§è¡Œç»“æœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è·å¾—è¯·æ±‚ç»“æœ -&gt; webC</span><br><span class="line">é€šè¿‡ ws æ¨é€ç»™å®¢æˆ·ç«¯,æ€»å…±è€—æ—¶<span class="number">561</span></span><br><span class="line">è·å¾—è¯·æ±‚ç»“æœ -&gt; webB</span><br><span class="line">é€šè¿‡ ws æ¨é€ç»™å®¢æˆ·ç«¯,æ€»å…±è€—æ—¶<span class="number">3055</span></span><br><span class="line">è·å¾—è¯·æ±‚ç»“æœ -&gt; webA</span><br><span class="line">é€šè¿‡ ws æ¨é€ç»™å®¢æˆ·ç«¯,æ€»å…±è€—æ—¶<span class="number">5060</span></span><br><span class="line">è€—æ—¶: <span class="number">5060</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹æ‰§è¡Œç»“æœï¼Œé¦–å…ˆæ€»è€—æ—¶æ—¶é—´è¿˜æ˜¯ 5 ç§’å¤šæ²¡å˜ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æ˜¯ç­‰å…¨éƒ¨æ‰§è¡Œå®Œå†æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œè€Œæ˜¯æ‰§è¡Œå®Œä¸€ä¸ªå°±æ¨é€ä¸€ä¸ªï¼Œå¹¶ä¸”å‘ç°äº†ä¸€ä¸ªè§„å¾‹ï¼Œæœ€å…ˆæ¨é€çš„æ˜¯è¯·æ±‚æœ€å¿«çš„ï¼Œç„¶åæ˜¯ç¬¬äºŒå¿«çš„ï¼Œæœ€åæ¨æœ€æ…¢çš„é‚£ä¸€ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´æ¨é€ç»“æœæ˜¯æœ‰åºçš„ã€‚ç»™ç”¨æˆ·çš„ä½“éªŒå°±æ˜¯ç‚¹å‡»æŒ‰é’®åï¼Œ1 ç§’å†…ä¼šå±•ç¤ºç½‘ç«™ C çš„æ•°æ®ï¼Œç„¶åè¿‡äº† 2 ç§’åˆåœ¨åŸæœ‰åŸºç¡€ä¸Šåˆæ·»åŠ å¯¼ç¤ºäº†ç½‘ç«™ B æ•°æ®ï¼Œåˆè¿‡äº† 2 ç§’ï¼Œåˆå¢åŠ å±•ç¤ºäº†ç½‘ç«™ A æ•°æ®ã€‚ è¿™ç§ä½“éªŒè¦æ¯”ç”¨æˆ·ä¸€ç›´ç™½å± 5 ç§’ï¼Œç„¶åä¸€ä¸‹è¿”å›æ‰€æœ‰æ•°æ®è¦å¥½çš„å¤šã€‚</p><p>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œè¿™èƒŒåçš„åŠŸè‡£å°±æ˜¯ CompletionServiceï¼Œä»–çš„æºç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A service that decouples the production of new asynchronous tasks</span></span><br><span class="line"><span class="comment"> * from the consumption of the results of completed tasks.  Producers</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> submit&#125; tasks for execution. Consumers &#123;<span class="doctag">@code</span> take&#125;</span></span><br><span class="line"><span class="comment"> * completed tasks and process their results in the order they</span></span><br><span class="line"><span class="comment"> * complete.  A &#123;<span class="doctag">@code</span> CompletionService&#125; can for example be used to</span></span><br><span class="line"><span class="comment"> * manage asynchronous I/O, in which tasks that perform reads are</span></span><br><span class="line"><span class="comment"> * submitted in one part of a program or system, and then acted upon</span></span><br><span class="line"><span class="comment"> * in a different part of the program when the reads complete,</span></span><br><span class="line"><span class="comment"> * possibly in a different order than they were requested.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Typically, a &#123;<span class="doctag">@code</span> CompletionService&#125; relies on a separate</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> Executor&#125; to actually execute the tasks, in which case the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> CompletionService&#125; only manages an internal completion</span></span><br><span class="line"><span class="comment"> * queue. The &#123;<span class="doctag">@link</span> ExecutorCompletionService&#125; class provides an</span></span><br><span class="line"><span class="comment"> * implementation of this approach.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Memory consistency effects: Actions in a thread prior to</span></span><br><span class="line"><span class="comment"> * submitting a task to a &#123;<span class="doctag">@code</span> CompletionService&#125;</span></span><br><span class="line"><span class="comment"> * &lt;a href=&quot;package-summary.html#MemoryVisibility&quot;&gt;&lt;i&gt;happen-before&lt;/i&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * actions taken by that task, which in turn &lt;i&gt;happen-before&lt;/i&gt;</span></span><br><span class="line"><span class="comment"> * actions following a successful return from the corresponding &#123;<span class="doctag">@code</span> take()&#125;.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CompletionService</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Submits a value-returning task for execution and returns a Future</span></span><br><span class="line"><span class="comment">     * representing the pending results of the task.  Upon completion,</span></span><br><span class="line"><span class="comment">     * this task may be taken or polled.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> task the task to submit</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a Future representing pending completion of the task</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> RejectedExecutionException if the task cannot be</span></span><br><span class="line"><span class="comment">     *         scheduled for execution</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if the task is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Future&lt;V&gt; <span class="title">submit</span><span class="params">(Callable&lt;V&gt; task)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Submits a Runnable task for execution and returns a Future</span></span><br><span class="line"><span class="comment">     * representing that task.  Upon completion, this task may be</span></span><br><span class="line"><span class="comment">     * taken or polled.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> task the task to submit</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> result the result to return upon successful completion</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a Future representing pending completion of the task,</span></span><br><span class="line"><span class="comment">     *         and whose &#123;<span class="doctag">@code</span> get()&#125; method will return the given</span></span><br><span class="line"><span class="comment">     *         result value upon completion</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> RejectedExecutionException if the task cannot be</span></span><br><span class="line"><span class="comment">     *         scheduled for execution</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if the task is null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Future&lt;V&gt; <span class="title">submit</span><span class="params">(Runnable task, V result)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Retrieves and removes the Future representing the next</span></span><br><span class="line"><span class="comment">     * completed task, waiting if none are yet present.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the Future representing the next completed task</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> InterruptedException if interrupted while waiting</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Future&lt;V&gt; <span class="title">take</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Retrieves and removes the Future representing the next</span></span><br><span class="line"><span class="comment">     * completed task, or &#123;<span class="doctag">@code</span> null&#125; if none are present.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the Future representing the next completed task, or</span></span><br><span class="line"><span class="comment">     *         &#123;<span class="doctag">@code</span> null&#125; if none are present</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Future&lt;V&gt; <span class="title">poll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Retrieves and removes the Future representing the next</span></span><br><span class="line"><span class="comment">     * completed task, waiting if necessary up to the specified wait</span></span><br><span class="line"><span class="comment">     * time if none are yet present.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeout how long to wait before giving up, in units of</span></span><br><span class="line"><span class="comment">     *        &#123;<span class="doctag">@code</span> unit&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> unit a &#123;<span class="doctag">@code</span> TimeUnit&#125; determining how to interpret the</span></span><br><span class="line"><span class="comment">     *        &#123;<span class="doctag">@code</span> timeout&#125; parameter</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the Future representing the next completed task or</span></span><br><span class="line"><span class="comment">     *         &#123;<span class="doctag">@code</span> null&#125; if the specified waiting time elapses</span></span><br><span class="line"><span class="comment">     *         before one is present</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> InterruptedException if interrupted while waiting</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Future&lt;V&gt; <span class="title">poll</span><span class="params">(<span class="keyword">long</span> timeout, TimeUnit unit)</span> <span class="keyword">throws</span> InterruptedException</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° Â CompletionService æ–¹æ³•ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><ol><li><p>Future<V> submit(Callable<V> task);</p><blockquote><p>submit ç”¨äºæäº¤ä¸€ä¸ª Callable å¯¹è±¡ï¼Œç”¨äºæäº¤ä¸€ä¸ªå¯ä»¥è·å¾—ç»“æœçš„çº¿ç¨‹ä»»åŠ¡</p></blockquote></li><li><p>Future<V> submit(Runnable task, V result);</p><blockquote><p>submit ç”¨äºæäº¤ä¸€ä¸ª Runnable å¯¹è±¡åŠ result å¯¹è±¡ï¼Œç±»ä¼¼äºä¸Šé¢çš„ submitï¼Œä½†æ˜¯ runnable çš„è¿”å›å€¼ void æ— æ³•è·å¾—çº¿ç¨‹çš„ç»“æœï¼Œæ‰€ä»¥æ·»åŠ äº† result ç”¨äºåšä¸ºå‚æ•°çš„æ¡¥æ¢</p></blockquote></li><li><p>Future<V> take() throws InterruptedException;</p><blockquote><p>take ç”¨äºå–å‡ºæœ€æ–°çš„çº¿ç¨‹æ‰§è¡Œç»“æœï¼Œæ³¨æ„è¿™é‡Œæ˜¯é˜»å¡çš„</p></blockquote></li><li><p>Future<V> poll();</p><blockquote><p>take ç”¨äºå–å‡ºæœ€æ–°çš„çº¿ç¨‹æ‰§è¡Œç»“æœï¼Œæ˜¯éé˜»å¡çš„ï¼Œå¦‚æœæ²¡æœ‰ç»“æœå°±è¿”å› null</p></blockquote></li><li><p>Future<V> poll(long timeout, TimeUnit unit) throws InterruptedException;</p><blockquote><p>åŒä¸Šï¼Œåªæ˜¯åŠ äº†ä¸€ä¸ªè¶…æ—¶æ—¶é—´</p></blockquote></li></ol><p>å¦å¤–ï¼ŒCompletionService æ˜¯æ¥å£ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œé€šå¸¸ä½¿ç”¨ä»–çš„å®ç°ç±» Â ExecutorCompletionServiceï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸Šé¢çš„ demoã€‚</p><p>å¯èƒ½çœ‹åˆ°è¿™é‡Œä¼šå¾ˆå¥½å¥‡ Â ExecutorCompletionService å®ç°åŸç†ï¼Œå…¶å®åŸç†å¾ˆç®€å•ï¼Œä»–åœ¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œæäº¤çš„ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå®Œçš„å…ˆè¿›å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä½ é€šè¿‡ poll æˆ– take è·å¾—çš„è‚¯å®šæ˜¯æœ€å…ˆæ‰§è¡Œå®Œçš„ä»»åŠ¡ç»“æœã€‚</p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="1-é¡¹ç›®ä»£ç "><a href="#1-é¡¹ç›®ä»£ç " class="headerlink" title="1. é¡¹ç›®ä»£ç "></a>1. é¡¹ç›®ä»£ç </h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå¦‚é‡åˆ°é—®é¢˜å¯åˆ°<a href="https://github.com/kiwiflydream/study-example/tree/master/study-thread-example">github</a>ä¸ŠæŸ¥çœ‹æºç ã€‚</p><h2 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h2><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ä¸ªäººå…¬ä¼—å· <strong>KIWI çš„ç¢ç¢å¿µ</strong> ï¼Œå…³æ³¨åå›å¤ <strong>ç¦åˆ©</strong>ï¼Œæµ·é‡å­¦ä¹ å†…å®¹å…è´¹åˆ†äº«ï¼</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1578492545265-0511dd63-d473-4260-acd9-2e9bad7dec18.png#align=left&display=inline&height=137&name=image.png&originHeight=130&originWidth=453&size=34316&status=done&style=none&width=476#align=left&display=inline&height=130&originHeight=130&originWidth=453&status=done&style=none&width=453" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘é‚£äº›äº‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘é‚£äº›äº‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Jasyptã€‘ç»™ä½ çš„é…ç½®åŠ æŠŠé”</title>
      <link href="/posts/d0687c8b/"/>
      <url>/posts/d0687c8b/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1577972231962-a66da8bd-c22b-4924-bee6-ae77fd583bf9.png#align=left&display=inline&height=1584&name=image.png&originHeight=3168&originWidth=4752&size=2493712&status=done&style=none&width=2376" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰å‡ å¤©ï¼Œæœ‰ä¸ªå‰åŒäº‹å‘æˆ‘åæ§½ï¼Œä»–ä»¬å…¬å¸æœ‰ä¸ªå¤§ç¥æŠŠå…¬å¸çš„é¡¹ç›®ä»£ç å…¨éƒ¨ä¸Šä¼ åˆ°äº† githubï¼Œå¹¶ä¸”æ˜¯å…¬å¼€é¡¹ç›®ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥æµè§ˆã€‚æ›´åŠ ææ€–çš„æ˜¯é¡¹ç›®é‡Œé¢åŒ…å«é…ç½®æ–‡ä»¶ï¼Œæ•°æ®åº“ä¿¡æ¯ã€redis é…ç½®ã€å„ç§å…¬é’¥ç§é’¥å¯†ç å…¨åœ¨é¡¹ç›®é‡Œé¢ï¼Œä¹Ÿä¸€åŒä¸Šä¼ äº†ã€‚</p><p>å¦‚æœåªæ˜¯å•çº¯çš„ä¸šåŠ¡ä»£ç æ³„éœ²ï¼Œæƒ…å†µå€’è¿˜å¥½ï¼Œå› ä¸ºåˆ«äººçŸ¥é“ä½ ä»£ç ï¼Œè¦æƒ³æä½ ï¼Œä»–å¿…é¡»è¦æŠŠæºç çœ‹ä¸€éï¼Œåˆ†ææ¼æ´ã€‚ åˆå› ä¸ºä»£ç ä¸Šçº¿ï¼Œç»è¿‡äº†å±‚å±‚æµ‹è¯•ï¼Œæ¼æ´ä¹Ÿä¸å¥½æ‰¾ï¼Œè‡³å°‘çŸ­æ—¶é—´å†…ä¸å¥½æ‰¾ã€‚ä½†æ˜¯åˆ«äººæ‹¿åˆ°ä½ çš„æ•°æ®åº“ä¿¡æ¯ï¼Œé‚£å°±å¼€å¯äº†ä¸Šå¸æ¨¡å¼ï¼Œæƒ³æ€ä¹ˆç©å°±æ€ä¹ˆç©ï¼Œåˆ åº“éƒ½ä¸ç”¨è·‘è·¯çš„ã€‚</p><p>ä¸è¿‡ï¼Œè¿˜å¥½ä»–ä»¬å‘ç°çš„åŠæ—¶ï¼Œç¬¬ä¸€æ—¶é—´åˆ é™¤äº† github ä¸Šçš„é¡¹ç›®ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯å½“æ—¶çš„é¡¹ç›®æ²¡æœ‰äººæ‹‰åˆ°æœ¬åœ°ï¼Œæ‰€ä»¥ç¬¬äºŒå°±æ˜¯æŠŠé…ç½®æ–‡ä»¶å†…çš„å„é¡¹é…ç½®éƒ½æ›´æ”¹ä¸€éï¼Œæ”¹é…ç½®å¬èµ·æ¥ç®€å•ï¼Œä½†æ˜¯è¦çŸ¥é“æœ‰äº›é…ç½®æ˜¯ä¸èƒ½çƒ­æ›´æ–°çš„ã€‚å¾ˆå¤šé…ç½®è¦æŠŠå‰ä¸€ä¸ªé…ç½®ä¿®æ”¹åæ‰èƒ½ä½¿ç”¨ï¼Œæ–°è€é…ç½®ä¸èƒ½å…±å­˜ï¼Œä½ æ”¹çš„ç¬é—´è¿è¡Œçš„é¡¹ç›®å°±å´©äº†ï¼Œå¿…é¡»è¦åœæœºç»´æŠ¤æ‰å¯ä»¥ã€‚ä¸ºäº†å˜æ›´é…ç½®ä»–ä»¬èŠ±äº†å¤§é‡çš„äººåŠ›ç‰©åŠ›ä¸ç²¾åŠ›ã€‚</p><p>å…¶å®è¿™ç§æƒ¨ç—›çš„æ•™è®­æœ¬å¯ä»¥é¿å…çš„ï¼Œé˜²æ­¢é…ç½®æ³„éœ²ï¼Œé€šç”¨çš„æœ‰ä¸¤ç§å½¢å¼ã€‚ä¸€ç§æ˜¯ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼Œæœ¬åœ°ä¸ä¿å­˜é…ç½®ï¼Œå¯åŠ¨çš„æ—¶å€™ä»é…ç½®ä¸­å¿ƒè·å–ï¼Œè¿™åº”è¯¥æ˜¯æœ€ä¼˜è§£äº†ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™ä½ æ‰€åšçš„é¡¹ç›®å¹¶æ²¡æœ‰ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼Œé…ç½®å°±åœ¨é¡¹ç›®é‡Œé¢è£¸å¥”ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ¬åœ°åŠ å¯†çš„å½¢å¼é˜²æ­¢é…ç½®æ³„éœ²äº†ï¼Œå¸¸ç”¨æ¡†æ¶æ˜¯ Â jasyptã€‚åŒæ—¶å®ƒä¹Ÿæ˜¯æœ¬æ–‡çš„ä¸»é¢˜ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹ï¼Œçœ‹çœ‹å¦‚æœä½¿ç”¨ Â jasypt è¿›è¡Œé…ç½®åŠ å¯†ã€‚</p><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><h3 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.ulisesbocchio<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jasypt-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.ulisesbocchio<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jasypt-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å¦‚æœä½ ä½¿ç”¨äº† spring boot é‚£ä¹ˆä½¿ç”¨ Â jasypt å¾ˆç®€å•ï¼Œåªè¦ä¾èµ–ä¸€ä¸ª Â jasypt-spring-boot-starter åŒ…å°±å¯ä»¥äº†ã€‚</p><p>è‡³äº Â jasypt-maven-plugin æ˜¯æ–¹ä¾¿æˆ‘ä»¬åŠ å¯†è§£å¯†é…ç½®çš„ maven æ’ä»¶ï¼Œåé¢ä¼šè¯´ç”¨æ³•ã€‚</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my.conf.test1=123</span><br><span class="line">my.conf.test2=DEC(123)</span><br><span class="line"><span class="comment"># è®°å¾—çœ‹æœ€ä½³å®è·µ</span></span><br><span class="line">jasypt.encryptor.password=lE1rl5K$</span><br></pre></td></tr></table></figure><h3 id="è¯´æ˜-1"><a href="#è¯´æ˜-1" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>æ€»å…±æœ‰ä¸‰ä¸ªé…ç½®ï¼Œç¬¬ä¸€ä¸ªé…ç½® Â <strong>my.conf.test1</strong> æ˜¯ä¸éœ€è¦åŠ å¯†çš„é…ç½®ï¼Œç¬¬äºŒä¸ªé…ç½® <strong>my.conf.test2</strong> æ˜¯éœ€è¦åŠ å¯†çš„é…ç½®ï¼Œè¦åŠ å¯†çš„å†…å®¹æ˜¯ <strong>123</strong>ã€‚æ³¨æ„ä»–çš„æ ¼å¼çš„æ˜¯ <strong>DEC(å¾…åŠ å¯†å†…å®¹)**ã€‚ç¬¬ä¸‰ä¸ª **jasypt.encryptor.password</strong>Â  é…ç½®æ˜¯æˆ‘ä»¬çš„åŠ å¯†ç§é’¥ï¼Œé»˜è®¤ä½¿ç”¨çš„åŠ å¯†ç®—æ³•æ˜¯ Â <strong>PBEWITHHMACSHA512ANDAES_256</strong>Â ï¼Œè¿™ä¸ªå¯†é’¥å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼Œè€Œ Â  Â <strong>lE1rl5K$</strong> åªæ˜¯æˆ‘éšæœºç”Ÿæˆçš„ï¼Œä½ å¯ä»¥è‡ªç”±å‘æŒ¥ã€‚</p><h2 id="ç”ŸæˆåŠ å¯†å†…å®¹"><a href="#ç”ŸæˆåŠ å¯†å†…å®¹" class="headerlink" title="ç”ŸæˆåŠ å¯†å†…å®¹"></a>ç”ŸæˆåŠ å¯†å†…å®¹</h2><p>å¥½äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„é…ç½®è¿˜æ˜¯æ˜æ–‡çš„ã€‚<strong>my.conf.test2</strong> æ˜¯æˆ‘ä»¬æƒ³åŠ å¯†çš„é…ç½®ï¼Œä»–ä¸ Â <strong>my.conf.test1</strong> å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å¤šäº†ä¸€ä¸ª <strong>DEC()</strong> åŒ…è£¹ï¼Œè¿™ç®—å“ªé—¨å­åŠ å¯†ï¼Œå…¶å®æˆ‘ä»¬è¿˜å·®ä¸€æ­¥ã€‚è¿˜è®°å¾—æˆ‘ä»¬ä¸Šé¢åŠ ä¾èµ–çš„æ—¶å€™ï¼Œé…ç½®äº†ä¸€ä¸ª Maven æ’ä»¶å—ï¼Ÿç°åœ¨å°±æ˜¯ç”¨åˆ°ä»–çš„æ—¶å€™ï¼Œåœ¨æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•è·¯å¾„ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn jasypt:encrypt -Djasypt.encryptor.password=<span class="string">&quot;lE1rl5K$&quot;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œpassword è¦æ¢æˆä½ è‡ªå·±åœ¨ä¸Šæ–‡é…ç½®çš„å¯†é’¥ã€‚æ‰§è¡Œå®Œåï¼Œçœ‹åˆ°ç»ˆç«¯è¾“å‡ºäº†ä¸€å¤§å †æ—¥å¿—ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚ä½†æ˜¯çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ</p><p>ä½ å†æ‰“å¼€ Â <strong>application.properties</strong> çœ‹ä¸€ä¸‹ï¼Œæœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">my.conf.test1=123</span><br><span class="line">my.conf.test2=ENC(0ZWzuD2DH0BZ8ANGMZxQyC6wv84sQLJtE6u7bcRjU+DntbMgkBvE2Z4fSzKKhYN8)</span><br><span class="line">jasypt.encryptor.password=lE1rl5K$</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°ï¼Œä¸‰ä¸ªé…ç½®ä¸­å…¶å®ƒä¸¤ä¸ªæ˜¯åŸæ¥çš„æ ·å­ï¼Œä½†æ˜¯ Â <strong>my.conf.test2</strong> å˜äº†ï¼Œé¦–å…ˆæ ¼å¼ä»ä¹‹å‰ <strong>DEC(xxx)</strong> å˜æˆäº† <strong>ENC(xxx)</strong> ã€‚å¦å¤–æ‹¬å·çš„ <strong>123</strong> å˜æˆäº† Â <strong>0ZWzuD2DH0BZ8ANGMZxQyC6wv84sQLJtE6u7bcRjU+DntbMgkBvE2Z4fSzKKhYN8</strong> ã€‚</p><p>è¿™å…¶å®å°±æ˜¯é…ç½®åŠ å¯†åçš„æ ·å­ã€‚è¿™æ¡å‘½ä»¤çš„åŠŸèƒ½å…¶å®å¾ˆç®€å•:</p><ol><li>ä»é…ç½®æ–‡ä»¶ä¸­åŠ è½½é…ç½®</li><li>ä»é…ç½®ä¸­æ‰¾åˆ°æœ‰ <strong>DEC(xxx)</strong> æ ¼å¼å¹¶ä¸”ä¸æ˜¯ <strong>jasypt</strong> å¼€å¤´çš„é…ç½®</li><li>ä½¿ç”¨é…ç½®çš„å¯†é’¥åŠ å¯†å¹¶è¦†ç›–é…ç½®ä¸º <strong>ENC(åŠ å¯†åçš„å€¼)</strong></li></ol><p>å¦å¤–é€šè¿‡æ’ä»¶ä¹Ÿå¯ä»¥è§£å¯†ï¼Œä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn jasypt:decrypt -Djasypt.encryptor.password=<span class="string">&quot;lE1rl5K$&quot;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿™æ¡å‘½ä»¤ä¼šåè¿‡æ¥ï¼ŒæŠŠ <strong>ENC(xxx)</strong> å†…å®¹çš„é…ç½®è§£å¯†æˆ <strong>DEC(æ˜æ–‡)</strong> æ‰“å°åœ¨æ§åˆ¶å°ï¼Œæ³¨æ„æ˜¯æ§åˆ¶å°ï¼Œè€Œä¸æ˜¯æŠŠé…ç½®æ–‡ä»¶å˜å›å»ï¼Œä½œè€…è¯´è¿™æ ·æ˜¯ä¸ºäº†å®‰å…¨ã€‚</p><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><h3 id="TestController-java"><a href="#TestController-java" class="headerlink" title="TestController.java"></a>TestController.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.jasypt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> TestController.java, v 0.1 2019-12-26 10:55 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;my.conf.test1&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String confTest1;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;my.conf.test2&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String confTest2;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/getConf/&#123;type&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getConfTest</span><span class="params">(<span class="meta">@PathVariable</span> Integer type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> confTest1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> confTest2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯´æ˜-2"><a href="#è¯´æ˜-2" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>ä»£ç å…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆé€šè¿‡ Â <a href="#">@Value</a>Â  çš„æ–¹å¼è¯»å–é…ç½®ï¼ŒåŒæ—¶æŠŠæ²¡æœ‰åŠ å¯†çš„é…ç½®ä¸åŠ å¯†çš„é…ç½®éƒ½è¯»å‡ºæ¥ï¼Œç„¶åé€šè¿‡æ¥å£ï¼Œå½“è·¯å¾„å‚æ•°ä¸º 1 çš„æ—¶å€™è¿”å›æ²¡æœ‰ç»è¿‡åŠ å¯†çš„å‚æ•°ï¼Œå½“è·¯å¾„å‚æ•°ä¸º 2 çš„æ—¶å€™è¿”å›åŠ å¯†è¿‡çš„å‚æ•°ã€‚è¦æ˜¯éƒ½è¿”å› 123 è¯´æ˜æˆ‘ä»¬æˆåŠŸäº†ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿éªŒè¯ï¼Œç›´æ¥ç”¨ IDEA çš„å†…ç½®å·¥å…·ï¼Œä¸‹é¢æ˜¯éªŒè¯ç»“æœï¼š</p><h4 id="æœªåŠ å¯†çš„å‚æ•°"><a href="#æœªåŠ å¯†çš„å‚æ•°" class="headerlink" title="æœªåŠ å¯†çš„å‚æ•°"></a>æœªåŠ å¯†çš„å‚æ•°</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1578230853814-3c4fa873-3041-4c12-8548-83e7ab0780e3.png#align=left&display=inline&height=143&name=image.png&originHeight=286&originWidth=2082&size=51195&status=done&style=none&width=1041" alt="image.png"></p><h4 id="ç»è¿‡åŠ å¯†çš„å‚æ•°"><a href="#ç»è¿‡åŠ å¯†çš„å‚æ•°" class="headerlink" title="ç»è¿‡åŠ å¯†çš„å‚æ•°"></a>ç»è¿‡åŠ å¯†çš„å‚æ•°</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1578230873283-6946fb5e-49bb-4059-ba48-84842ab57f18.png#align=left&display=inline&height=123&name=image.png&originHeight=246&originWidth=1616&size=37724&status=done&style=none&width=808" alt="image.png"></p><p>ç»“æœå¦‚æˆ‘ä»¬æ‰€æ–™ï¼ŒåŠ å¯†æˆåŠŸã€‚</p><p>è·å–é…ç½®çš„å¤§è‡´æµç¨‹å…¶ä¸­è·Ÿä¸Šé¢åŠ å¯†é…ç½®çš„æµç¨‹å¤§è‡´åè¿‡æ¥ï¼š</p><ol><li>æ‹¦æˆªè·å–é…ç½®çš„æ“ä½œ</li><li>å¦‚æœæ‹¦æˆªåˆ°çš„é…ç½®æ˜¯ <strong>ENC(xxx)</strong> æ ¼å¼</li><li>è¯»å– Â <strong>jasypt.encryptor.password</strong> å¯†é’¥</li><li>é€šè¿‡å¯†é’¥è§£å¯†é…ç½®</li></ol><h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><h3 id="å¯†é’¥ä¸é…ç½®åˆ†å¼€ä¿å­˜"><a href="#å¯†é’¥ä¸é…ç½®åˆ†å¼€ä¿å­˜" class="headerlink" title="å¯†é’¥ä¸é…ç½®åˆ†å¼€ä¿å­˜"></a>å¯†é’¥ä¸é…ç½®åˆ†å¼€ä¿å­˜</h3><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ Â jasypt ååˆ†çš„æ–¹ä¾¿ï¼Œç¬¬ä¸€ä¾èµ–ï¼Œç¬¬äºŒé…ç½®ï¼Œå…¶ä¸­é…ç½®é™¤åŠ å¯†å†…å®¹å¤–è¿˜æœ‰ä¸€ä¸ª Â <strong>jasypt.encryptor.password</strong> ã€‚è¿™ä¸ªå‰æ–‡ä¹Ÿè¯´äº†æ˜¯ç”¨äºåŠ å¯†ä¸è§£å¯†çš„å¯†ç ï¼Œé€šè¿‡å®ƒå¯ä»¥åŠ è§£å¯†é…ç½®ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/119443/1578231764351-ed960bdc-af01-4417-85e1-d0d130d69e34.png#align=left&display=inline&height=191&name=image.png&originHeight=381&originWidth=300&size=71153&status=done&style=none&width=150" alt="image.png"></p><p>å›åˆ°å¼€å¤´ï¼Œæˆ‘ä»¬åŠ å¯†çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ä»£ç æ³„éœ²çš„æ—¶å€™æŠŠé…ç½®ä¸€èµ·ç»™æ³„éœ²å‡ºå»äº†ã€‚é…ç½®æ˜¯æ²¡æœ‰é—®é¢˜äº†ï¼Œæˆ‘ä»¬åŠ å¯†äº†ï¼Œä½†æ˜¯æˆ‘ä»¬åŒæ—¶æŠŠå¯†é’¥ä¹Ÿæ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­äº†ã€‚è¿™ç›¸å½“äºä»€ä¹ˆå‘¢ï¼Ÿ<strong>å°±åƒä½ æŠŠé—¨ç»™é”äº†ï¼Œä½†æ˜¯é’¥åŒ™è¿˜æ’åœ¨é”ä¸Šã€‚</strong></p><p>æ‰€ä»¥å¯†é’¥ä¸€å®šè¦è·Ÿé…ç½®åˆ†å¼€ä¿å­˜ï¼Œé€šå¸¸æ˜¯é€šè¿‡å¯åŠ¨å‘½ä»¤ä¼ ç»™åº”ç”¨ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Djasypt.encryptor.password=<span class="string">&quot;password&quot;</span> -jar my-application.jar</span><br></pre></td></tr></table></figure><p>å¦‚æœå†ä¿é™©ä¸€ç‚¹ï¼Œå¯ä»¥æŠŠå¯†é’¥æ”¾åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œå†é€šè¿‡å‘½ä»¤ä¼ ç»™åº”ç”¨ã€‚</p><h3 id="éå¯¹ç§°åŠ å¯†"><a href="#éå¯¹ç§°åŠ å¯†" class="headerlink" title="éå¯¹ç§°åŠ å¯†"></a>éå¯¹ç§°åŠ å¯†</h3><p>é»˜è®¤ä½¿ç”¨çš„åŠ å¯†ç®—æ³•ä¸ºå¯¹ç§°åŠ å¯† Â HHMAC ï¼Œæ—¢ç„¶æœ‰å¯¹ç§°é‚£è‚¯å®šä¹Ÿæœ‰éå¯¹ç§°ã€‚</p><p>è¿™é‡Œçš„å¯¹ç§°ä¸éå¯¹ç§°æŒ‡çš„æ˜¯å¯†é’¥çš„ä¿å­˜æ–¹å¼ï¼Œå¯¹ç§°åŠ å¯†æ˜¯æŒ‡çš„æ˜¯åŠ å¯†ä¸è§£å¯†å…±ç”¨ä¸€ä¸ªå¯†é’¥ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ç”¨è¿™ä¸ªå¯†é’¥å³å¯ä»¥ç”¨æ¥åŠ å¯†ä¹Ÿå¯ä»¥ç”¨æ¥è§£å¯†ã€‚ä¸Šä¸€æ¡è¯´ä¸ºäº†å®‰å…¨æˆ‘ä»¬è¦æŠŠé…ç½®è·Ÿå¯†é’¥åˆ†å¼€ä¿å­˜ï¼Œä¸€èˆ¬ä¿å­˜åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯çº¿ä¸ŠæœåŠ¡å™¨ï¼Œä¸€ä¸ªæ˜¯é¡¹ç›®è´Ÿè´£äººçš„ç”µè„‘ä¸Šäº†ï¼Œå› ä¸ºä»–è¦æŠŠé…ç½®ä»æ˜æ–‡å˜æˆå¯†æ–‡ã€‚ä¸ºä»€ä¹ˆæ˜¯é¡¹ç›®è´Ÿè´£äººçš„ç”µè„‘ä¸Šï¼Œå› ä¸ºå¯†é’¥ä¸å¯èƒ½äººæ‰‹ä¸€ä»½ï¼Œé‚£æ ·åˆä¼šå¢å¤§æ³„éœ²é£é™©ã€‚</p><p>ä½†æ˜¯è¿™æ ·çš„è¯åˆä¼šå‡ºæ¥ä¸€ç§é—®é¢˜ï¼Œä¸€ä¸ªé¡¹ç›®æ¶‰åŠäº†å¤ªå¤šé…ç½®ï¼Œæˆ‘åŠ ä¸€ä¸ªé…ç½®æ‰¾ä¸‹é¡¹ç›®è´Ÿè´£äººå¸®æˆ‘ç”Ÿæˆä¸ªå¯†æ–‡ï¼ŒåŠ ä¸€ä¸ªç”Ÿæˆä¸€ä¸ªï¼Œé¡¹ç›®è´Ÿè´£äººå˜æˆå·¥å…·äººäº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡éå¯¹ç§°åŠ å¯†çš„æ–¹å¼æ¥è§£å†³ï¼Œè¿™ç§æ–¹å¼çš„å¥½å¤„å°±æ˜¯æœ‰ä¸€å¯¹å¯†ç ï¼Œåˆ†åˆ«ç§°ä¸ºå…¬é’¥ä¸ç§é’¥ï¼Œå…¬é’¥ç”¨æ¥ç”ŸæˆåŠ å¯†æ•°æ®ï¼Œå¯ä»¥æ”¾å¿ƒå¤§èƒ†äººæ‰‹ä¸€ä»½ï¼Œè€Œç§é’¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œè¿è¡Œæ—¶å€™çš„è§£å¯†å·¥ä½œï¼Œå› ç¯‡å¹…æœ‰é™ï¼Œå…·ä½“ä½¿ç”¨æ–¹å¼å¯ä»¥é€šè¿‡æ–‡æœ«çš„é“¾æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p><h3 id="ç¯å¢ƒéš”ç¦»"><a href="#ç¯å¢ƒéš”ç¦»" class="headerlink" title="ç¯å¢ƒéš”ç¦»"></a>ç¯å¢ƒéš”ç¦»</h3><p>é…ç½®è‚¯å®šæ˜¯åŒºåˆ†ç¯å¢ƒçš„ï¼Œæœ‰äº›ç¯å¢ƒå®‰å…¨ç­‰çº§æ²¡æœ‰é‚£ä¹ˆé«˜ï¼Œæ¯”å¦‚å¼€å‘ä¸æµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰å¿…è¦åŠ å¯†ã€‚è€Œé¢„å‘åŠç”Ÿäº§ç¯å¢ƒå°±éœ€è¦åŠ å¯†ï¼Œå¹¶ä¸”æ¨èä½¿ç”¨ä¸åŒçš„å¯†é’¥ï¼Œè¿™æ ·æœ€å¤§ç¨‹åº¦çš„é¿å…å®‰å…¨é—®é¢˜ã€‚</p><h2 id="å…¶å®ç›¸å…³"><a href="#å…¶å®ç›¸å…³" class="headerlink" title="å…¶å®ç›¸å…³"></a>å…¶å®ç›¸å…³</h2><ol><li><a href="https://github.com/ulisesbocchio/jasypt-spring-boot">jasypt-spring-boot</a>Â (jasypt çš„ github åœ°å€ï¼Œæœ‰ç€è¯¦å°½çš„æ–‡æ¡£)</li><li><a href="https://github.com/kiwiflydream/study-example/tree/master/study-jasypt-example">æœ¬æ–‡ DEMO</a>Â ï¼ˆå› ä¸ºæ–‡ç« ç¯‡å¹…æœ‰é™ï¼Œåªå±•ç¤ºéƒ¨åˆ†ä»£ç ï¼Œå…·ä½“ä»£ç å·²ä¸Šä¼  githubï¼‰</li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> Jasypt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jasypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€xmindã€‘ ä½¿ç”¨ Java ç”Ÿæˆæ€ç»´å¯¼å›¾</title>
      <link href="/posts/a9d13c35/"/>
      <url>/posts/a9d13c35/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575186922937-956f55b0-1608-49c9-8ea9-0b09666ce294.png#align=left&display=inline&height=397&name=image.png&originHeight=793&originWidth=1280&size=285620&status=done&style=none&width=640" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨æ—¥å¸¸çš„å·¥ä½œä¸å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨æ€ç»´å¯¼å›¾è¿™ä¸ªå·¥å…·ï¼Œæ¥æŠŠæŠ½è±¡è€Œåˆæ— å½¢çš„æ€è€ƒè½¬æ¢æˆæœ‰å½¢å¹¶ä¸”å…·ä½“çš„å›¾åƒï¼Œæ˜¯ç†æ¸…æ€è·¯ï¼Œæ¢³ç†é€»è¾‘çš„ä¸€å¤§ç¥å™¨ã€‚</p><p>å‡†ç¡®çš„è¯´ï¼Œæ€ç»´å¯¼å›¾å¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å·¥å…·ï¼Œè€Œæ˜¯ä¸€ç§æ–¹æ³•ã€‚æ˜¯é“è€Œä¸æ˜¯æœ¯ã€‚å®é™…è½åœ°æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸è¿˜éœ€è¦å€ŸåŠ©å¤–éƒ¨çš„å·¥å…·ã€‚ä»æœ€åŸå§‹çš„çº¸å’Œç¬”ï¼Œåˆ°å„ç§è½¯ä»¶ï¼Œå¯ä»¥è¯´æ˜¯åº”ç”¨å°½æœ‰ã€‚ç›®å‰æˆ‘åœ¨ä½¿ç”¨çš„æ˜¯ xmind è¿™æ¬¾è½¯ä»¶ï¼Œä¸‹é¢å°±ä¼šä»¥ xmind ä¸ºåª’ä»‹é—´æ¥çš„é€šè¿‡ Java ä»£ç ç”»æ€ç»´å¯¼å›¾ã€‚</p><h2 id="æ”¾ç è¿‡æ¥"><a href="#æ”¾ç è¿‡æ¥" class="headerlink" title="æ”¾ç è¿‡æ¥"></a>æ”¾ç è¿‡æ¥</h2><h3 id="é€šè¿‡ç›®å½•ç”Ÿæˆæ€ç»´å¯¼å›¾"><a href="#é€šè¿‡ç›®å½•ç”Ÿæˆæ€ç»´å¯¼å›¾" class="headerlink" title="é€šè¿‡ç›®å½•ç”Ÿæˆæ€ç»´å¯¼å›¾"></a>é€šè¿‡ç›®å½•ç”Ÿæˆæ€ç»´å¯¼å›¾</h3><p>æˆ‘åœ¨çœ‹ä¹¦çš„æ—¶å€™æœ‰ä¸€ä¸ªä¹ æƒ¯ï¼Œå…ˆé€šè¿‡æ€ç»´å¯¼å›¾ç”»å‡ºä¸€æœ¬ä¹¦çš„å¤§çº²ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå¤§çº²æ¥åˆ†ä¸»æ¬¡çš„å»é˜…è¯»ã€‚å¯èƒ½æœ‰äº›åŒå­¦æ„Ÿåˆ°ç–‘æƒ‘ï¼Œè¿˜æ²¡è¯»è¿‡ä¹¦ï¼Œå¦‚ä½•äº†è§£å¤§çº²å‘¢ï¼Ÿå…¶å®ä¸€æœ¬ä¹¦çš„ç›®å½•å°±æ˜¯è¿™æœ¬ä¹¦æœ€å¥½çš„å¤§çº²ã€‚</p><p>æœ¬æ–‡é€šè¿‡æŠŠä¸€ä¸ªç›®å½•ç”Ÿæˆæ€ç»´å¯¼å›¾çš„ä¾‹å­æ¥å­¦ä¹  xmind åŸºæœ¬çš„ api ä½¿ç”¨ã€‚å½“ç„¶å¦‚æœæƒ³ç³»ç»Ÿå­¦ä¹ çš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒæ–‡æœ«ç»™å‡ºçš„å®˜æ–¹ api é“¾æ¥ã€‚ä¸‹å›¾å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦ç”Ÿæˆçš„ç»“æœã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575300845565-aeda8243-cba9-4f3e-b218-d526af74c949.png#align=left&display=inline&height=817&name=image.png&originHeight=1633&originWidth=2776&size=765424&status=done&style=none&width=1388" alt="image.png"></p><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><p>xmind æœ€å¼€å§‹æ˜¯åœ¨ eclipse ä¸Šè¿›è¡Œå®šåˆ¶å¼€å‘è€Œæ¥ï¼ˆå¯¹ï¼Œè¿™ä¸ª eclipse å°±æ˜¯ä½ åœ¨é‡åˆ° idea åï¼Œå–œæ–°åŒæ—§æŠ›å¼ƒçš„é‚£ä¸ªç¼–ç¨‹è½¯ä»¶ï¼‰ï¼Œæ‰€ä»¥å¤©ç”Ÿå°±å¯¹ Java æœ‰è‰¯å¥½çš„æ”¯æŒã€‚è¿™ä¸ª<a href="https://github.com/xmindltd/xmind">åœ°å€</a>å°±æ˜¯ xmind åœ¨ github ä¸Šçš„ä»“åº“ã€‚å¯¹ xmind çš„æ“ä½œçš„ api å…¨åœ¨ Â org.xmind.core åŒ…ä¸‹ï¼ŒæŒ‰å®˜æ–¹æç¤ºæŠŠä»£ç æ‹‰ä¸‹æ¥åœ¨æœ¬åœ°æ‰“ä¸ªåŒ…ï¼Œå†å¼•å…¥å°± ok äº†ã€‚ä½†æ˜¯å‘¢ï¼Ÿå·æ‡’æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚ç«‹é©¬è·‘åˆ° maven ä»“åº“æœç´¢äº†ä¸€ä¸‹ï¼Œå‘ç°æœç„¶æœ‰äººæŠŠå®˜æ–¹çš„æ‰“åŒ…ä¸Šä¼ äº†ï¼Œç›´æ¥æ‹¿æ¥ä½¿ç”¨ã€‚ï¼ˆæ—¶é—´æœ‰ç‚¹è€ï¼Œä½†æ˜¯åŸºæœ¬æ“ä½œå·²ç»å¤Ÿäº†ï¼Œå¦‚æœæƒ³ç”¨æ–°åŠŸèƒ½ï¼Œå¯ä»¥æ‹‰ä»£ç è‡ªè¡Œæ‰“åŒ…ï¼‰</p><ul><li>pom.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.eljah<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xmindjbehaveplugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡æ•°æ®"><a href="#å‡†å¤‡æ•°æ®" class="headerlink" title="å‡†å¤‡æ•°æ®"></a>å‡†å¤‡æ•°æ®</h3><p>æˆ‘ä»¬è¦ç”Ÿæˆæ€ç»´å¯¼å›¾ï¼Œé¦–å…ˆå¾—æœ‰æ•°æ®ã€‚è¿™é‡Œçš„æ•°æ®å°±æ˜¯ä¸€æœ¬ä¹¦çš„ç›®å½•ã€‚</p><p>é¦–å…ˆï¼Œä¹¦ç±æˆ‘é€‰çš„æ˜¯ã€Š<a href="https://book.douban.com/subject/26437061/">ä¸€æœ¬ä¹¦è¯»æ‡‚ 24 ç§äº’è”ç½‘æ€ç»´</a>ã€‹ï¼Œé€‰è¿™æœ¬ä¹¦ï¼Œå¹¶ä¸æ˜¯å› ä¸ºè¿™æœ¬ä¹¦æœ‰å¤šå¥½ï¼Œè€Œæ˜¯å› ä¸ºä»–æ¯”è¾ƒå…¸å‹ï¼Œå…¸å‹å°±å…¸å‹åœ¨ï¼Œçœ‹è¿‡è¿™æœ¬ä¹¦çš„ç›®å½•åå°±æ²¡æœ‰å¿…è¦å†è¯»è¿™æœ¬ä¹¦äº†ï¼Œå› ä¸ºç›®å½•å·²ç»æŠŠè¦è¯´çš„å†…å®¹è¯´çš„å¾ˆæ¸…æ¥šäº†ã€‚</p><p>é‚£çŸ¥é“ä¹¦åï¼Œæ€ä¹ˆè·å–ä¹¦çš„ç›®å½•å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæ‰“å¼€è±†ç“£ï¼Œæ‰¾åˆ°è¿™æœ¬ä¹¦çš„è¯¦æƒ…ï¼Œé‡Œé¢å°±æœ‰ä¹¦ç±çš„ç›®å½•ï¼Œç›´æ¥æŠŠå®ƒ copy ä¸‹æ¥å°±å¯ä»¥äº†ï¼Œç›®å½•å¦‚ä¸‹å›¾ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575302109090-065fc60c-8041-4a80-acc9-e41eb42482d2.png#align=left&display=inline&height=363&name=image.png&originHeight=726&originWidth=1170&size=132601&status=done&style=none&width=585" alt="image.png"></p><h3 id="å¼€å§‹ç¼–ç "><a href="#å¼€å§‹ç¼–ç " class="headerlink" title="å¼€å§‹ç¼–ç "></a>å¼€å§‹ç¼–ç </h3><ul><li>GeneratorDoubanXmind</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  * *</span></span><br><span class="line"><span class="comment"> *  *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *  *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.io.FileUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.ReUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.system.SystemUtil;</span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Lists;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.Core;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.CoreException;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.ISheet;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.ITopic;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.IWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.xmind.core.IWorkbookBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> GeneratorDoubanXmind.java, v 0.1 2019-12-02 22:54 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GeneratorDoubanXmind</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“å‰ç±»è·¯å¾„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CLASS_PATH = GeneratorDoubanXmind.class.getResource(&quot;/&quot;).getPath();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String FILE_SEPARATOR = SystemUtil.getOsInfo().getFileSeparator();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, CoreException </span>&#123;</span><br><span class="line">        <span class="comment">// è¯»å–ç›®å½•</span></span><br><span class="line">        String bookName = <span class="string">&quot;ä¸€æœ¬ä¹¦è¯»æ‡‚24ç§äº’è”ç½‘æ€ç»´&quot;</span>;</span><br><span class="line">        List&lt;String&gt; contents = FileUtil.readLines(CLASS_PATH + bookName + <span class="string">&quot;.txt&quot;</span>, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ€ç»´å¯¼å›¾çš„å·¥ä½œç©ºé—´</span></span><br><span class="line">        IWorkbookBuilder workbookBuilder = Core.getWorkbookBuilder();</span><br><span class="line">        IWorkbook workbook = workbookBuilder.createWorkbook();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—é»˜è®¤sheet</span></span><br><span class="line">        ISheet primarySheet = workbook.getPrimarySheet();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—æ ¹ä¸»é¢˜</span></span><br><span class="line">        ITopic rootTopic = primarySheet.getRootTopic();</span><br><span class="line">        <span class="comment">// è®¾ç½®æ ¹ä¸»é¢˜çš„æ ‡é¢˜</span></span><br><span class="line">        rootTopic.setTitleText(bookName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç« èŠ‚ topic çš„åˆ—è¡¨</span></span><br><span class="line">        ArrayList&lt;ITopic&gt; chapterTopics = Lists.newArrayList();</span><br><span class="line">        <span class="keyword">for</span> (String content : contents) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜¯æ•°å­—å¼€å¤´ä¸ºç« èŠ‚åç§°</span></span><br><span class="line">            <span class="keyword">if</span> (ReUtil.isMatch(<span class="string">&quot;^[1-24].*?&quot;</span>, content)) &#123;</span><br><span class="line">                <span class="comment">// åˆ›å»ºç« èŠ‚èŠ‚ç‚¹</span></span><br><span class="line">                ITopic topic = workbook.createTopic();</span><br><span class="line">                topic.setTitleText(content);</span><br><span class="line">                chapterTopics.add(topic);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åˆ›å»ºå°èŠ‚èŠ‚ç‚¹</span></span><br><span class="line">                ITopic topic = workbook.createTopic();</span><br><span class="line">                topic.setTitleText(content);</span><br><span class="line">                chapterTopics.get(chapterTopics.size() - <span class="number">1</span>).add(topic, ITopic.ATTACHED);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŠŠç« èŠ‚èŠ‚ç‚¹æ·»åŠ åˆ°è¦èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        chapterTopics.forEach(it -&gt; rootTopic.add(it, ITopic.ATTACHED));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿å­˜</span></span><br><span class="line">        workbook.save(CLASS_PATH + FILE_SEPARATOR + bookName + <span class="string">&quot;.xmind&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h3><p>åŸºæœ¬ä¸Šä»£ç éƒ½åšäº†æ³¨é‡Šï¼Œå¯¹äºæ ¸å¿ƒä»£ç å†ç®€å•åˆ†æä¸€ä¸‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯»å–ç›®å½•</span></span><br><span class="line">String bookName = <span class="string">&quot;ä¸€æœ¬ä¹¦è¯»æ‡‚24ç§äº’è”ç½‘æ€ç»´&quot;</span>;</span><br><span class="line">List&lt;String&gt; contents = FileUtil.readLines(CLASS_PATH + bookName + <span class="string">&quot;.txt&quot;</span>, <span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure><p>é¦–å…ˆå‰ä¸¤è¡Œä¸å¿…è¯´ï¼Œæˆ‘æŠŠç›®å½•æ•°æ®ä¿å­˜åˆ°äº† resources ç›®å½•ä¸‹çš„ ä¸€æœ¬ä¹¦è¯»æ‡‚ 24 ç§äº’è”ç½‘æ€ç»´.txtï¼Œè¿™ä¸¤è¡Œä»£ç å°±æ˜¯ç®€å•è¯»å–æ•°æ®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ€ç»´å¯¼å›¾çš„å·¥ä½œç©ºé—´</span></span><br><span class="line">IWorkbookBuilder workbookBuilder = Core.getWorkbookBuilder();</span><br><span class="line">IWorkbook workbook = workbookBuilder.createWorkbook();</span><br></pre></td></tr></table></figure><p>ç„¶åçš„ä¸¤è¡Œä»£ç ï¼Œé€šè¿‡ Core ç±»åˆ›å»ºå·¥ä½œç©ºé—´æ„å»ºè€…ç±»ï¼Œå†é€šè¿‡å®ƒçš„ Â createWorkbook æ–¹æ³•åˆ›å»ºå‡ºä¸€ä¸ªç©ºç™½çš„å·¥ä½œç©ºé—´ï¼Œè¿™ä¸ªåˆ›å»ºå®Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„ç©ºç™½å¯¼å›¾ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾—é»˜è®¤sheet</span></span><br><span class="line">ISheet primarySheet = workbook.getPrimarySheet();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å¾—æ ¹ä¸»é¢˜</span></span><br><span class="line">ITopic rootTopic = primarySheet.getRootTopic();</span><br><span class="line"><span class="comment">// è®¾ç½®æ ¹ä¸»é¢˜çš„æ ‡é¢˜</span></span><br><span class="line">rootTopic.setTitleText(bookName);</span><br></pre></td></tr></table></figure><p>å†æ¥ç€ï¼Œé€šè¿‡åˆšåˆšåˆ›å»º å·¥ä½œç©ºé—´ å¾—åˆ°ä¸» sheetï¼Œè¿™ä¸ª sheet è·Ÿ excel çš„æ¦‚å¿µå·®ä¸å¤šï¼Œå°±åƒæµè§ˆå™¨çš„ä¸€ä¸ª tab ä¸€æ ·ã€‚æ•ˆæœå¦‚ä¸‹å›¾</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575302706137-d42e7fb0-fcd1-4566-b88b-a9d788e9b67d.png#align=left&display=inline&height=30&name=image.png&originHeight=60&originWidth=816&size=10859&status=done&style=none&width=408" alt="image.png"></p><p>å¦å¤–è¿˜é€šè¿‡ä¸» sheet è·å¾—äº†æ ¹ topicï¼Œå¹¶è®¾ç½®ä»–çš„æ ‡é¢˜ä¸ºä¹¦åï¼Œå®ƒå¯¹åº”ä¸‹å›¾</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575377884589-67911a43-9e0b-4465-bf73-708155fe00f3.png#align=left&display=inline&height=122&name=image.png&originHeight=244&originWidth=720&size=35758&status=done&style=none&width=360" alt="image.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç« èŠ‚ topic çš„åˆ—è¡¨</span></span><br><span class="line">ArrayList&lt;ITopic&gt; chapterTopics = Lists.newArrayList();</span><br><span class="line"><span class="keyword">for</span> (String content : contents) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯æ•°å­—å¼€å¤´ä¸ºç« èŠ‚åç§°</span></span><br><span class="line">    <span class="keyword">if</span> (ReUtil.isMatch(<span class="string">&quot;^[1-24].*?&quot;</span>, content)) &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºç« èŠ‚èŠ‚ç‚¹</span></span><br><span class="line">        ITopic topic = workbook.createTopic();</span><br><span class="line">        topic.setTitleText(content);</span><br><span class="line">        chapterTopics.add(topic);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå°èŠ‚èŠ‚ç‚¹</span></span><br><span class="line">        ITopic topic = workbook.createTopic();</span><br><span class="line">        topic.setTitleText(content);</span><br><span class="line">        chapterTopics.get(chapterTopics.size() - <span class="number">1</span>).add(topic, ITopic.ATTACHED);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ¯”è¾ƒå¤šï¼Œä½†æ˜¯é‡ç‚¹æ˜¯åˆ›å»º topic çš„æ“ä½œï¼Œæ¯ä¸ª topic å°±æ˜¯æ€ç»´å¯¼å›¾çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡ Â workbook.createTopic() æ¥åˆ›å»ºï¼ŒåŒæ ·çš„é€šè¿‡ Â setTitleText è®¾ç½®æ ‡é¢˜ã€‚è¿™æ®µä»£ç å…¶å®æ˜¯åˆ†æäº†ç›®å½•çš„è§„å¾‹ï¼Œæœ‰ 1-24 å¼€å¤´çš„æ˜¯å¤§ç« èŠ‚ï¼Œè€Œåé¢ç´§è·Ÿçš„æ˜¯å°ç« èŠ‚ï¼Œä¸€ä¸ªå¤§ç« èŠ‚ä¸‹æ˜¯å¤šä¸ªå°ç« èŠ‚ï¼ˆå¯ä»¥çœ‹ä¸Šé¢çš„ç›®å½•æˆªå›¾ï¼‰ã€‚æ‰€ä»¥åˆ¤æ–­æ˜¯å¤§ç« èŠ‚å°±åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œåˆ¤æ–­æ˜¯å°ç« èŠ‚å°±å¾€æœ€åä¸€ä¸ªå¤§ç« èŠ‚ä¸Šæ·»åŠ ï¼ˆé€šè¿‡ add æ–¹æ³•ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠŠç« èŠ‚èŠ‚ç‚¹æ·»åŠ åˆ°è¦èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">chapterTopics.forEach(it -&gt; rootTopic.add(it, ITopic.ATTACHED));</span><br></pre></td></tr></table></figure><p>åˆšæ‰è¯´äº†æŠŠå°ç« èŠ‚éƒ½æ·»åŠ åˆ°äº†å¤§ç« èŠ‚ä¸Šäº†ï¼Œä½†æ˜¯å¤§ç« èŠ‚ç°åœ¨è¿˜æ˜¯æ— ä¾æ— é çš„ï¼Œæ‰€ä»¥é€šè¿‡ä¸€ä¸ªå¾ªç¯å…¨éƒ¨æ·»åŠ åˆ°äº†æ ¹ Topic ä¸Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿å­˜</span></span><br><span class="line">workbook.save(CLASS_PATH + FILE_SEPARATOR + bookName + <span class="string">&quot;.xmind&quot;</span>);</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤æˆ‘ä»¬ç¼–ç ç»“æŸäº†ï¼Œä½†æ˜¯è¿™äº›æ“ä½œè¿˜åœ¨å†…å­˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ workbook çš„ save æ–¹æ³•æŠŠæ–‡ä»¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œå¦å¤–æ–‡ä»¶åç¼€è®°å¾—æ”¹æˆ xmindï¼Œå¦åˆ™è½¯ä»¶æ— æ³•è¯†åˆ«ã€‚</p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå¦‚é‡åˆ°é—®é¢˜å¯åˆ°ç›¸å…³é“¾æ¥é‡Œé¢çš„ example ä¸Šï¼ŒæŸ¥çœ‹æºç ã€‚</p><h3 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h3><ol><li><a href="https://github.com/xmindltd/xmind/wiki/UsingXmindAPI">xmind api åœ°å€</a></li><li><a href="https://github.com/kiwiflydream/study-example/tree/master/study-xmind-example">study-xmind-example</a></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1575379205600-702b996e-3229-40f4-a982-199adfccdf60.png#align=left&display=inline&height=178&name=image.png&originHeight=178&originWidth=621&size=39510&status=done&style=none&width=621" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> xmind </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xmind </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¹¶å‘é‚£äº›äº‹ã€‘å¯è§æ€§é—®é¢˜çš„ä¸‡æ¶ä¹‹æº</title>
      <link href="/posts/b2d626fd/"/>
      <url>/posts/b2d626fd/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574562962418-a57cff00-17f5-4cf6-b3e4-8f9706a83f4e.png#align=left&display=inline&height=540&name=image.png&originHeight=1080&originWidth=1080&size=1776469&status=done&width=540" alt="image.png"></p><blockquote><p><strong>ç¡¬ä»¶å·¥ç¨‹å¸ˆä¸ºå‡è¡¡ CPU ä¸ ç¼“å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ï¼Œç‰¹æ„åŠ çš„ CPU ç¼“å­˜ï¼Œç«Ÿç„¶åœ¨å¤šæ ¸çš„åœºæ™¯ä¸‹é˜´å·®é˜³é”™çš„æˆä¸ºäº†å¹¶å‘å¯è§æ€§é—®é¢˜çš„ä¸‡æ¶ä¹‹æºï¼(**</strong>æœ¬æ–‡è¿‡é•¿ï¼Œå¦‚æœä¸æ˜¯ç‰¹åˆ«æ— èŠï¼Œçœ‹åˆ°è¿™é‡Œå°±å¯ä»¥äº†*<strong>*)</strong></p></blockquote><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¿˜è®°å¾—é‚£äº›å¹´ï¼Œä½ å†™çš„é‚£äº›å¤šçº¿ç¨‹ BUG å—ï¼Ÿæ˜æ˜åªæƒ³å¾—åˆ°ä¸ª 1 + 1 = 2 çš„é¢„æœŸï¼Œç»“æœä»–æœ‰æ—¶å€™å¾—åˆ° 1ï¼Œæœ‰æ—¶å€™å¾—åˆ° 3ï¼Œä½†ååæœ‰æ—¶å€™ä»–ä¹Ÿä¼šè¿”å›æ­£ç¡®çš„ 2ã€‚æ˜æ˜åœ¨æœ¬åœ°è¿è¡Œçš„å¥½å¥½çš„ï¼Œä¸€ä¸Šçº¿ä¸€å †è¯¡å¼‚çš„ BUGã€‚ä½ ä¸€éä¸€éçš„æ£€æŸ¥ä»£ç ï¼Œä¸€è¡Œä¸€è¡Œ debugï¼Œç»“æœæ— åŠŸè€Œè¿”ã€‚</p><p>å˜é‡ä¸ºä½•çªç„¶å˜å¼‚ï¼Ÿä»£ç ä¸ºä½•ä¹±åºè¿è¡Œï¼Ÿæ¡ä»¶ä¸ºä½•å½¢åŒè™šè®¾ï¼Ÿæ¬¢è¿æ”¶çœ‹ä»Šå¤©çš„ã€Šèµ°è¿›ç§‘å­¦ã€‹ä¹‹åŠå¤œã€‚ã€‚ã€‚å“¦ï¼Œä¸å¯¹ï¼Œæ¬¢è¿é˜…è¯»ä»Šå¤©çš„ã€Šå¹¶å‘é‚£äº›äº‹ã€‹ä¹‹å¯è§æ€§é—®é¢˜çš„ä¸‡æ¶ä¹‹æºã€‚å°±åƒä¸Šé¢è¯´çš„ï¼Œæˆ‘ä»¬åœ¨å†™å¹¶å‘ç¨‹åºæ—¶ï¼Œç»å¸¸ä¼šå‡ºç°è¶…å‡ºæˆ‘ä»¬è®¤è¯†ä¸ç›´è§‰çš„é—®é¢˜ï¼Œè€ŒæŒ‰æˆ‘ä»¬çš„ä»¥å¾€çš„ç»éªŒï¼Œå¾ˆéš¾å»å¯Ÿè§‰åˆ°ä»–çš„é—®é¢˜æ‰€åœ¨ã€‚è€Œåˆå› ä¸ºæˆ‘ä»¬ä¸äº†è§£ä»–å‘ç”Ÿçš„è¯±å› ï¼Œå³ä½¿æˆ‘ä»¬æŒ‰ç…§ä¹¦ä¸Šçš„æ–¹æ¡ˆè§£å†³äº†ï¼Œä½†æ˜¯ä¸‹æ¬¡è¿˜æ˜¯ä¼šå‡ºç°ã€‚æ‰€ä»¥æœ¬æ–‡çš„ä¸»æ—¨å¹¶ä¸æ˜¯è§£å†³é—®é¢˜çš„æœ¯ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„é“ã€‚ä¸€èµ·æ¥æ¢ç©¶å¤šçº¿ç¨‹é—®é¢˜çš„æ ¹æºã€‚</p><p>é¦–å…ˆæ­å¼€è°œåº•ï¼Œå¤§å¤šæ•°å¹¶å‘é—®é¢˜çš„å‘ç”Ÿéƒ½æ˜¯è¿™ä¸‰ä¸ªé—®é¢˜å¯¼è‡´çš„ï¼Œ<strong>å¯è§æ€§é—®é¢˜ã€åŸå­æ€§é—®é¢˜ã€æœ‰åºæ€§é—®é¢˜</strong>ã€‚é‚£ä¹ˆåˆæ˜¯ä»€ä¹ˆå¯¼è‡´è¿™ä¸‰ä¸ªé—®é¢˜çš„å‡ºç°å‘¢ï¼Ÿæœ¬æ–‡å°†ä¸€æ­¥æ­¥è§£æå¯è§æ€§é—®é¢˜å‡ºç°çš„åŸå› ã€‚</p><h3 id="æ ¸å¿ƒçŸ›ç›¾"><a href="#æ ¸å¿ƒçŸ›ç›¾" class="headerlink" title="æ ¸å¿ƒçŸ›ç›¾"></a>æ ¸å¿ƒçŸ›ç›¾</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œç”µè„‘ç”±å¾ˆå¤šçš„éƒ¨ä»¶ç»„æˆã€‚å…¶ä¸­æœ€æœ€æœ€é‡è¦çš„æœ‰ä¸‰ä¸ªï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ CPU ã€å†…å­˜ã€IOï¼ˆç¡¬ç›˜ï¼‰ã€‚ä¸€èˆ¬æ¥è¯´å®ƒä»¬ä¸‰ä¸ªçš„æ€§èƒ½é«˜ä½ç›´æ¥å½±å“åˆ°äº†ç”µè„‘çš„æ•´ä½“çš„æ€§èƒ½ä¼˜åŠ£ã€‚</p><p>ä½†æ˜¯ä»å®ƒä»¬è¯ç”Ÿä¹‹åˆï¼Œå°±æœ‰ä¸€ä¸ªæ ¸å¿ƒçŸ›ç›¾ï¼Œå³ä½¿è¿‡äº†å‡ åå¹´åçš„ç°åœ¨ï¼Œç§‘æŠ€çš„é£é€Ÿå‘å±•ä¾æ—§æ²¡èƒ½è§£å†³ã€‚é‚£ä¹ˆæ˜¯ä»€ä¹ˆçŸ›ç›¾å‘¢ï¼Ÿ</p><p>åœ¨è¯´çŸ›ç›¾ä¹‹å‰ï¼Œå…ˆè¯´æˆ‘ä¸ªåŒäº‹ï¼Œä»–æ˜¯ä¸ªç”µç«é«˜æ‰‹ï¼Œè‹±é›„è”ç›Ÿã€ç‹è€…è£è€€ä»€ä¹ˆçš„æ„è¯†ç‰¹åˆ«å†å®³ã€‚æ¯æ¬¡çœ‹æ¯”èµ›çš„æ—¶å€™é‚£ç§æŒ‡ç‚¹æ±Ÿå±±ã€æŒ¥æ–¥æ–¹é’çš„è‹±å§¿é—ªé—ªå‘å…‰ã€‚ä½†æ˜¯å‘¢ï¼Œä¸€ä¸Šæ‰‹æ‰“æ¸¸æˆï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œä¸€çœ‹æˆ˜ç»© 0 æ  5ï¼Œåˆšå¼€å§‹æˆ‘ä»¬ä»¥ä¸ºä»–æ˜¯ä¸ªé’é“œï¼Œä½†æ˜¯å‘¢ï¼Œå¾ˆå¤šæ—¶å€™æ¸¸æˆçš„çœŸçš„å°±åƒä»–è¯´çš„é‚£æ ·ï¼Œä»–çš„é¢„åˆ¤ï¼Œä»–çš„æ“ä½œå…¶å®éƒ½ç›¸å½“çš„é£éªšã€‚ä¸€ç›´å¾ˆç–‘æƒ‘ï¼Œç›´åˆ°æˆ‘ä»¬å¾—å‡ºäº†ä¸€ä¸ªç»“è®ºï¼Œå…¶å®ä»–çš„ç¡®æ˜¯ä¸€ä¸ªç‹è€…ï¼Œå› ä¸ºä»–æ»¡è„‘å­éƒ½æ˜¯éªšæ“ä½œï¼Œä½†æ˜¯å‘¢ï¼Ÿä»–çš„åŒæ‰‹è·Ÿä¸ä¸Šä»–é£éªšçš„å¤§è„‘ã€‚</p><p>é—®é¢˜å°±åœ¨è¿™é‡Œï¼Œ<strong>æ ¸å¿ƒçŸ›ç›¾å°±æ˜¯é€Ÿåº¦çš„å·®å¼‚</strong>ã€‚CPU å°±åƒæ˜¯é‚£ä½åŒäº‹çš„å¤§è„‘ï¼Œå¾ˆå¼ºå¾ˆé£éªšï¼Œä½†æ˜¯å¥ˆä½• IO å°±åƒé‚£åŒè·Ÿä¸ä¸ŠèŠ‚å¥çš„æ‰‹ï¼Œé™åˆ¶äº†å‘æŒ¥ã€‚è€Œä¸”å®ƒä»¬ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚è¦è¿œè¿œè¶…å‡ºæˆ‘ä»¬çš„æƒ³åƒï¼ŒCPU å°±å¥½æ¯”æ˜¯ç«ç®­ï¼Œé‚£ä¹ˆå†…å­˜å°±æ˜¯ä¸‰è½®è½¦ï¼ŒIO å¯èƒ½å°±æ˜¯é©¬è·¯æ—ä¸€åªä¸èµ·çœ¼çš„å°èœ—ç‰›ã€‚</p><h3 id="å„æ–¹çš„åŠªåŠ›"><a href="#å„æ–¹çš„åŠªåŠ›" class="headerlink" title="å„æ–¹çš„åŠªåŠ›"></a>å„æ–¹çš„åŠªåŠ›</h3><p>æ—¢ç„¶æœ‰äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±è¦æƒ³åŠæ³•è§£å†³ï¼Œé¦–å…ˆè¿™ä¸ªé—®é¢˜å‡ºåœ¨ç¡¬ä»¶å±‚ï¼Œæ‰€ä»¥é¦–å½“å…¶å†²çš„ç¡¬ä»¶å·¥ä½œå¸ˆæƒ³äº†å¾ˆå¤šæ–¹å¼è¯•å›¾å»è§£å†³ã€‚ç»è¿‡å†…å­˜è·Ÿ IO ç¡¬ä»¶å·¥ç¨‹å¸ˆçš„ä¸æ‡ˆåŠªåŠ›ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶çš„é€Ÿåº¦éƒ½å¾—åˆ°äº†å¤§å¹…æå‡ã€‚ä½†æ˜¯å‘¢ï¼ŸCPU çš„å·¥ç¨‹å¸ˆä¹Ÿæ²¡é—²ç€ï¼Œç”šè‡³è‹±ç‰¹å°”çš„ CEOâ€“é«˜ç™»Â·æ‘©å°”è¿˜å®£å¸ƒäº†ä¸€ä¸ªä»¥è‡ªå·±å§“åå®šä¹‰çš„<a href="https://zh.wikipedia.org/zh-hans/%E6%91%A9%E5%B0%94%E5%AE%9A%E5%BE%8B">æ‘©å°”å®šå¾‹</a>ã€‚å…¶å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š</p><blockquote><p>é›†æˆç”µè·¯ä¸Šå¯å®¹çº³çš„æ™¶ä½“ç®¡æ•°ç›®ï¼Œçº¦æ¯ 18 ä¸ªæœˆä¾¿ä¼šå¢åŠ ä¸€å€</p></blockquote><p>å¯ä»¥ç®€å•çš„ç†è§£ï¼ŒCPU æ¯ 18 ä¸ªæœˆæ€§èƒ½å°±èƒ½ç¿»ä¸€å€ã€‚è¿™å°±è®©å†…å­˜è·Ÿ IO çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆå¾ˆç»æœ›äº†ï¼Œä¸æ€•åˆ«äººæ¯”ä½ èªæ˜ï¼Œå°±æ€•æ¯”ä½ èªæ˜çš„äººè¿˜æ¯”ä½ åŠªåŠ›ã€‚è¿™è¿˜æ˜¯æ€ä¹ˆç©ï¼Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574585299298-c565ad72-4ea6-49e2-a561-a20e4b44ae39.png#align=left&display=inline&height=140&name=image.png&originHeight=280&originWidth=496&size=191303&status=done&width=248" alt="image.png"></p><p>å½“ç„¶ï¼Œç‹¬æœ¨ä¸æˆæ—ï¼ŒCPU å·¥ç¨‹å¸ˆä¹Ÿæ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†æ€ä¹ˆç‹¬é¢†é£éªšï¼Œä»¥ 1V5ã€‚æ²¡æœ‰ç”¨å‘€ï¼Ÿæ‰“çš„æ­£å—¨ï¼Œä¸€å›å¤´ï¼Œå®¶è¢«æ¨äº†ã€‚æˆ‘ä¸‹äº†ä¸€éƒ¨ç”µå½±ï¼ŒåŒå‡»æ‰“å¼€ï¼ŒCPU é£é€Ÿè¿è¡Œï¼ŒIO åœ¨ç¼“æ…¢åŠ è½½ã€‚æˆ‘ CPU è¿è¡Œåˆ°å†’çƒŸä¹Ÿæ²¡ç”¨å‘€ï¼ŒIO åˆ¶çº¦äº†ã€‚ç»“æœå°±æ˜¯ç”µå½±å˜æˆäº† PPTï¼Œä¸€ç§’ä¸€åœã€‚è¿™æ ·ä¸‹å»å¤§å®¶éƒ½æ²¡å¾—ç©ã€‚çœ¼çœ‹å…¶å®ƒé˜Ÿå‹å¸¦ä¸åŠ¨ï¼ŒCPU å·¥ç¨‹å¸ˆæƒ³å‡ºäº†ä¸€ä¸ªåŠæ³•ï¼Œæˆ‘åœ¨ CPU é‡Œé¢åˆ’ä¸€å—å‡ºæ¥åšä¸ºç¼“å­˜ï¼Œè¿™ä¸ªç¼“å­˜ä»‹äº CPU ä¸ å†…å­˜ä¹‹é—´ï¼Œè·Ÿæˆ‘ä»¬å¸¸ç”¨çš„ç¼“å­˜åŠŸèƒ½å·®ä¸å¤šï¼Œä¸ºäº†å‡è¡¡ CPU ä¸å†…å­˜ä¹‹é—´çš„é€Ÿåº¦å·®ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šæŠŠæ•°æ®å…ˆä» IO åŠ è½½åˆ° å†…å­˜ï¼Œå†æŠŠå†…å­˜ä¸­çš„æ•°æ®åŠ è½½åˆ° CPU çš„ç¼“å­˜ä¹‹ä¸­ã€‚å°†å¸¸ç”¨æˆ–è€…å°†ç”¨çš„æ•°æ®ç¼“å­˜åœ¨ CPU ä¸­åï¼ŒCPU æ¯æ¬¡å¤„ç†æ—¶å°±ä¸ç”¨è€æ˜¯ç­‰å†…å­˜äº†ï¼Œè¿™æå¤§çš„æé«˜äº† CPU çš„åˆ©ç”¨ç‡ã€‚</p><p>åˆ°è¿™é‡Œï¼Œç¡¬ä»¶å·¥ç¨‹å¸ˆåœ†æ»¡çš„å®Œæˆäº†ä»»åŠ¡ï¼Œä¸‹é¢è½®åˆ°äº†æˆ‘ä»¬è½¯ä»¶å·¥ç¨‹å¸ˆç™»åœºäº†ã€‚</p><p>è™½ç„¶è¯´åŠ äº†ç¼“å­˜ä¹‹åï¼ŒCPU çš„åˆ©ç”¨ç‡æˆå€ä¸Šå‡ï¼Œä»å½“åˆçš„è¿è¡Œ 5 åˆ†é’Ÿï¼ŒåŠ è½½ 2 å°æ—¶ã€‚å˜æˆäº†ï¼Œè¿è¡Œ 2 åˆ†é’Ÿï¼ŒåŠ è½½ 1 å°æ—¶ï¼Œä½†æ˜¯ä½“éªŒè¿˜æ˜¯å¾ˆå·®ã€‚è¿˜æ‹¿ç”µå½±ä¸¾ä¾‹ï¼Œçœ‹ç”µå½±çš„æ—¶å€™ä¸å…‰æœ‰ç”»é¢ï¼Œè¿˜å¾—æœ‰å£°éŸ³å‘€ï¼Œä½ è¿è¡Œæ˜¯å¿«äº†ï¼Œä½†æ˜¯å…ˆæ”¾è§†é¢‘ï¼Œå†æ”¾å£°éŸ³ã€‚å°±åƒæ˜¯å…ˆçœ‹ä¸€éƒ¨é»˜ç‰‡ï¼Œå†å¬ä¸€éå¹¿æ’­ï¼Œè¿™ç§éŸ³ç”»åˆ†ç¦»çš„è§‚æ„Ÿæ²¡æ¯” PPT å¼ºå¤šå°‘ã€‚</p><p>åæ¥åœ¨è½¯ç¡¬å·¥ç¨‹å¸ˆçš„å¤©æ‰åŠªåŠ›åï¼Œå‘æ˜äº†ä¸€ç§ç¥å¥‡çš„ä¸œè¥¿â€“çº¿ç¨‹ã€‚è¯´çº¿ç¨‹ä¹‹å‰æˆ‘ä»¬å…ˆè¯´ä¸€ä¸‹è¿›ç¨‹ï¼Œè¿™ä¸ªä¸œè¥¿å¯æ˜¯æˆ‘ä»¬èƒ½çœ‹åˆ°çš„ä¸œè¥¿ï¼Œæ¯”å§‹ä½ å¯åŠ¨çš„æµè§ˆå™¨ï¼Œæ¯”å¦‚ä½ æ­£åœ¨ä½¿ç”¨çš„å¾®ä¿¡ï¼Œè¿™äº›è½¯ä»¶å¯åŠ¨åï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚è€Œçº¿ç¨‹å‘¢ï¼Ÿå®ƒå¯ä»¥ç®€å•ç†è§£æˆæ˜¯ä¸€ä¸ªè¿›ç¨‹çš„å­é›†ï¼Œä¹Ÿå°±æ˜¯è¯´è¿›ç¨‹å…¶å®æ˜¯ä¸€å †çº¿ç¨‹ç»„æˆã€‚è€Œä¸”æ“ä½œç³»ç»Ÿé€šå¸¸ä¼šæŠŠæ‰€æœ‰ç¡¬ä»¶èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜ä¹‹å†…çš„å…¨åˆ†é…ç»™è¿›ç¨‹ï¼Œè¿›ç¨‹å°±åƒä¸€ä¸ªåŒ…å·¥å¤´ä¸€æ ·å†åˆ†é…ç»™åº•ä¸‹çš„çº¿ç¨‹ã€‚ä½†æ˜¯å”¯ç‹¬æœ‰ä¸€æ ·èµ„æºï¼Œæ“ä½œç³»ç»Ÿæ˜¯ç›´æ¥åˆ†é…ç»™çº¿ç¨‹çš„ï¼Œé‚£å°±æ˜¯ CPU èµ„æºã€‚</p><p>è¿™æ ·çš„è®¾ç½®å…¶å®æ˜¯æœ‰æ·±æ„çš„ã€‚å¯èƒ½æœ‰äººè§‰å¾—ï¼Œåˆ†ç»™è¿›ç¨‹ä¹Ÿå¯ä»¥å‘€ï¼Œä½†æ˜¯è¿›ç¨‹è¦æ¯”çº¿ç¨‹é‡çš„å¤šï¼Œåˆ‡æ¢çš„å¼€é”€è¿‡å¤§ï¼Œå¾—ä¸å°è¯•ã€‚å°±åƒæ˜¯ä½ æƒ³æ‰“å¼€ä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œæ˜¯æ‰“å¼€ä¸€ä¸ªæ–°æµè§ˆå™¨å¿«å‘¢ï¼Ÿè¿˜æ˜¯æ‰“å¼€ä¸€ä¸ªæ–°çš„ Tab é¡µå¿«å‘¢ï¼Ÿæ€»ä¹‹æœ‰äº†çº¿ç¨‹ä¹‹åï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªå¾ˆé…·ç‚«çš„æ“ä½œâ€“çº¿ç¨‹åˆ‡æ¢ã€‚ä»–èƒ½å¸¦æ¥ä»€ä¹ˆå‘¢ï¼Ÿæ¥ç€è¯´ç”µå½±çš„äº‹ï¼Œæˆ‘ä»¬å…¶å®è¿˜æ˜¯å…ˆæ’­è§†é¢‘å†æ”¾å£°éŸ³ã€‚ä½†æ˜¯ä¸ä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æ˜¯å…ˆæ”¾ä¸€ä¼šè§†é¢‘ï¼Œå†æ”¾ä¸€ä¼šå£°éŸ³ã€‚åªè¦å•æ¬¡æ’­æ”¾çš„å¤ŸçŸ­ï¼Œä¸¤ç§æ“ä½œä¹‹é—´çš„åˆ‡æ¢å¤Ÿå¿«ï¼Œå°±ä¼šè®©äººæ„Ÿè§‰å…¶å®è§†é¢‘ä¸å£°éŸ³æ˜¯åŒæ—¶æ’­çš„é”™è§‰ã€‚è€Œè½»é‡çš„çº¿ç¨‹ä»¥åŠæä¾›çš„åˆ‡æ¢èƒ½åŠ›ç»™è¿™ç§æ“ä½œæä¾›äº†å¯èƒ½ã€‚</p><p>è‡³æ­¤ï¼Œé—®é¢˜åœ¨æ— æ•°ç¡¬ä»¶ä¸è½¯ä»¶å·¥ç¨‹å¸ˆçš„åŠªåŠ›ä¸‹ï¼Œå¾—åˆ°äº†æ¯”è¾ƒå®Œç¾çš„è§£å†³ã€‚</p><h3 id="æ–°çš„é—®é¢˜"><a href="#æ–°çš„é—®é¢˜" class="headerlink" title="æ–°çš„é—®é¢˜"></a>æ–°çš„é—®é¢˜</h3><p>äº‹æƒ…åˆ°äº†è¿™é‡Œï¼Œæœ¬è¯¥çš†å¤§æ¬¢å–œã€åŠŸå¾·åœ†æ»¡ã€‚ç»“æœè‹±ç‰¹å°”åˆå‡ºæ¥æäº‹ï¼Œä½†å…¶å®ä»–è¿™æ¬¡ä¹Ÿæ˜¯è¢«é€¼æ— å¥ˆã€‚</p><p>è¿˜è®°å¾—æˆ‘ä»¬ä¸Šé¢è¯´çš„ä»¥è‹±ç‰¹å°” CEOâ€“é«˜ç™»Â·æ‘©å°”å‘½åçš„æ‘©å°”å®šå¾‹å—ï¼Ÿè¿™ä¸ªå®šå¾‹å…¶å®å¹¶ä¸æ˜¯æ ¹æ®ä¸¥è°¨çš„ç§‘å­¦ç ”ç©¶å¾—å‡ºæ¥çš„ï¼Œè€Œæ˜¯é€šè¿‡è‹±ç‰¹å°”çš„è¿‡å¾€è¡¨ç°æ¨å¯¼å‡ºçš„è¿™ä¸ªç»“è®ºã€‚æŒ‰ç†è¯´è¿™æ˜¯æä¸ç¬¦åˆç§‘å­¦è§„å¾‹çš„ï¼Œå°±åƒæˆ‘é‡åˆ°çš„æ¯ä¸ªç¨‹åºå‘˜éƒ½èƒŒä¸ªç”µè„‘åŒ…ï¼Œä½†æ˜¯æˆ‘åœ¨å¤§è¡—ä¸Šä¸èƒ½éšä¾¿çœ‹åˆ°ä¸€ä¸ªèƒŒç€ç”µè„‘åŒ…çš„äººå°±è¯´ä»–æ˜¯ç¨‹åºå‘˜ã€‚ä½†æ˜¯è‹±ç‰¹å°”å°±æ˜¯è¿™ä¹ˆ NBï¼Œä»–åœ¨çš„å¤§è¡—ä¸Šå…¨æ˜¯ç¨‹åºå‘˜ã€‚è‹±ç‰¹å°”å°±è¿™æ ·ç»´æŠ¤ç€è¿™ä¸ªå®šå¾‹æ¯ 18 ä¸ªæœˆæŠŠ CPU çš„æ€§èƒ½ç¿»ä¸€å€ï¼ŒæŒç»­äº†æ¯å¤šå¹´ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574604678575-fb41c370-e4ce-4fef-82ed-b36a0acfee5d.png#align=left&display=inline&height=150&name=image.png&originHeight=300&originWidth=400&size=250612&status=done&width=200" alt="image.png"></p><p>ç›´åˆ°ç¬¬å››ä»» CEO çš„æ—¶å€™ï¼Œæ‘©å°”å®šå¾‹çªç„¶ä¸çµäº†ï¼Œä¸Šå›¾å°±æ˜¯æ—¶ä»»è‹±ç‰¹å°” CEOâ€“å…‹ç‘æ ¼Â·è´ç‘ç‰¹ã€‚åœ¨ä¸€æ¬¡æŠ€æœ¯å¤§ä¼šä¸Šï¼Œå‘ä¸ä¼šè€…ä¸‹è·ªã€‚ä¸ºä¸€å†å»¶æœŸç›´è‡³æœ€ç»ˆå¤±è´¥æ”¾å¼ƒçš„ Â 4GHz ä¸»é¢‘å¥” 4 å¤„ç†å™¨è‡´æ­‰ã€‚</p><p>åˆ°æ­¤ï¼Œæ‘©å°”å®šå¾‹ç»ˆç»“ï¼ŒCPU çš„å‘å±•è¿›å…¥äº†ç“¶é¢ˆã€‚ç›´åˆ°æœ‰ä¸€å¤©ä¸€ä¸ªè„‘é—¨é—ªå…‰çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆæ•²å“äº†å…‹ç‘æ ¼Â·è´ç‘ç‰¹åŠå…¬å®¤çš„å¤§é—¨ã€‚â€è€æ¿ä½ ä¸ç”¨è·ªäº†ï¼Œæˆ‘æœ‰ä¸ªåŠæ³•å¯ä»¥æŠŠ CPU æ€§èƒ½æé«˜ä¸€å€â€ã€‚</p><p>ä¸€å¥è¯è®©å…‹ç‘æ ¼è€æ³ªçºµæ¨ªï¼Œé‚£ä¸€å¤©ï¼Œå›æƒ³èµ·äº†ï¼Œå—é‚£äº›å®¶ä¼™æ”¯é…çš„ææ€–â€¦â€¦è¢«å›šç¦åœ¨é¸Ÿç¬¼ä¸­çš„å±ˆè¾±â€¦â€¦</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574605677580-71cae468-27d2-4acd-af28-e46bf1765dd5.png#align=left&display=inline&height=163&name=image.png&originHeight=326&originWidth=580&size=311704&status=done&width=290" alt="image.png"></p><p>å…‹ç‘æ ¼æ¿€åŠ¨çš„é—®é“ï¼šâ€ä»€ä¹ˆæ–¹æ¡ˆï¼Ÿâ€</p><p>ç¡¬ä»¶å·¥ç¨‹å¸ˆï¼šâ€å¾ˆç®€å•å‘€ï¼Œæˆ‘ä»¬åªè¦æŠŠç°åœ¨ä¸¤ä¸ªçš„ CPU è£…åˆ°ä¸€ä¸ªå¤§å·çš„ CPU é‡Œé¢ï¼Œé‚£ä¹ˆä»–çš„æ€§èƒ½å°±æ˜¯ä¸¤ä¸ª CPU çš„æ€§èƒ½å‘€ï¼æˆ‘å¯çœŸæ˜¯ä¸€ä¸ªå°æœºçµé¬¼å‘¢â€</p><p>åšäº†ä¸€è¾ˆå­ CPU çš„å…‹ç‘æ ¼ï¼Œæ°”çš„å·®ç‚¹è¿›äº† ICUã€‚â€æˆ‘è€å…‹å°±ç®—è·ªä¸€è¾ˆå­ï¼Œä¹Ÿä¸ä¼šåšè¿™ç§å‚»äº‹â€ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574606349112-83cb0491-0d01-4d5b-811e-f4c7bf0bb1f5.png#align=left&display=inline&height=205&name=image.png&originHeight=409&originWidth=700&size=606446&status=done&width=350" alt="image.png"></p><p>ä¸Šå›¾ä¸ºè‹±ç‰¹å°”å‘å¸ƒçš„ 28 æ ¸ CPUã€‚å—¯ï¼Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574607088161-ecd5069f-55d9-44a3-815f-f53ab5aa67df.png#align=left&display=inline&height=144&name=image.png&originHeight=288&originWidth=373&size=189407&status=done&width=186.5" alt="image.png"></p><p>å½“ç„¶ä¸Šé¢å…¶å®æœ‰äº›æˆè°‘çš„æˆåˆ†ï¼Œä½†æ˜¯ CPU çš„å‘å±•ç»“æœä¹Ÿçš„ç¡®æ˜¯å¾€æ›´å¤šçš„æ ¸å¿ƒæ•°å»å‘å±•ã€‚ä»å•æ ¸åˆ°åŒæ ¸å† 6 æ ¸ã€8 æ ¸ä¸åœçš„å¢é•¿æ ¸å¿ƒæ•°ï¼ŒCPU çš„æ€§èƒ½ä¹Ÿçš„ç¡®è·Ÿç€å¢é•¿ã€‚è¿™å…¶å®è·Ÿæˆ‘ä»¬è½¯ä»¶å·¥ç¨‹å¸ˆå¸¸ç”¨çš„åˆ†å¸ƒå¼æ¶æ„ä¸€æ ·ï¼Œå½“å•æœºçš„æ€§èƒ½è¾¾åˆ°äº†ç“¶é¢ˆï¼Œä¸å¯èƒ½å†é€šè¿‡çºµå‘çš„å¢åŠ æœåŠ¡å™¨çš„æ€§èƒ½æé«˜ç³»ç»Ÿè´Ÿè½½ï¼Œåªèƒ½é€šè¿‡æŠŠå•æœºç³»ç»Ÿï¼Œæ‹†æˆå¤šä¸ªåˆ†å¸ƒå¼æœåŠ¡æ¥è¿›è¡Œæ¨ªå‘çš„æ‰©å±•ã€‚</p><p>é€šè¿‡å¢åŠ  CPU çš„æ ¸å¿ƒæ•°ï¼Œç¡¬ä»¶å·¥ç¨‹å¸ˆçœ‹ä¼¼åœ†æ»¡çš„å®Œæˆæ—¶ä»£äº¤ç»™ä»–çš„ä»»åŠ¡ã€‚ç»“æœä¸€å£å¤§é”…ç”©åœ¨äº†å’±ä»¬è½¯ä»¶å·¥ç¨‹å¸ˆçš„å¤´ä¸Šã€‚</p><p>æ¥ï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œä¸Šé¢æˆ‘ä»¬è¯´ CPUã€å†…å­˜ã€IO ä»–ä»¬æœ‰ä¸€ä¸ªæ ¸å¿ƒçŸ›ç›¾ï¼Œè¿™ä¸ªçŸ›ç›¾å°±æ˜¯é€Ÿåº¦çš„å·®å¼‚ã€‚è€Œä¸”è¿™ä¸ªå·®å¼‚ä»ç„¶æ²¡æœ‰è§£å†³ã€‚ä½†æ˜¯æˆ‘ä»¬å˜ç›¸çš„è§£å†³äº†ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿç¡¬ä»¶å·¥ç¨‹å¸ˆåœ¨ CPU çš„æ ¸å¿ƒé‡Œåˆ’äº†ä¸€å—åœ°æ–¹åšä¸ºç¼“å­˜ï¼Œé€šè¿‡è¿™ä¸ªç¼“å­˜å‡è¡¡ä»–ä»¬ä¹‹é—´çš„å·®å¼‚ã€‚è€Œè½¯ä»¶å·¥ç¨‹å¸ˆå‘¢ï¼Œä¸ºäº†æœ€å¤§çš„æé«˜ CPU çš„åˆ©ç”¨ç‡ï¼Œæäº†ä¸€ä¸ªå«çº¿ç¨‹çš„ä¸œè¥¿ï¼Œé€šè¿‡å¤šçº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢åœ†æ»¡è§£å†³é—®é¢˜ã€‚</p><p>å—¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆå¾ˆå®Œç¾ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå‰ææ˜¯è¿è¡Œåœ¨å•æ ¸çš„ CPU ä¸‹ã€‚</p><p>åˆšæ‰æˆ‘ä»¬è¯´äº† CPU çš„æ ¸å¿ƒï¼Œä¼šæœ‰ä¸€å—åœ°æ–¹ç¼“å­˜ä»å†…å­˜é‡ŒåŠ è½½çš„æ•°æ®ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡ä»å†…å­˜é‡ŒåŠ è½½äº†ï¼Œæé«˜äº†æ•ˆç‡ã€‚ä½†æ˜¯å‘¢ï¼Œå•æ ¸æœ‰ä¸€ä¸ªç¼“å­˜ï¼Œå¤šæ ¸å°±ä¼šå‡ºç°å¤šä¸ªç¼“å­˜ï¼Œå†åŠ ä¸Šæˆ‘ä»¬å¤šçº¿ç¨‹çš„è¿è¡Œï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬ä»¥çœŸå®ä»£ç ä¸ºä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCount</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        TestCount testCount = <span class="keyword">new</span> TestCount();</span><br><span class="line">        Thread threadOne = <span class="keyword">new</span> Thread(() -&gt; testCount.add());</span><br><span class="line">        Thread threadTwo = <span class="keyword">new</span> Thread(() -&gt; testCount.add());</span><br><span class="line">        threadOne.start();</span><br><span class="line">        threadTwo.start();</span><br><span class="line"></span><br><span class="line">        threadOne.join();</span><br><span class="line">        threadTwo.join();</span><br><span class="line"></span><br><span class="line">        System.out.println(testCount.count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å¾ˆç®€å•ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½è°ƒç”¨ä¸€ä¸ª add æ–¹æ³•ï¼Œè€Œè¿™ä¸ª add æ–¹æ³•çš„æ“ä½œæ˜¯å¾ªç¯ 10 w æ¬¡ï¼Œæ¯æ¬¡éƒ½æŠŠè¿™ä¸¤ä¸ªçº¿ç¨‹å…±äº«çš„ count å˜é‡åŠ  1 ã€‚æŒ‰ç…§æˆ‘ä»¬çš„ç›´è§‰æ¥è¯´ï¼Œcount å¼€å§‹æ˜¯ 0ï¼Œæ¯ä¸ªçº¿ç¨‹åŠ  10 wï¼Œæ€»å…±ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥ 10 w * 2 = 20 wã€‚</p><p>å¯æ˜¯å‘¢ï¼Ÿç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³çš„é‚£æ ·ï¼Œæˆ‘è¿è¡Œçš„ç»“æœæ˜¯ï¼š113595ã€‚è€Œä¸”æ¯æ¬¡è¿è¡Œçš„ç»“æœéƒ½ä¸ä¸€æ ·ï¼Œä½ å¯ä»¥è¯•è¯•ã€‚ç»“æœåŸºæœ¬ä¸Šéƒ½åœ¨ 10w ~ 20w ä¹‹é—´ï¼Œè€Œä¸”æ— é™è¶‹å‘äº 10wã€‚</p><p>è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè¿˜è®°å¾—å‰é¢è¯´çš„ CPU ç¼“å­˜å—ï¼Ÿæ²¡é”™ï¼Œä»–å°±æ˜¯è¿™åªé¬¼ã€‚ä¸ºäº†ä¾¿äºè¯´æ˜é—®é¢˜ï¼Œæˆ‘ç”»äº†å‡ å¼ å›¾ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574609355807-ddc7bcbb-6119-49c1-a6fd-688bdcea9fb3.png#align=left&display=inline&height=536&name=image.png&originHeight=1072&originWidth=948&size=44887&status=done&width=474" alt="image.png"><br>ä¸Šå›¾æ˜¯åœ¨å•æ ¸çš„æƒ…å†µä¸‹ï¼Œé¦–å…ˆè¿™ä¸ª count ä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è¿™æ—¶ä»–æ˜¯åˆå§‹å€¼ 0ã€‚ç„¶åå¦‚å›¾æ‰€ç¤ºï¼Œç¬¬ 1 æ­¥ä»–è¢«åŠ è½½åˆ°äº† CPU çš„ç¼“å­˜ä¸­ï¼ŒCPU å¤„ç†å™¨æŠŠä»–ä»ç¼“å­˜ä¸­å–å‡ºæ¥ï¼Œç„¶åè¿›è¡Œ add æ“ä½œï¼ŒåŠ å®Œä¹‹åå†æ”¾å…¥ç¼“å­˜ä¸­ï¼Œç¼“å­˜å†æŠŠ count å†™å…¥å†…å­˜ä¸­ï¼Œæœ€ç»ˆæˆ‘ä»¬å°±å¾—åˆ°äº†ç»“æœã€‚å¯è§å•æ ¸æƒ…å†µä¸‹ï¼Œå› ä¸ºå…±äº«ç¼“å­˜ä¸å†…å­˜ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä»¬æ¥ç€çœ‹å¤šæ ¸çš„æƒ…å†µä¸‹ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1574610745538-8ef09482-0b23-4bf9-8e44-66fcbdd7d968.png#align=left&display=inline&height=531&name=image.png&originHeight=1062&originWidth=1978&size=85959&status=done&width=989" alt="image.png"><br>å¦‚ä¸Šæ˜¯å¤šæ ¸åœºæ™¯ä¸‹çš„è¿ç®—è¿‡ç¨‹ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>é¦–å…ˆ count è¢«åŠ è½½åˆ°å†…å­˜ï¼Œç´§æ¥ç€çº¿ç¨‹ 1 è¢« CPU 1 è°ƒç”¨ï¼ŒæŠŠå†…å­˜çš„ count = 0 åŠ è½½åˆ°äº†ç¼“å­˜ä¸­</li><li>ç„¶å CPU 1 æŠŠç¼“å­˜ä¸­ count = 0 åŠ è½½åˆ°å¤„ç†å™¨ä¸­ï¼Œä¸€ä¸ªæ—¶é—´ç‰‡å¤„ç†å Â 13595</li><li>CPU æŠŠ count =Â 13595 å­˜å…¥åˆ°ç¼“å­˜ï¼Œå‡†å¤‡ä¸‹æ¬¡æ¥ç€ç®—</li><li>ç¼“å­˜ æŠŠ countÂ  =Â 13595 åˆ·æ–°åŠ å†…å­˜ï¼Œç­‰ä¸‹ä¸ªæ—¶é—´ç‰‡å†åŠ è½½</li><li>çº¿ç¨‹ 2 å¾—åˆ°äº† CPU2 æ—¶é—´ç‰‡ï¼Œä»å†…å­˜ä¸­æŠŠåˆšåˆšçº¿ç¨‹ 1 ç®—äº†ä¸€åŠçš„ Â countÂ  = 13595 åŠ è½½åˆ°äº†ç¼“å­˜</li><li>CPU 2 æŠŠ countÂ  = 13595 åŠ è½½åˆ°äº†å¤„ç†å™¨ï¼Œå¼€å§‹è¿ç®—ã€‚ä¸äº›åŒæ—¶ CPU 1 æŠŠæ—¶é—´ç‰‡åˆåˆ†é…ç»™äº†çº¿ç¨‹ 1ï¼Œçº¿ç¨‹æ¥ç€åˆšæ‰çš„ Â count = 13595 è¿ç®—ï¼Œå¾ˆå¿«ç®—å®Œå¾—åˆ° 10 w ï¼Œå¹¶æŠŠç»“æœæœ€ç»ˆåˆ·è¿›äº†å†…å­˜ï¼Œç°åœ¨å†…å­˜ä¸­çš„æ•°æ®ä¸º count = 10wã€‚</li><li>çº¿ç¨‹ 2 ä¹Ÿå¾ˆå¿«è¿è¡Œå®Œäº† 10w æ¬¡ï¼Œç°åœ¨ä»–å¾—åˆ°çš„ç»“æœ Â 13595 + 10w = 113595ã€‚ç„¶ååŒæ ·æŠŠç»“æœæœ€ç»ˆçš„åˆ·æ–°è¿›äº†å†…å­˜ï¼Œç°åœ¨å†…å­˜ä¸­çš„æ•°æ®ä¸º count =Â 113595ã€‚</li></ol><p>çœ‹åˆ°é—®é¢˜äº†å—ï¼Ÿå¯ä»¥ç†è§£ç¼“å­˜ä¸­çš„ count æ˜¯å†…å­˜ä¸­çš„ count çš„ä¸€ä»½æ‹·è´ã€‚åœ¨ç¼“å­˜ä¸­ä¿®æ”¹æ—¶å¹¶ä¸ä¼šå˜æ›´å†…å­˜ä¸­çš„å€¼ï¼Œè€Œæ˜¯è¿‡ä¸€æ®µæ—¶é—´ååˆ·æ–°å›å†…å­˜ï¼Œè€Œçº¿ç¨‹ 1 æŠŠè®¡ç®—äº†ä¸€åŠçš„å€¼ï¼Œåˆ·æ–°è¿›å†…å­˜åï¼Œçº¿ç¨‹ 2 æŠŠè¿™ä¸ªæ–°å€¼åŠ è½½åˆ°äº† CPU2 ä¸­ï¼Œç„¶åè®¡ç®—ã€‚ä¸äº›åŒæ—¶ CPU 1 å®Œæˆäº†è®¡ç®—ï¼Œå¹¶æŠŠå€¼åˆ·æ–°è¿›äº†å†…å­˜ï¼ŒCPU2 ä»åœ¨è®¡ç®—ï¼Œå› ä¸ºä»–ä¸çŸ¥é“ CPU1 æŠŠå€¼æ”¹å˜äº†ï¼Œè®¡ç®—å®Œäº†ï¼ŒæŠŠè‡ªå·±è®¡ç®—çš„å€¼ä¹Ÿåˆ·æ–°è¿›äº†å†…å­˜ä¸­ï¼Œè¿™æ ·å°±æŠŠåˆšåˆš CPU1 å¿™ä¹åŠå¤©çš„ç»“æœè¦†ç›–äº†ã€‚</p><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› å°±æ˜¯ï¼ŒCPU 1 ä¸ CPU 2 å„è‡ªçš„æ“ä½œå¯¹äºåŒæ–¹ä¸å¯è§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿è¡ŒæœŸé—´å…¶å®æ€»å…±æœ‰ 3 ä¸ª count å˜é‡ï¼Œä¸€ä¸ªæ˜¯å†…å­˜ä¸­çš„ countï¼Œä¸€ä¸ªæ˜¯ CPU1 ä¸­çš„ count æ‹·è´ï¼Œæœ€åä¸€ä¸ªæ˜¯ CPU2 ä¸­çš„ count æ‹·è´ã€‚</p><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p><strong>ç¡¬ä»¶å·¥ç¨‹å¸ˆä¸ºå‡è¡¡ CPU ä¸ ç¼“å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ï¼Œè€Œç‰¹æ„åŠ çš„ CPU ç¼“å­˜ï¼Œç«Ÿç„¶åœ¨å¤šæ ¸çš„åœºæ™¯ä¸‹é˜´å·®é˜³é”™çš„æˆä¸ºäº†å¹¶å‘é—®é¢˜ä¸­å¯è§æ€§çš„æ ¹æºï¼</strong></p><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><p>æœ¬æ–‡æ˜¯ã€Šå¹¶å‘é‚£äº›äº‹ã€‹çš„ç¬¬ä¸‰ç¯‡ï¼Œå‰ä¸¤ç¯‡å¦‚ä¸‹ï¼š</p><ol><li><a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157695&idx=1&sn=780603b41fb81746c173c0993b3d25b7&chksm=f13f3feac648b6fc112d222954e63546a0ed48d8ce0daa614768cbe7e126bd056a5c51b9bf0f&scene=0&xtrack=1#rd">ã€å¹¶å‘é‚£äº›äº‹ã€‘åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157708&idx=1&sn=30aa27b6a2463ba38c9f61438863329d&chksm=f13f3f19c648b60f5e03a02c733adf138b36447943ae9c624974e1a842dd7d37251bbe7a69b7&scene=0&xtrack=1#rd">ã€å¹¶å‘é‚£äº›äº‹ã€‘ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</a></li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘é‚£äº›äº‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘é‚£äº›äº‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¹¶å‘é‚£äº›äº‹ã€‘ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</title>
      <link href="/posts/48faaa95/"/>
      <url>/posts/48faaa95/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1573212056903-3511b031-63e5-4a9b-95f0-f9d05a784f14.jpeg#align=left&display=inline&height=1080&originHeight=1080&originWidth=1920&size=0&status=done&width=1920"></p><h2 id="Step-1-ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"><a href="#Step-1-ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="Step 1. ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"></a>Step 1. ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</h2><p><strong>ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</strong>ä¹Ÿå«<strong>æœ‰é™ç¼“å†²é—®é¢˜</strong>ï¼Œæ˜¯å¤šçº¿ç¨‹åŒæ­¥çš„ä¸€ä¸ªæœ€æœ€æœ€ç»å…¸çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æè¿°çš„åœºæ™¯æ˜¯å¯¹äºä¸€ä¸ªæœ‰å›ºå®šå¤§å°çš„ç¼“å†²åŒºï¼ŒåŒæ—¶å…±äº«ç»™ä¸¤ä¸ªçº¿ç¨‹å»ä½¿ç”¨ã€‚è€Œè¿™ä¸¤ä¸ªçº¿ç¨‹ä¼šåˆ†ä¸ºä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªè´Ÿè´£å¾€è¿™ä¸ªç¼“å†²åŒºé‡Œæ”¾å…¥ä¸€å®šçš„æ•°æ®ï¼Œæˆ‘ä»¬å«ä»–<strong>ç”Ÿäº§è€…</strong>ã€‚å¦ä¸€ä¸ªè´Ÿè´£ä»ç¼“å†²åŒºé‡Œå–æ•°æ®ï¼Œæˆ‘ä»¬å«ä»–<strong>æ¶ˆè´¹è€…</strong>ã€‚<br>è¿™é‡Œå°±ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ç”Ÿäº§è€…ä¸å¯èƒ½æ— é™åˆ¶çš„æ”¾æ•°æ®å»ç¼“å†²åŒºï¼Œå› ä¸ºç¼“å†²åŒºæ˜¯æœ‰å¤§å°çš„ï¼Œå½“ç¼“å†²åŒºæ»¡çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å°±å¿…é¡»åœæ­¢ç”Ÿäº§ã€‚ç¬¬äºŒä¸ªé—®é¢˜äº¦ç„¶ï¼Œæ¶ˆè´¹è€…ä¹Ÿä¸å¯èƒ½æ— é™åˆ¶çš„ä»ç¼“å†²åŒºå»å–æ•°æ®ï¼Œå–æ•°æ®çš„å‰ææ˜¯ç¼“å†²åŒºé‡Œæœ‰æ•°æ®ï¼Œæ‰€ä»¥å½“ç¼“å†²åŒºç©ºçš„æ—¶å€™ï¼Œæ¶ˆè´¹è€…å°±å¿…é¡»åœæ­¢ç”Ÿäº§ã€‚<br>è¿™ä¸¤ä¸ªé—®é¢˜çœ‹èµ·æ¥ç®€å•ï¼Œä½†æ˜¯åœ¨å®é™…ç¼–ç çš„æ—¶å€™è¿˜æ˜¯ä¼šæœ‰è®¸å¤šå‘ï¼Œç¨ä¸ç•™æ„å°±ä¼šé“¸æˆå¤§é”™ã€‚è€Œä¸”ä¸Šé¢åªæ˜¯å•ä¸ªæ¶ˆè´¹è€…ç”Ÿäº§è€…é—®é¢˜ï¼Œå®ç°åº”ç”¨ä¸­ï¼Œè¿˜ä¼šé‡åˆ°å¤šç”Ÿäº§å¤šæ¶ˆè´¹ç­‰æ›´å¤æ‚çš„åœºæ™¯ã€‚è¿™äº›é—®é¢˜ä¸‹é¢ä¼šè¯¦ç»†å™è¿°ã€‚</p><h2 id="Step-2-ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜"><a href="#Step-2-ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜" class="headerlink" title="Step 2. ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜"></a>Step 2. ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜</h2><p>é€šè¿‡ä¸ŠèŠ‚çš„å†…å®¹ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é—®é¢˜å‘¢ï¼Ÿ<br>å…¶å®å¦‚æœè¯´ã€ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ã€ï¼Œå¯èƒ½å› ä¸ºæœ‰äº†ã€é—®é¢˜ã€ä¸¤ä¸ªå­—è€Œæ˜¾å¾—æ¯”è¾ƒè´Ÿé¢ã€‚æˆ‘æ›´å–œæ¬¢ç§°ä¹‹ä¸ºã€ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ã€ï¼Œå°±åƒæˆ‘ä»¬å­¦çš„é‚£äº›ä»£ç è®¾è®¡æ¨¡å¼ä¸€æ ·ã€‚ä»–å…¶å®æ˜¯å¤šçº¿ç¨‹æƒ…å†µä¸‹çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ˜¯æŸäº›åœºæ™¯ä¸‹ä¹…ç»è€ƒéªŒçš„æœ€ä½³å®è·µã€‚<br>é‚£ä¹ˆè¿™ç§æ¨¡å¼æœ‰å“ªäº›ä½œç”¨å‘¢ï¼Ÿ<br><strong>ä»–çš„ç¬¬ä¸€ä¸ªå¥½å¤„æ˜¯è§£è€¦ã€‚</strong><br>ä¸¾ä¸ªå¤–å–çš„ä¾‹å­ã€‚åœ¨æ²¡æœ‰ç¾å›¢ã€é¥¿äº†ä¹ˆä¹‹å‰ï¼Œè‚¯å®šæ²¡æœ‰ç°åœ¨è¿™ä¹ˆå¤šæ»¡å¤§è¡—è·‘çš„å¤–å–å°å“¥ã€‚ä½ æ‰“ç”µè¯ç‚¹äº†ä¸€ä»½å¤–å–ï¼Œé€šå¸¸éƒ½æ˜¯è€æ¿è‡ªå·±åšèœè‡ªå·±é€ã€‚ä½ æƒ³åƒä¸€ä¸‹ï¼Œè€æ¿æ´—èœã€åˆ‡èœã€åšèœï¼Œåšå¥½ä¹‹åå†æ‰“åŒ…ï¼Œç„¶åæ‹ç€æ‰“åŒ…ç›’ï¼Œéª‘ä¸ªè‡ªè¡Œè½¦ï¼Œå†æ»¡å°åŒºæ‰¾åœ°å€ï¼Œæœ€åé€åˆ°ä½ çš„æ‰‹ä¸­ã€‚è¿™é‡Œå°±ä¼šå‡ºç°å‡ ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ï¼Œè€æ¿æŒºä¸å®¹æ˜“çš„ï¼Œè¦ä¼šæ´—èœã€åˆ‡èœã€åšèœçƒ¹é¥ªä¸€æ¡é¾™ï¼Œåšå¥½ä¹‹åï¼Œè¿˜è¦ä¼šéª‘è½¦ï¼Œå…‰ä¼šéª‘è½¦è¿˜ä¸è¡Œï¼Œä»–è¿˜è¦è®¤è·¯ï¼Œå“ªå“ªå°åŒºåœ¨å“ªé‡Œï¼Œå“ªå“ªæ ‹åœ¨å“ªé‡Œï¼Œä»å“ªèµ°æ¯”è¾ƒè¿‘ï¼Œå“ªä¸ªé—¨å£ä¿å®‰ä¸è®©è¿›ã€‚è¿™æ ·å°±æŠŠæ‰€æœ‰çš„èŒèƒ½éƒ½é›†ä¸­åœ¨äº†è€æ¿èº«ä¸Šï¼Œåšé¥­ä¸é€é¥­ï¼Œå…¶å®æ˜¯ä¸¤æ¡äº‹ï¼Œç†è®ºä¸Šæ²¡æœ‰ä»€ä¹ˆè”ç³»ï¼Œä½†æ˜¯è¿™é‡Œå¦‚æœè€æ¿åˆ‡èœæ—¶ï¼Œä¸€ä¸å°å¿ƒåˆ‡åˆ°äº†æ‰‹ï¼Œé‚£ä¸å…‰èœåšä¸äº†ï¼Œåé¢ä¹Ÿæ²¡æ³•é€ã€‚æˆ–è€…é€å¤–å–çš„è·¯ä¸Šï¼Œä¸ºèµ¶æ—¶é—´é—¯çº¢ç¯è¢«äº¤è­¦æ‹¦äº†ä¸‹æ¥ï¼Œä¸å…‰é¥­é€ä¸äº†ï¼Œè¿˜å›ä¸æ¥åšä¸‹ä¸€ä»½ã€‚è¿™å°±åƒæˆ‘ä»¬çš„ä»£ç å…¨éƒ½è€¦åˆåœ¨ä¸€èµ·çš„åæœï¼Œä¸¤ä¸ªä¸šåŠ¡ç›¸äº’å½±å“ï¼Œä¸€ä¸ªä¸šåŠ¡å‡ºç°é—®é¢˜å¦ä¸€ä¸ªä¹Ÿè·Ÿç€å‡ºç°é—®é¢˜ï¼Œä¸€ä¸ªä¸šåŠ¡å˜æ›´å°±å¸¦ç€å¦ä¸€ä¸ªä¸šåŠ¡å˜æ›´ã€‚<br>æˆ‘ä»¬æƒ³æƒ³ï¼Œæœ‰äº†å¤–å–å°å“¥ä¹‹åå‘¢ï¼Ÿè€æ¿åªè¦å…³æ³¨äºåšèœå°±å¥½äº†ï¼Œåšå¥½ç»™åˆ°å¤–å–å°å“¥ã€‚å¤–å–å°å“¥ä¼šé€åˆ°ç”¨æˆ·æ‰‹ä¸Šã€‚è€æ¿æƒ³çš„æ˜¯æ€ä¹ˆæŠŠèœåšçš„æ›´å¥½åƒï¼Œå¤–å–å°å“¥æƒ³çš„æ˜¯æ€ä¹ˆæœ€å¿«é€è¾¾ã€‚èŒèƒ½æ¸…æ™°äº†ï¼Œæ•ˆç‡å°±æ›´é«˜äº†ã€‚è¿™é‡Œå¯ä»¥æŠŠè€æ¿å½“æˆç”Ÿäº§è€…ï¼Œå¯¹åº”çš„å¤–å–å°å“¥å°±æ˜¯æ¶ˆè´¹è€…ã€‚<br><strong>ä»–çš„ç¬¬äºŒä¸ªå¥½å¤„å°±æ˜¯å‡è¡¡ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„èƒ½åŠ›ã€‚</strong><br>è¿˜æ˜¯ä¸¾å¤–å–çš„ä¾‹å­ã€‚æœ‰äº›å¤–å–æ˜¯è¦å®æ—¶å‡†å¤‡çš„ï¼Œæ¯”å¦‚è¯´åšèœå°±æ˜¯è¿™æ ·ï¼Œç”¨æˆ·ä¸‹å•åï¼Œè€æ¿ç«‹åˆ»æ´—èœã€åˆ‡èœã€åšèœç„¶åæ‰“åŒ…ã€‚å¯¹äºæ¯”è¾ƒè€—æ—¶çš„èœå“ï¼Œæ¯”å¦‚ç…²ç²¥ã€ç‚–æ±¤ä¹‹ç±»çš„æ—¶é—´å¯èƒ½å¾ˆé•¿ã€‚è€Œå¤–å–å°å“¥è€—è´¹çš„æ—¶é—´åªæ˜¯æ¥åˆ°é€šçŸ¥åæ¥åˆ°è¿™å®¶åº—çš„æ—¶é—´ã€‚å› ä¸ºç°åœ¨çš„å¤–å–ç³»ç»Ÿæ¯”è¾ƒæ™ºèƒ½ï¼Œé€šçŸ¥çš„éƒ½æ˜¯è·ç¦»å•†æˆ·æœ€è¿‘çš„å¤–å–å°å“¥ï¼Œæ‰€ä»¥åˆ°åº—çš„æ—¶é—´ä¸€èˆ¬æ¯”è¾ƒçŸ­ã€‚è¿™ç§åœºæ™¯ä¸‹ç“¶é¢ˆå°±æ˜¯å•†å®¶çš„äº§èƒ½ï¼Œé«˜å³°æœŸå°±å¯èƒ½ä¼šé€ æˆæ’é˜Ÿã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573281333771-3b680f5c-8cad-4ac9-a32b-c9d1fff75c72.png#align=left&display=inline&height=375&name=image.png&originHeight=750&originWidth=750&size=1061047&status=done&width=375" alt="image.png"><br>å†ä¸¥é‡ä¸€ç‚¹å°±ä¼šè¿™æ ·<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573281576665-5038306a-87f6-4601-bd2c-93cba5650ea8.png#align=left&display=inline&height=343&name=image.png&originHeight=686&originWidth=980&size=539819&status=done&width=490" alt="image.png"><br>å¯¹äºè¿™ä¸ªé—®é¢˜çš„åŸå› æˆ‘ä»¬å¾ˆæ¸…æ¥šäº†ï¼Œæ˜¯å› ä¸ºç”Ÿäº§è€…ï¼ˆå•†å®¶ï¼‰çš„äº§èƒ½è·Ÿä¸ä¸Šæ¶ˆè´¹è€…ï¼ˆå¤–å–å°å“¥ï¼‰çš„æ¶ˆè´¹ï¼ˆé€é¤ï¼‰é€Ÿåº¦ã€‚å› ä¸ºæˆ‘ä»¬æŠŠèŒèƒ½åˆ†å¼€äº†ï¼Œæ‰€ä»¥è§£å†³é—®é¢˜ä¹Ÿå¾ˆæ¸…æ™°ï¼Œé‚£å°±æé«˜ç”Ÿäº§è€…çš„äº§èƒ½ï¼Œæ¯”å¦‚è¯´è€æ¿å¯ä»¥å¤šé›‡å‡ ä¸ªå¨å¸ˆæˆ–è€…å†å¼€ä¸€å®¶åˆ†åº—ã€‚è¿™æ ·å°±æŠŠç”Ÿäº§è€…çš„äº§èƒ½æé«˜åˆ°ä¸æ¶ˆè´¹è€…çš„äº§èƒ½å¹³è¡¡çš„ä½ç½®ã€‚<br>è¿˜æœ‰å¦ä¸€ç§ç”Ÿäº§è€…æ¯”æ¶ˆè´¹è€…å¿«çš„æƒ…å†µï¼Œæ¯”å¦‚è¯´ä¸€äº›å°è¶…å¸‚ï¼Œä»–ä¹Ÿæœ‰å¤–å–æœåŠ¡ã€‚å› ä¸ºä»–çš„ä¸œè¥¿éƒ½æ˜¯ç°æˆçš„ï¼Œç”¨æˆ·ä¸‹å®Œå•åï¼Œåªè¦æŒ‰è®¢å•è£…å¥½å°±å¯ä»¥äº†ã€‚è¿™ä¸ªæ—¶å€™åè€Œæ˜¯ä»å¤–è¾¹è¿‡æ¥çš„å¤–å–å°å“¥è¦æ…¢çš„å¤šã€‚å†æˆ–è€…æ˜¯å•†å“å‡†å¤‡çš„æ—¶é—´å¾ˆçŸ­ï¼Œä½†æ˜¯é€é¤çš„è·¯é€”é¥è¿œï¼Œè·¯å†µå¤æ‚ã€‚æ‰€ä»¥ç“¶é¢ˆåˆ°å¤–å–å°å“¥èº«ä¸Šã€‚<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573282820149-c3875b83-8d5c-4c3d-8e4f-07756e12807b.png#align=left&display=inline&height=676&name=image.png&originHeight=1351&originWidth=640&size=164726&status=done&width=320" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573282524890-cab7a6e2-724c-490e-acc0-d5ecd776a1e1.png#align=left&display=inline&height=186&name=image.png&originHeight=372&originWidth=833&size=524932&status=done&width=416.5" alt="image.png"><br>è¿™ç§æƒ…å†µä¸‹é—®é¢˜ä¹Ÿå¾ˆæ¸…æ™°äº†ï¼Œæ¶ˆè´¹è€…æ¶ˆè€—çš„é€Ÿåº¦è·Ÿä¸ä¸Šç”Ÿäº§è€…çš„äº§èƒ½ï¼Œé‚£æ‰©å……æ¶ˆè´¹è€…çš„æ•°é‡å¥½äº†ã€‚æ¯”å¦‚ç»å¸¸é‡åˆ°çš„å¤–å–è½¬å•ï¼Œä¸€ä¸ªå¤–å–å°å“¥æ¥ä¸åŠäº†ï¼Œè½¬ç»™äº†å¦ä¸€ä¸ªå¤–å–å°å“¥ã€‚åŒæ ·ä¹Ÿèƒ½è¾¾åˆ°ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„äº§èƒ½å‡è¡¡ã€‚</p><h2 id="Step-3-æ€ä¹ˆå»å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼"><a href="#Step-3-æ€ä¹ˆå»å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼" class="headerlink" title="Step 3. æ€ä¹ˆå»å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼"></a>Step 3. æ€ä¹ˆå»å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼</h2><p>å¥½äº†ï¼Œè¯´å®Œäº† what è¿˜æœ‰ whyï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨æ¥ç€è¯´æ€ä¹ˆå»å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œä¸å†åºŸè¯ç›´æ¥ä¸Šä»£ç ã€‚<br>é¦–å…ˆæˆ‘ä»¬å†™ä¸€ä¸ªè€æ¿ç±»ï¼š</p><h3 id="3-1-Boss-java-ï¼ˆè€æ¿ï¼‰"><a href="#3-1-Boss-java-ï¼ˆè€æ¿ï¼‰" class="headerlink" title="3.1 Boss.java ï¼ˆè€æ¿ï¼‰"></a>3.1 Boss.java ï¼ˆè€æ¿ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fshows.com</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2013-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è€æ¿</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> Boss.java, v 0.1 2019-11-09 15:09 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Boss</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æœ€å¤§ç”Ÿäº§æ•°é‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_NUM = <span class="number">5</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡Œå­</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> LinkedList&lt;String&gt; tables;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Boss</span><span class="params">(LinkedList&lt;String&gt; tables)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tables = tables;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„ç‚¹1</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>.tables)&#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„ç‚¹2</span></span><br><span class="line">                <span class="keyword">while</span> (tables.size() == MAX_NUM)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;é€šçŸ¥å¤–å–å°å“¥å–é¤&quot;</span>);</span><br><span class="line">                    <span class="comment">// æ³¨æ„ç‚¹3</span></span><br><span class="line">                    <span class="keyword">this</span>.tables.notifyAll();</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;è€æ¿å¼€å§‹ä¼‘æ¯äº†&quot;</span>);</span><br><span class="line">                        <span class="keyword">this</span>.tables.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                String goods = <span class="string">&quot;ç‰›è‚‰é¢&quot;</span> + tables.size();</span><br><span class="line">                System.out.println(<span class="string">&quot;è€æ¿åšäº†ä¸€ç¢—&quot;</span> + goods);</span><br><span class="line">                tables.addLast(goods);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å†å†™ä¸€ä¸ªå¤–å–å°å“¥ç±»ï¼Œä½†æ˜¯å°´å°¬çš„æ˜¯å‘ç°ä¸çŸ¥é“å¤–å–å°å“¥è‹±æ–‡æ€ä¹ˆå†™ï¼ŒæŸ¥äº†ä¸€ä¸‹ç»“æœå¦‚ä¸‹<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573285192485-5e231883-9aca-4558-91d2-e8dd02d2cd8d.png#align=left&display=inline&height=260&name=image.png&originHeight=520&originWidth=1322&size=47352&status=done&width=661" alt="image.png"><br>è¿™ä¸ª brother æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œä½†æ˜¯æˆ‘è¯»ä¹¦å°‘ï¼Œä»–éª—æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œå°±ç”¨è¿™ä¸ªå§ã€‚ è¦æ˜¯æœ‰è‹±è¯­å¤§ç¥å¯ä»¥ç•™è¨€å›å¤ä¸€ä¸‹æ­£ç¡®æ€ä¹ˆå†™ã€‚</p><h3 id="3-2-TakeawayBrother-java-ï¼ˆå¤–å–å°å“¥ï¼‰"><a href="#3-2-TakeawayBrother-java-ï¼ˆå¤–å–å°å“¥ï¼‰" class="headerlink" title="3.2 TakeawayBrother.java ï¼ˆå¤–å–å°å“¥ï¼‰"></a>3.2 TakeawayBrother.java ï¼ˆå¤–å–å°å“¥ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fshows.com</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2013-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤–å–å°å“¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> TakeawayBrother.java, v 0.1 2019-11-09 15:14 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TakeawayBrother</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LinkedList&lt;String&gt; tables;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TakeawayBrother</span><span class="params">(LinkedList&lt;String&gt; tables)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tables = tables;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>.tables)&#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="keyword">this</span>.tables == <span class="keyword">null</span> || <span class="keyword">this</span>.tables.size() == <span class="number">0</span>)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;å‚¬è€æ¿èµ¶å¿«åšå¤–å–&quot;</span>);</span><br><span class="line">                    <span class="keyword">this</span>.tables.notifyAll();</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;ä¸€è¾¹ç©æ‰‹æœºä¸€è¾¹ç­‰å¤–å–&quot;</span>);</span><br><span class="line">                        <span class="keyword">this</span>.tables.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                String goods = tables.removeFirst();</span><br><span class="line">                System.out.println(<span class="string">&quot;å¤–å–å°å“¥å–é¤äº†&quot;</span> + goods);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº‹ä»¶å‘ç”Ÿæ€»å½’æœ‰ä¸€ä¸ªåœ°æ–¹å§ï¼Œä¸€èˆ¬è€æ¿æŠŠå¤–å–ç»™åˆ°å¤–å–å°å“¥éƒ½æ˜¯åœ¨åº—é“ºé‡Œï¼Œæœ€åæˆ‘ä»¬å†åŠ ä¸€ä¸ªåº—é“ºåœºæ™¯ç±»å§</p><h3 id="3-3-StoreContext-java-ï¼ˆåº—é“ºï¼‰"><a href="#3-3-StoreContext-java-ï¼ˆåº—é“ºï¼‰" class="headerlink" title="3.3 StoreContext.java ï¼ˆåº—é“ºï¼‰"></a>3.3 StoreContext.java ï¼ˆåº—é“ºï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fshows.com</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2013-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åº—é“ºåœºæ™¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> StoreContext.java, v 0.1 2019-11-09 15:28 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StoreContext</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆåˆ›å»ºä¸€å¼ ç”¨äºå­˜æ”¾å¤–å–çš„æ¡Œå­</span></span><br><span class="line">        LinkedList&lt;String&gt; tables = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="comment">// å†åˆ›å»ºä¸€ä¸ªè€æ¿</span></span><br><span class="line">        Boss boss = <span class="keyword">new</span> Boss(tables);</span><br><span class="line">        <span class="comment">// æœ€ååˆ›å»ºä¸€ä¸ªå¤–å–å°å“¥</span></span><br><span class="line">        TakeawayBrother takeawayBrother = <span class="keyword">new</span> TakeawayBrother(tables);</span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">        Thread bossThread = <span class="keyword">new</span> Thread(boss);</span><br><span class="line">        Thread takeawayBrotherThread = <span class="keyword">new</span> Thread(takeawayBrother);</span><br><span class="line">        <span class="comment">// è¿è¡Œçº¿ç¨‹</span></span><br><span class="line">        bossThread.start();</span><br><span class="line">        takeawayBrotherThread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-4-è¿è¡Œç»“æœ"><a href="#3-4-è¿è¡Œç»“æœ" class="headerlink" title="3.4 è¿è¡Œç»“æœ"></a>3.4 è¿è¡Œç»“æœ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">0</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">1</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">2</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">3</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">4</span></span><br><span class="line">é€šçŸ¥å¤–å–å°å“¥å–é¤</span><br><span class="line">è€æ¿å¼€å§‹ä¼‘æ¯äº†</span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">0</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">1</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">2</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">3</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">4</span></span><br><span class="line">å‚¬è€æ¿èµ¶å¿«åšå¤–å–</span><br><span class="line">ä¸€è¾¹ç©æ‰‹æœºä¸€è¾¹ç­‰å¤–å–</span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">0</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">1</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">2</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">3</span></span><br><span class="line">è€æ¿åšäº†ä¸€ç¢—ç‰›è‚‰é¢<span class="number">4</span></span><br><span class="line">é€šçŸ¥å¤–å–å°å“¥å–é¤</span><br><span class="line">è€æ¿å¼€å§‹ä¼‘æ¯äº†</span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">0</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">1</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">2</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">3</span></span><br><span class="line">å¤–å–å°å“¥å–é¤äº†ç‰›è‚‰é¢<span class="number">4</span></span><br><span class="line">å‚¬è€æ¿èµ¶å¿«åšå¤–å–</span><br><span class="line">ä¸€è¾¹ç©æ‰‹æœºä¸€è¾¹ç­‰å¤–å–</span><br><span class="line">..........</span><br></pre></td></tr></table></figure><h2 id="Step-4-ä»£ç è¯´æ˜"><a href="#Step-4-ä»£ç è¯´æ˜" class="headerlink" title="Step 4. ä»£ç è¯´æ˜"></a>Step 4. ä»£ç è¯´æ˜</h2><p>é¦–å…ˆä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„å•ç”Ÿäº§å•æ¶ˆè´¹çš„ä¾‹å­ã€‚å¦‚æœä½ æƒ³è¦å¤šç”Ÿäº§å¤šæ¶ˆè´¹ï¼Œé‚£å¤šåˆ›å»ºå‡ ä¸ª boss æˆ–è€… Â takeawayBrother å°±å¯ä»¥äº†ã€‚<br>ç„¶ååº—é“ºåœºæ™¯ç±»æ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œåªæ˜¯åŸºæœ¬çš„åˆ›å»ºçº¿ç¨‹é€»è¾‘ï¼Œå¦‚æœå¯¹äºçº¿ç¨‹åˆ›å»ºä¸äº†è§£çš„ï¼Œå¯ä»¥å‚è€ƒå‰æ–‡çš„<a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157695&idx=1&sn=780603b41fb81746c173c0993b3d25b7&chksm=f13f3feac648b6fc112d222954e63546a0ed48d8ce0daa614768cbe7e126bd056a5c51b9bf0f&scene=0&xtrack=1#rd">ã€å¹¶å‘é‚£äº›äº‹ã€‘åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼</a>ã€‚æ­¤æ–‡ä¸å†èµ˜è¿°ã€‚å¦å¤–è§‚å¯Ÿä»£ç ï¼Œå¯ä»¥å‘ç°ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„ä»£ç æä¸ºç›¸ä¼¼ï¼Œåªæ˜¯ä¸€ä¸ªå­˜ä¸€ä¸ªå–ã€‚è¿™é‡Œæˆ‘ä»¬ä»¥ç”Ÿäº§è€…ä¸ºä¾‹å­è¯´æ˜ã€‚<br>é¦–å…ˆåœ¨ Boss ç±»ä¸­ä»–æœ‰ä¸¤ä¸ªæˆå‘˜å±æ€§ï¼Œä¸€ä¸ªæ˜¯ MAX_NUM ä¸€ä¸ªæ˜¯ tablesã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸€å¼€å¤´æåˆ°çš„ã€å›ºå®šå¤§å°çš„ç¼“å†²åŒºã€å—ï¼Ÿè¿™é‡Œçš„ MAX_NUM å¯¹åº”çš„å°±æ˜¯ã€å›ºå®šå¤§å°ã€è¿™å‡ ä¸ªå­—ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®çš„æ˜¯ 5 ä¸ªã€‚ä»–çš„ç°å®æ„ä¹‰å°±æ˜¯è€æ¿ä¸å¯èƒ½ä»æ—©åˆ°æ™šä¸€åˆ»ä¸åœçš„åšèœï¼Œä¸€èˆ¬æ˜¯åœ¨ç‚¹å•çš„æ—¶å€™å¼€å§‹åšï¼Œä¹Ÿæœ‰ä¸€äº›åœ¨é«˜å³°æœŸçš„æ—¶å€™æå‰åšä¸€ç‚¹ï¼Œä½†æ˜¯ä»–æ”¾èœçš„æ¡Œå­åªæœ‰é‚£ä¹ˆå¤§ï¼Œæ”¾æ»¡äº†å°±ä¸èƒ½æ¥ç€åšã€‚è€Œ tables å°±å¯¹åº”ç€ã€ç¼“å†²åŒºã€è¿™å‡ ä¸ªå­—ã€‚è€æ¿åšå®Œèœæ€»è¦æœ‰ä¸€ä¸ªåœ°æ–¹å…ˆæ”¾ç€ç­‰å¤–å–å°å“¥æ¥æ‹¿å§ï¼Œç¼“å†²åŒºå°±æ˜¯æ”¾èœçš„æ¡Œå­ã€‚<br>ç„¶åæˆ‘ä»¬å†æ¥ç€çœ‹ä»£ç é€»è¾‘ï¼Œæˆ‘åœ¨ä»£ç ä¸­æ ‡è®°äº†å‡ ä¸ªæ³¨æ„ç‚¹ã€‚<br>ç¬¬ä¸€ä¸ªæ³¨æ„ç‚¹æ˜¯æœ€å¤–é¢ä¸€å±‚çš„ whileã€‚è¿™ä¸ªæ˜¯å¤šçº¿ç¨‹é€šç”¨å†™æ³•ï¼Œå› ä¸ºä¸å†™ while çš„è¯ï¼Œä¸€æ¬¡ä»»åŠ¡ç»“æŸåä»£ç å°±é€€å‡ºäº†ã€‚ç°å®ä¸šåŠ¡ä¸­æˆ‘ä»¬é€šå¸¸æƒ³è¦ä¸šåŠ¡ä¸€ç›´æŒç»­çš„è¿è¡Œï¼Œæ‰€ä»¥åŠ ä¸ª while è§£å†³ã€‚<br>ç¬¬äºŒä¸ªæ³¨æ„ç‚¹ Â while (tables.size() == MAX_NUM) ã€‚è¿™ä¸ªä¿¡æ¯é‡ç›¸å¯¹å¤šä¸€ç‚¹ï¼Œé¦–å…ˆ while çš„åˆ¤æ–­æ¡ä»¶çš„æ„æ€æ˜¯åˆ¤æ–­å½“å‰æ¡Œå­ä¸Šçš„å¤–å–æ˜¯ä¸æ˜¯å·²ç»è¾¾åˆ°ä¸Šé™ï¼Œå¦‚æœæ˜¯ä¼šè¿›å…¥ while ä»£ç å—çš„å†…å®¹ï¼Œé¦–å…ˆé€šçŸ¥(notifyAll)å¤–å–å°å“¥å¯ä»¥æ‹¿å¤–å–äº†ï¼Œç„¶åè‡ªå·±å¯ä»¥æ­‡ç€äº†(wait)ï¼Œå¦åˆ™æ¥ç€å¾€ä¸‹èµ°ç»§ç»­åšã€‚åˆæ¬¡æ¥è§¦ç”Ÿäº§æ¶ˆè´¹æ¨¡å‹çš„åŒå­¦ï¼Œå¾ˆå®¹æ˜“å‡ºé”™çš„ç‚¹å°±æ˜¯æŠŠè¿™é‡Œçš„ while å†™æˆ ifã€‚å› ä¸ºè¿™é‡Œæœ¬èº«ä¹Ÿåªæ˜¯è¦åˆ¤æ–­å½“å‰ç¼“å†²åŒºæ˜¯å¦æ»¡è¶³ç”Ÿäº§çš„æ¡ä»¶ã€‚å…¶å®åœ¨è¯­æ³•ä¸é€»è¾‘ä¸Šæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨å¤šçº¿ç¨‹ä¸‹å°±ä¼šå‡ºç° <strong>è™šå‡å”¤é†’</strong> çš„é—®é¢˜ã€‚æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªç”Ÿäº§è€…éƒ½å¤„äºè°ƒç”¨ wait çš„åœ°æ–¹ã€‚çªç„¶æ¶ˆè´¹è€…çº¿ç¨‹æŠŠæ•°æ®æ¶ˆè´¹å®Œäº†ï¼Œå¹¶é€šçŸ¥äº†æ‰€æœ‰ç”Ÿäº§è€…å»ç”Ÿäº§ï¼Œä¸¤ä¸ªç”Ÿäº§è€…éƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªç”Ÿäº§è€…æ‹¿åˆ°é”ï¼Œä»–å°±å»ç”Ÿäº§äº†ï¼Œç”Ÿäº§å®Œåï¼ŒæŠŠé”å°±é‡Šæ”¾äº†ï¼Œåˆšåˆšå¦ä¸€ä¸ªæ¥æ”¶åˆ°æ¶ˆæ¯çš„ç”Ÿäº§è€…æ‹¿åˆ°é”å°±æ¥ç€å¾€ä¸‹èµ°ï¼Œå¦‚æœè¿™é‡Œæ˜¯ if çš„è¯ï¼Œå› ä¸ºéƒ½å·²ç»åˆ¤æ–­è¿‡äº†ï¼Œä¸ä¼šå†åˆ¤æ–­ï¼Œä½†æ˜¯æ˜æ˜¾å¦ä¸€ä¸ªçº¿ç¨‹å·²ç»å®Œäº†ä»»åŠ¡ï¼Œä»–ç°åœ¨å·²ç»ä¸ç¬¦åˆæ¡ä»¶ã€‚æ¥ç€å¾€ä¸‹èµ°å°±ä¼šå‡ºç°é—®é¢˜ã€‚æ‰€ä»¥å½“è¿™é‡Œæ¢æˆ while åï¼Œä»–é†’æ¥åè¿˜ä¼šæ¥ç€åˆ¤æ–­ä¸€æ¬¡ï¼Œä¸æ»¡è¶³å°±æ¥ç€ç­‰å¾…ï¼Œè¿™æ ·å°±é¿å…äº†è™šå‡å”¤é†’è¿™ç§é—®é¢˜ã€‚<br>ç¬¬ä¸‰ä¸ªæ³¨æ„ç‚¹ Â this.tables.notifyAll()ã€‚å…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¤§å®¶å¯èƒ½è¦è¯´äº†ï¼Œå‡ºç°é—®é¢˜æ˜¯å› ä¸ºæˆ‘ä»¬åŒæ—¶é€šçŸ¥äº†ä¸¤ä¸ªç”Ÿäº§è€…é€ æˆçš„ï¼Œjava è‡ªå¸¦äº†ä¸€ä¸ªå”¤é†’å•ä¸ªçº¿ç¨‹çš„ notify æ–¹æ³•ä¸ºä»€ä¹ˆä¸ç”¨ï¼Œåè€Œç”¨å”¤é†’æ‰€æœ‰çº¿ç¨‹çš„ notifyAll æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸º notify å”¤é†’çº¿ç¨‹æ˜¯ <strong>éšæœº</strong> çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å”¤é†’çš„å¯èƒ½æ˜¯ç”Ÿäº§è€…ä¹Ÿå¯èƒ½æ˜¯æ¶ˆè´¹è€…ã€‚æ¯”å¦‚è¯´ä½ æ˜¯ç”Ÿäº§è€…ï¼Œä½ ç”Ÿäº§å¤Ÿäº†ï¼Œä½ æƒ³å”¤é†’æ¶ˆè´¹è€…ï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯ä½ å”¤é†’äº†å¦ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¦ä¸€ä¸ªç”Ÿäº§è€…ä¸€è§‰é†’æ¥ï¼Œå‘ç°èœéƒ½åšå®Œäº†ï¼Œå°±æ¥ç€ç¡ï¼Œå¦‚æœç”Ÿäº§è€…ä¸€ç›´å”¤é†’çš„éƒ½æ˜¯ç”Ÿäº§è€…ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šè¿›å…¥ <strong>å‡æ­»</strong> çŠ¶æ€ï¼Œæ¶ˆè´¹è€…æ°¸è¿œéƒ½å¤„äºç­‰å¾…çŠ¶æ€ã€‚</p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="1-é¡¹ç›®ä»£ç "><a href="#1-é¡¹ç›®ä»£ç " class="headerlink" title="1. é¡¹ç›®ä»£ç "></a>1. é¡¹ç›®ä»£ç </h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå¦‚é‡åˆ°é—®é¢˜å¯åˆ°<a href="https://github.com/kiwiflydream/study-example/tree/master/study-thread-example">github</a>ä¸ŠæŸ¥çœ‹æºç ã€‚</p><h3 id="2-å‚è€ƒé“¾æ¥"><a href="#2-å‚è€ƒé“¾æ¥" class="headerlink" title="2. å‚è€ƒé“¾æ¥"></a>2. å‚è€ƒé“¾æ¥</h3><ol><li><a href="https://zh.wikipedia.org/zh-hans/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98">ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜[WIKI]</a></li><li><a href="https://www.cnblogs.com/xrq730/p/4855663.html">Java å¤šçº¿ç¨‹ 14ï¼šç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å‹</a></li><li><a href="https://juejin.im/post/5aeec675f265da0b7c072c56">ä¸€ç¯‡æ–‡ç« ï¼Œè®©ä½ å½»åº•å¼„æ‡‚ç”Ÿäº§è€…â€“æ¶ˆè´¹è€…é—®é¢˜</a></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573289400369-254bf775-d595-407b-b4b5-20d964e4aa9a.png#align=left&display=inline&height=130&name=image.png&originHeight=178&originWidth=621&size=39726&status=done&width=453" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘é‚£äº›äº‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘é‚£äº›äº‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€spockã€‘å•æµ‹ç«Ÿç„¶å¯ä»¥å¦‚æ­¤ä¸æ»‘</title>
      <link href="/posts/2022afcd/"/>
      <url>/posts/2022afcd/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572609587644-4b77e5fa-311b-407f-8b58-471ec19ecea0.png#align=left&display=inline&height=611&name=image.png&originHeight=611&originWidth=960&size=1179175&status=done&width=960" alt="image.png"></p><h2 id="0-ä¸ºä»€ä¹ˆäººäººéƒ½è®¨åŒå†™å•æµ‹"><a href="#0-ä¸ºä»€ä¹ˆäººäººéƒ½è®¨åŒå†™å•æµ‹" class="headerlink" title="0. ä¸ºä»€ä¹ˆäººäººéƒ½è®¨åŒå†™å•æµ‹"></a>0. ä¸ºä»€ä¹ˆäººäººéƒ½è®¨åŒå†™å•æµ‹</h2><p>åœ¨ä¹‹å‰çš„å…³äº<a href="https://mp.weixin.qq.com/s?__biz=MzIzODE1NzA1MA==%E2%88%A3=2650157673&idx=1&sn=ed8cb9a37722938344d2ea5520d99368&chksm=f13f3ffcc648b6ea26b86301bc3f3d2ccbf4bbb6dbfbdf09b55a14f6290f139e1636b9deb699&scene=0&xtrack=1#rd">swagger</a>æ–‡ç« é‡Œæåˆ°è¿‡ï¼Œ<strong>ç¨‹åºå‘˜æœ€è®¨åŒçš„ä¸¤ä»¶äº‹ï¼Œä¸€ä»¶æ˜¯åˆ«äººä¸å†™æ–‡æ¡£ï¼Œå¦ä¸€ä»¶å°±æ˜¯è‡ªå·±å†™æ–‡æ¡£ã€‚è¿™é‡Œå¦‚æœæŠŠæ–‡æ¡£æ¢æˆå•å…ƒæµ‹è¯•ä¹ŸåŒæ ·æˆç«‹ã€‚</strong><br>æ¯ä¸ªå¼€å‘äººå‘˜éƒ½æ˜ç™½å•å…ƒæµ‹è¯•çš„ä½œç”¨ï¼Œä¹Ÿéƒ½çŸ¥é“ä»£ç è¦†ç›–ç‡è¶Šé«˜è¶Šå¥½ã€‚é«˜è¦†ç›–ç‡çš„ä»£ç ï¼Œç›¸å¯¹æ¥è¯´å‡ºç° BUG çš„æ¦‚ç‡å°±è¶Šä½ï¼Œåœ¨çº¿ä¸Šè¿è¡Œå°±è¶Šç¨³å®šï¼Œæ¥çš„é”…ä¹Ÿå°±è¶Šå°‘ï¼Œå°±ä¹Ÿä¸ä¼šå®³æ€•æµ‹è¯•åŒäº‹çªç„¶çš„å…³å¿ƒã€‚<br>æ—¢ç„¶è¿™ä¹ˆå¤šå¥½å¤„ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šè®¨åŒä»–å‘¢ï¼Ÿè‡³å°‘åœ¨æˆ‘çœ‹æ¥ï¼Œå•æµ‹æœ‰å¦‚ä¸‹å‡ ç‚¹è®©æˆ‘å–œæ¬¢ä¸èµ·æ¥çš„ç†ç”±ã€‚<br><strong>ç¬¬ä¸€ï¼Œè¦é¢å¤–å†™å¾ˆå¤šå¾ˆå¤šçš„ä»£ç </strong>ï¼Œä¸€ä¸ªé«˜è¦†ç›–ç‡çš„å•æµ‹ä»£ç ï¼Œå¾€å¾€æ¯”ä½ è¦æµ‹è¯•çš„ï¼ŒçœŸæ­£å¼€å‘çš„ä¸šåŠ¡ä»£ç è¦å¤šï¼Œç”šè‡³æ˜¯ä¸šåŠ¡ä»£ç çš„å¥½å‡ å€ã€‚è¿™è®©äººè§‰å¾—éš¾ä»¥æ¥å—ï¼Œä½ æƒ³æƒ³å¼€å‘ 5 åˆ†é’Ÿï¼Œå•æµ‹ 2 å°æ—¶æ˜¯ä»€ä¹ˆæ ·çš„å¿ƒæƒ…ã€‚è€Œä¸”å¹¶ä¸æ˜¯å•æµ‹å†™å®Œå°±æ²¡äº‹äº†ï¼Œåé¢ä¸šåŠ¡è¦æ˜¯å˜æ›´äº†ï¼Œä½ æ‰€å†™çš„å•æµ‹ä»£ç ä¹Ÿè¦åŒæ­¥ç»´æŠ¤ã€‚<br>ç¬¬äºŒï¼Œå³ä½¿ä½ æœ‰é‚£ä¸ªè€å¿ƒå»å†™å•æµ‹ï¼Œä½†æ˜¯åœ¨å½“å‰è¿™ä¸ªæ‹¼é€Ÿåº¦æŒ¤æ—¶é—´çš„å¤§ç¯å¢ƒä¸‹ï¼Œä¼šç»™ä½ é‚£ä¹ˆå¤šå†™å•æµ‹çš„æ—¶é—´å—ï¼Ÿ<strong>å†™ä¸€ä¸ªå•æµ‹çš„æ—¶é—´å¯ä»¥å®ç°ä¸€ä¸ªéœ€æ±‚</strong>ï¼Œä½ ä¼šå¦‚ä½•å»é€‰ï¼Ÿ<br><strong>ç¬¬ä¸‰ï¼Œå†™å•æµ‹é€šå¸¸æ˜¯ä¸€ä»¶å¾ˆæ— è¶£çš„äº‹</strong>ï¼Œå› ä¸ºä»–æ¯”è¾ƒæ­»ï¼Œä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†éªŒè¯ï¼Œç›¸æ¯”ä¹‹ä¸‹ä»–æ›´åƒæ˜¯ä¸ªä½“åŠ›æ´»ï¼Œæ²¡æœ‰çœŸæ­£å†™ä¸šåŠ¡ä»£ç é‚£ç§åˆ›é€ çš„æˆå°±æ„Ÿã€‚å†™å‡ºæ¥ï¼ŒéªŒè¯ä¸å‡º bug å¾ˆå¤±è½ï¼Œç™½å†™äº†ï¼ŒéªŒè¯å‡º bug åˆæ„Ÿåˆ°è‡ªå·±æ˜¯åœ¨æ‰“è‡ªå·±è„¸ã€‚</p><h2 id="1-ä¸ºä»€ä¹ˆäººäººåˆå¿…é¡»å†™å•æµ‹"><a href="#1-ä¸ºä»€ä¹ˆäººäººåˆå¿…é¡»å†™å•æµ‹" class="headerlink" title="1. ä¸ºä»€ä¹ˆäººäººåˆå¿…é¡»å†™å•æµ‹"></a>1. ä¸ºä»€ä¹ˆäººäººåˆå¿…é¡»å†™å•æµ‹</h2><p>æ‰€ä»¥å¾—åˆ°çš„ç»“è®ºå°±æ˜¯ä¸å†™å•æµ‹ï¼Ÿé‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œ<strong>å‡ºæ¥æ··è¿Ÿæ—©æ˜¯è¦è¿˜çš„</strong>ï¼Œä¸Šçº¿å‡ºäº†é—®é¢˜ï¼Œæœ€ç»ˆè´£ä»»äººæ˜¯è°ï¼Ÿä¸æ˜¯æéœ€æ±‚çš„äº§å“ã€ä¸æ˜¯æ²¡å‘ç°é—®é¢˜çš„æµ‹è¯•åŒå­¦ï¼Œä»–ä»¬é¡¶å¤šå°±æ˜¯è¿å¸¦è´£ä»»ã€‚æœ€è¯¥è´Ÿè´£çš„è‚¯å®šæ˜¯å†™è¿™æ®µä»£ç çš„ä½ ã€‚ç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›ä»äº‹é‡‘èã€äº¤æ˜“ã€ç”µå•†ç­‰æ¯æ¯ç›¸å…³ä¸šåŠ¡çš„å¼€å‘äººå‘˜ï¼Œè·Ÿæ¯è¡Œä»£ç æ‰“äº¤é€šçš„éƒ½æ˜¯çœŸé‡‘ç™½é“¶ã€‚æ¯æ¬¡æ˜æ˜Ÿæäº‹ï¼Œå¾®åšå°±æŒ‚ï¼Œå·²ç»è¢«ä¼ ä¸ºç¬‘è°ˆï¼Œæ¯•ç«Ÿåªæ˜¯å¨±ä¹ç›¸å…³ï¼Œå¦‚æœæŒ‚çš„æ˜¯æ”¯ä»˜å®ã€å¾®ä¿¡ï¼Œé‚£ç”¨æˆ·å°±æ²¡æœ‰é‚£ä¹ˆå¤§çš„åŒ…å®¹åº¦äº†ã€‚è¿™äº›ä¸šåŠ¡å¦‚æœå‡ºç°ä¸¥é‡é—®é¢˜ï¼Œè½»åˆ™æ‰«åœ°å‡ºé—¨ï¼Œç„¶åæ•´ä¸ªèŒä¸šç”Ÿæ¶¯èƒŒè´Ÿè¿™ä¸ªæ±¡ç‚¹ï¼Œ<strong>é‡åˆ™ç›´æ¥ä»é¢å‘å¯¹è±¡å¼€å‘å˜æˆé¢å‘ç›‘ç‹±å¼€å‘</strong>ã€‚æ‰€ä»¥<strong>å•å…ƒæµ‹è¯•ä¿æŠ¤çš„ä¸ä»…ä»…æ˜¯ç¨‹åºï¼Œæ›´ä¿æŠ¤çš„æ˜¯å†™ç¨‹åºçš„ä½ </strong>ã€‚<br>æœ€åå¾—å‡ºäº†ä¸€ä¸ªæ— å¯å¥ˆä½•çš„ç»“è®ºï¼Œ<strong>å•æµ‹æ˜¯ä¸ªè®©äººåˆçˆ±åˆæ¨çš„ä¸œè¥¿ï¼Œæ˜¯ä¸æƒ³åšä½†åˆä¸å¾—ä¸åšçš„äº‹æƒ…</strong>ã€‚è™½ç„¶æˆ‘ä»¬æ²¡åŠæ³•æ”¹å˜è¦å†™å•æµ‹è¿™ä»¶äº‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜æ€ä¹ˆå»å†™å•å…ƒæµ‹è¯•è¿™ä»¶äº‹ã€‚</p><h2 id="2-SPOCK-å¯ä»¥å¸®ä½ æ”¹å–„å•æµ‹ä½“éªŒ"><a href="#2-SPOCK-å¯ä»¥å¸®ä½ æ”¹å–„å•æµ‹ä½“éªŒ" class="headerlink" title="2. SPOCK å¯ä»¥å¸®ä½ æ”¹å–„å•æµ‹ä½“éªŒ"></a>2. SPOCK å¯ä»¥å¸®ä½ æ”¹å–„å•æµ‹ä½“éªŒ</h2><p>å½“ç„¶ï¼Œæœ¬æ–‡ä¸æ˜¯æ•™ä½ ç”¨æ—é—¨å·¦é“çš„æ–¹æ³•æé«˜ä»£ç è¦†ç›–ç‡ã€‚è€Œæ˜¯é€šè¿‡ä¸€ä¸ªç¥å¥‡çš„æ¡†æ¶ spock å»æé«˜ä½ ç¼–å†™å•å…ƒæµ‹è¯•çš„æ•ˆç‡ã€‚spock è¿™åç§°æ¥æºï¼Œä¸ªäººçŒœæµ‹æ˜¯å› ä¸ºã€Šæ˜Ÿé™…è¿·èˆªã€‹çš„åŒåäººç‰©ï¼ˆå°é¢å›¾ï¼‰ã€‚é‚£ä¹ˆ spock æ˜¯å¦‚ä½•æé«˜ç¼–å†™å•æµ‹çš„æ•ˆç‡å‘¢ï¼Ÿæˆ‘è§‰å¾—æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š<br><strong>ç¬¬ä¸€ï¼Œä»–å¯ä»¥ç”¨æ›´å°‘çš„ä»£ç å»å®ç°å•å…ƒæµ‹è¯•</strong>ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨äºå»éªŒè¯ç»“æœè€Œä¸æ˜¯å†™å•æµ‹ä»£ç çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆä»–åˆæ˜¯å¦‚ä½•åšåˆ°å°‘å†™ä»£ç è¿™ä»¶äº‹å‘¢ï¼ŸåŸæ¥ä»–ä½¿ç”¨ä¸€ç§å«åš groovy çš„é­”æ³•ã€‚<br>groovy å…¶å®æ˜¯ä¸€é—¨åŸºäº jvm çš„åŠ¨æ€è¯­è¨€ã€‚å¯ä»¥ç®€å•çš„ç†è§£æˆè·‘åœ¨ jvm ä¸Šçš„ python æˆ– jsã€‚è¯´åˆ°è¿™é‡Œï¼Œå¯èƒ½æ²¡æœ‰æ¥è§¦è¿‡åŠ¨æ€è¯­è¨€çš„åŒå­¦ï¼Œå¯¹å®ƒä»¬éƒ½ä¼šæœ‰ä¸€ä¸ªæ¯”è¾ƒåˆ»æ¿çš„å°è±¡ï¼Œå¤ªè¿‡äºçµæ´»ï¼Œå¾ˆå®¹æ˜“å‡ºç°é—®é¢˜ï¼Œä¸”å¯ç»´æŠ¤æ€§å·®ï¼Œæ‰€ä»¥æœ‰äº†é‚£ä¸€å¥ã€åŠ¨æ€ä¸€æ—¶çˆ½ï¼Œå…¨å®¶ xxxã€çš„æ¢—ã€‚é¦–å…ˆï¼Œè¿™äº›çš„ç¡®æ˜¯ä»–çš„é—®é¢˜ï¼Œä¸¥æ ¼çš„è¯´æ˜¯ä½¿ç”¨ä¸å½“æ—¶æ‰å¸¦æ¥çš„é—®é¢˜ã€‚æ‰€ä»¥ä¸»è¦è¿˜æ˜¯çœ‹ä½¿ç”¨çš„äººã€‚æ¯”å¦‚å®‰å“é¢†åŸŸçš„å®˜æ–¹ä¾èµ–ç®¡ç†å·¥å…· gradle å°±æ˜¯åŸºäº groovy å¼€å‘çš„ã€‚<br>å¦å¤–ä¸è¦è¯¯ä»¥ä¸ºæˆ‘å­¦è¿™é—¨æ¡†æ¶ï¼Œè¿˜è¦å¤šå­¦ä¸€é—¨è¯­è¨€ï¼Œæˆæœ¬å¤ªå¤§ã€‚å…¶å®å¤§å¯ä¸å¿…æ‹…å¿ƒï¼Œä½ å¦‚æœä¼š groovy å½“ç„¶æ›´å¥½ï¼Œå¦‚æœä¸ä¼šä¹Ÿæ²¡æœ‰å…³ç³»ã€‚å› ä¸º groovy æ˜¯åŸºäº java çš„ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨ java çš„è¯­æ³•ï¼ŒæŸäº›è¦ç”¨åˆ°çš„ groovy ç‹¬æœ‰çš„è¯­æ³•å¾ˆå°‘ï¼Œè€Œä¸”åé¢éƒ½ä¼šå‘Šè¯‰ä½ ã€‚<br><strong>ç¬¬äºŒï¼Œä»–æœ‰æ›´å¥½çš„è¯­ä¹‰åŒ–ï¼Œè®©ä½ çš„å•æµ‹ä»£ç å¯è¯»æ€§æ›´é«˜ã€‚</strong><br>è¯­ä¹‰åŒ–è¿™ä¸ªè¯å¯èƒ½ä¸å¤ªå¥½ç†è§£ã€‚ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯´å§ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¯­ä¹‰åŒ–æ¯”è¾ƒå¥½çš„è¯­è¨€ â€“ HTMLã€‚ä»–çš„è¯­æ³•ç‰¹ç‚¹å°±æ˜¯æ ‡ç­¾ï¼Œä¸åŒçš„ç±»å‹æ”¾åœ¨ä¸åŒçš„æ ‡ç­¾é‡Œã€‚æ¯”å¦‚ head å°±æ˜¯å¤´éƒ¨çš„ä¿¡æ¯ï¼Œbody æ˜¯ä¸»ä½“å†…å®¹çš„ä¿¡æ¯ï¼Œtable å°±æ˜¯è¡¨æ ¼çš„ä¿¡æ¯ï¼Œå¯¹äºæ²¡æœ‰ç¼–ç¨‹ç»éªŒçš„äººæ¥è¯´ï¼Œä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“ç†è§£ã€‚ç¬¬äºŒä¸ªæ˜¯è¯­ä¹‰åŒ–æ¯”è¾ƒå·®çš„è¯­è¨€ â€“ æ­£åˆ™ã€‚ä»–å¯ä»¥è¯´åŸºæœ¬ä¸Šæ²¡æœ‰è¯­ä¹‰è¿™ç§ä¸œè¥¿ï¼Œç”±æ­¤å¯¼è‡´çš„ç›´æ¥é—®é¢˜å°±æ˜¯ï¼Œå³ä½¿æ˜¯ä½ è‡ªå·±çš„å†™çš„æ­£åˆ™ï¼Œå‡ å¤©ä¹‹åä½ éƒ½ä¸çŸ¥é“å½“æ—¶å†™çš„æ˜¯ä»€ä¹ˆã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ­£åˆ™ï¼Œä½ èƒ½çŒœå‡ºä»–æ˜¯ä»€ä¹ˆæ„æ€å—ï¼Ÿï¼ˆå¯ä»¥ç•™è¨€å›å¤ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.)&#123;3&#125;(?:25[0-5]|2[0-4]\d|[01]?\d?\d))</span><br></pre></td></tr></table></figure><h2 id="3-é¢†ç•¥-SPOCK-çš„é­”æ³•"><a href="#3-é¢†ç•¥-SPOCK-çš„é­”æ³•" class="headerlink" title="3. é¢†ç•¥ SPOCK çš„é­”æ³•"></a>3. é¢†ç•¥ SPOCK çš„é­”æ³•</h2><h3 id="3-1-å¼•å…¥ä¾èµ–"><a href="#3-1-å¼•å…¥ä¾èµ–" class="headerlink" title="3.1 å¼•å…¥ä¾èµ–"></a>3.1 å¼•å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¦‚æœæ²¡æœ‰ä½¿å¾— spring bootï¼Œä»¥ä¸‹åŒ…å¯ä»¥çœç•¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥spock æ ¸å¿ƒåŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.spockframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spock-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3-groovy-2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥spock ä¸ spring é›†æˆåŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.spockframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spock-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3-groovy-2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥ groovy ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.groovy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>groovy-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>#####</p><h5 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>æ³¨é‡Šå·²ç»æ ‡æ˜ï¼Œç¬¬ä¸€ä¸ªåŒ…æ˜¯ spring boot é¡¹ç›®éœ€è¦ä½¿ç”¨çš„ï¼Œå¦‚æœä½ åªæ˜¯æƒ³ä½¿ç”¨ spockï¼Œåªè¦æœ€ä¸‹é¢ 3 ä¸ªå³å¯ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªåŒ… Â <strong>spock-core</strong> æä¾›äº† spock çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œç¬¬äºŒä¸ªåŒ… Â <strong>spock-spring</strong> æä¾›äº†ä¸ spring çš„é›†æˆï¼ˆä¸ç”¨ spring çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä¸å¼•å…¥ï¼‰ã€‚ æ³¨æ„è¿™ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬å· -&gt; <strong>1.3-groovy-2.5</strong>ã€‚ç¬¬ä¸€ä¸ªç‰ˆæœ¬å· 1.3 å…¶å®ä»£è¡¨æ˜¯ spock çš„ç‰ˆæœ¬ï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬å·ä»£è¡¨çš„æ˜¯ spock æ‰€è¦ä¾èµ–çš„ groovy ç¯å¢ƒçš„ç‰ˆæœ¬ã€‚æœ€åä¸€ä¸ªåŒ…å°±æ˜¯æˆ‘ä»¬è¦ä¾èµ–çš„ groovy ã€‚</p><h3 id="3-2-å‡†å¤‡åŸºç¡€æµ‹è¯•ç±»"><a href="#3-2-å‡†å¤‡åŸºç¡€æµ‹è¯•ç±»" class="headerlink" title="3.2 å‡†å¤‡åŸºç¡€æµ‹è¯•ç±»"></a>3.2 å‡†å¤‡åŸºç¡€æµ‹è¯•ç±»</h3><h4 id="3-2-1-Calculator-java"><a href="#3-2-1-Calculator-java" class="headerlink" title="3.2.1Â Calculator.java"></a>3.2.1Â <strong>Calculator.java</strong></h4><p>**</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * *</span><br><span class="line"> *  * blog.coder4j.cn</span><br><span class="line"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">package cn.coder4j.study.example.spock;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @author buhao</span><br><span class="line"> * @version Calculator.java, v 0.1 2019-10-30 10:34 buhao</span><br><span class="line"> */</span><br><span class="line">public class Calculator &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * åŠ æ“ä½œ</span><br><span class="line">     *</span><br><span class="line">     * @param num1</span><br><span class="line">     * @param num2</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static int add(int num1, int num2) &#123;</span><br><span class="line">        return num1 + num2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æ•´å‹é™¤æ“ä½œ</span><br><span class="line">     *</span><br><span class="line">     * @param num1</span><br><span class="line">     * @param num2</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static int divideInt(int num1, int num2) &#123;</span><br><span class="line">        return num1 / num2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æµ®ç‚¹å‹æ“ä½œ</span><br><span class="line">     * @param num1</span><br><span class="line">     * @param num2</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static double divideDouble(double num1,  double num2)&#123;</span><br><span class="line">        return num1 / num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#####</p><h5 id="è¯´æ˜-1"><a href="#è¯´æ˜-1" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„è®¡ç®—å™¨ç±»ã€‚åªå†™äº†ä¸‰ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯åŠ æ³•çš„æ“ä½œã€ä¸€ä¸ªæ•´å‹çš„é™¤æ³•æ“ä½œã€ä¸€ä¸ªæµ®ç‚¹ç±»å‹çš„é™¤æ³•æ“ä½œã€‚</p><h3 id="3-3-å¼€å§‹å•æµ‹-Calculator-java"><a href="#3-3-å¼€å§‹å•æµ‹-Calculator-java" class="headerlink" title="3.3 å¼€å§‹å•æµ‹ Â Calculator**.java**"></a>3.3 å¼€å§‹å•æµ‹ Â <strong>Calculator**</strong>.java**</h3><h4 id="3-3-1-åˆ›å»ºå•æµ‹ç±»-CalculatorTest-groovy"><a href="#3-3-1-åˆ›å»ºå•æµ‹ç±»-CalculatorTest-groovy" class="headerlink" title="3.3.1 åˆ›å»ºå•æµ‹ç±» Â CalculatorTest.groovy"></a>3.3.1 åˆ›å»ºå•æµ‹ç±» Â CalculatorTest.groovy</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalculatorTest</span> <span class="keyword">extends</span>  <span class="title">Specification</span> &#123;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#####</p><h5 id="è¯´æ˜-2"><a href="#è¯´æ˜-2" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œä¹‹å‰æˆ‘ä»¬å·²ç»è¯´äº† spock æ˜¯åŸºäº groovy ã€‚æ‰€ä»¥å•æµ‹ç±»çš„åç¼€ä¸æ˜¯ .java è€Œ** .groovy<strong>ã€‚åƒä¸‡ä¸è¦åˆ›å»ºæˆæ™®é€š java ç±»äº†ã€‚å¦åˆ™åˆ›å»ºæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å†™ä¸€äº› groovy è¯­æ³•ä¼šæŠ¥é”™ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ IDEA å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼åˆ›å»ºï¼Œä»¥å‰åˆ›å»º Java ç±»æˆ‘ä»¬éƒ½æ˜¯é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œç°åœ¨æˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰ä¸ª **Groovy Class</strong> å°±å¯ä»¥äº†ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572754013592-b016e060-1811-497f-9f38-163cc96015ca.png#align=left&display=inline&height=226&name=image.png&originHeight=226&originWidth=1384&size=88592&status=done&width=1384" alt="image.png"><br>å¦å¤–å°±æ˜¯ spock çš„æµ‹è¯•ç±»éœ€è¦ç»§æ‰¿ Â **spock.lang.Specification **ç±»ã€‚</p><h4 id="3-3-2-éªŒè¯åŠ æ“ä½œ-expect"><a href="#3-3-2-éªŒè¯åŠ æ“ä½œ-expect" class="headerlink" title="3.3.2 éªŒè¯åŠ æ“ä½œ - expect"></a>3.3.2 éªŒè¯åŠ æ“ä½œ - expect</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(<span class="number">1</span>, <span class="number">1</span>) == <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#####</p><h5 id="è¯´æ˜-3"><a href="#è¯´æ˜-3" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p><strong>def</strong> æ˜¯ groovy çš„å…³é”®å­—ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰å˜é‡è·Ÿæ–¹æ³•åã€‚åé¢ <strong>â€œtest addâ€ **æ˜¯ä½ å•å…ƒæµ‹è¯•çš„åç§°ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸­æ–‡ã€‚æœ€åé‡ç‚¹è¯´æ˜çš„æ˜¯ Â **expect</strong> è¿™ä¸ªå…³é”®å­—ã€‚<br>expect å­—é¢ä¸Šçš„æ„æ€æ˜¯æœŸæœ›ï¼Œæˆ‘ä»¬æœŸæœ›ä»€ä¹ˆæ ·çš„äº‹æƒ…å‘ç”Ÿã€‚åœ¨ä½¿ç”¨å…¶å®ƒå•æµ‹æ¡†æ¶æ—¶ï¼Œä¸ä¹‹ç±»ä¼¼çš„æ˜¯ assert ã€‚æ¯”å¦‚ Â <em>Assert.assertEquals(_Calculator.add(_1 + 1ï¼‰, 2) <em>è¿™æ ·ï¼Œè¡¨ç¤ºæˆ‘ä»¬æ–­è¨€åŠ æ“ä½œä¼ å…¥ 1 ä¸ 1 ç›¸åŠ ç»“æœä¸º 2ã€‚å¦‚æœç»“æœæ˜¯è¿™æ ·åˆ™ç”¨ä¾‹é€šè¿‡ï¼Œå¦‚æœä¸æ˜¯åˆ™ç”¨ä¾‹å¤±è´¥ã€‚è¿™ä¸æˆ‘ä»¬ä¸Šé¢çš„ä»£ç åŠŸèƒ½ä¸Šå®Œæˆä¸€è‡´ã€‚<br>expect çš„è¯­æ³•æ„ä¹‰å°±æ˜¯åœ¨ expect çš„</em></em>å—<strong>å†…ï¼Œæ‰€æœ‰è¡¨è¾¾å¼æˆç«‹åˆ™éªŒè¯é€šè¿‡ï¼Œåä¹‹æœ‰ä»»ä¸€ä¸ªä¸æˆç«‹åˆ™éªŒè¯å¤±è´¥ã€‚è¿™é‡Œå¼•å…¥äº†ä¸€ä¸ª</strong>å—**çš„æ¦‚å¿µã€‚æ€ä¹ˆç†è§£ spock çš„å—å‘¢ï¼Ÿæˆ‘ä»¬ä¸Šé¢è¯´ spock æœ‰è‰¯å¥½çš„è¯­ä¹‰åŒ–åŠæ›´å¥½çš„é˜…è¯»æ€§å°±æ˜¯å› ä¸ºè¿™ä¸ªå—çš„ä½œç”¨ã€‚å¯ä»¥ç±»æ¯”æˆ html ä¸­çš„æ ‡ç­¾ã€‚html çš„æ ‡ç­¾çš„èŒƒå›´æ˜¯ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´ï¼Œè€Œ spock æ›´ç®€æ´ä¸€ç‚¹ï¼Œä»è¿™ä¸ªæ ‡ç­¾å¼€å§‹åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾å¼€å§‹æˆ–ä»£ç ç»“æŸçš„åœ°æ–¹ï¼Œå°±æ˜¯ä»–çš„èŒƒå›´ã€‚æˆ‘ä»¬åªè¦çœ‹åˆ° expectÂ  è¿™ä¸ªæ ‡ç­¾å°±æ˜ç™½ï¼Œä»–çš„èŒƒå›´å†…éƒ½æ˜¯æˆ‘ä»¬é¢„æœŸè¦å¾—åˆ°çš„ç»“æœã€‚</p><h4 id="3-3-3-éªŒè¯åŠ æ“ä½œ-given-and"><a href="#3-3-3-éªŒè¯åŠ æ“ä½œ-given-and" class="headerlink" title="3.3.3Â  éªŒè¯åŠ æ“ä½œ - given - and"></a>3.3.3Â  éªŒè¯åŠ æ“ä½œ - given - and</h4><p>è¿™é‡Œä»£ç æ¯”è¾ƒç®€å•ï¼Œå‚æ•°æˆ‘åªä½¿ç”¨äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥ç›´æ¥å†™æ­»ã€‚å¦‚æœæƒ³å¤ç”¨ï¼Œæˆ‘å°±å¾—æŠŠè¿™äº›å‚æ•°æŠ½æˆå˜é‡ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ spock çš„ <strong>given</strong> å—ã€‚given çš„è¯­æ³•æ„ä¹‰ç›¸å½“äºæ˜¯ä¸€ä¸ªåˆå§‹åŒ–çš„ä»£ç å—ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with given&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">given:</span></span><br><span class="line">    <span class="keyword">def</span> num1 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> num2 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> result = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ï¼Œä½†æ˜¯<strong>ä¸¥é‡ä¸æ¨è</strong>ï¼Œå› ä¸ºè™½ç„¶å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯<strong>ä¸ç¬¦åˆ spock çš„è¯­ä¹‰</strong>ã€‚å°±åƒæˆ‘ä»¬ä¸€èˆ¬æ˜¯åœ¨ head é‡Œé¢å¼•å…¥ jsã€cssï¼Œä½†æ˜¯ä½ åœ¨ body æˆ–è€…ä»»ä½•æ ‡ç­¾é‡Œéƒ½å¯ä»¥å¼•å…¥ï¼Œè¯­æ³•æ²¡æœ‰é—®é¢˜ä½†æ˜¯ç ´åäº†è¯­ä¹‰ï¼Œä¸ä¾¿ç†è§£ä¸ç»´æŠ¤ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">// åå€’</span></span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with given&quot;</span>()&#123;</span><br><span class="line">       <span class="symbol">expect:</span></span><br><span class="line">       <span class="keyword">def</span> num1 = <span class="number">1</span></span><br><span class="line">       <span class="keyword">def</span> num2 = <span class="number">1</span></span><br><span class="line">       <span class="keyword">def</span> result = <span class="number">2</span></span><br><span class="line">       Calculator.add(num1, num2) == result</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¿˜æƒ³è®©è¯­ä¹‰æ›´å¥½ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°ä¸ç»“æœåˆ†å¼€å®šä¹‰ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ <strong>and</strong> å—ã€‚å®ƒçš„è¯­æ³•åŠŸèƒ½å¯ä»¥ç†è§£æˆåŒä»–ä¸Šé¢æœ€è¿‘çš„ä¸€ä¸ªæ ‡ç­¾ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with given and&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">given:</span></span><br><span class="line">    <span class="keyword">def</span> num1 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> num2 = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="symbol">and:</span></span><br><span class="line">    <span class="keyword">def</span> result = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>####</p><h4 id="3-3-4-éªŒè¯åŠ æ“ä½œ-expect-where"><a href="#3-3-4-éªŒè¯åŠ æ“ä½œ-expect-where" class="headerlink" title="3.3.4 éªŒè¯åŠ æ“ä½œ - expect - where"></a>3.3.4 éªŒè¯åŠ æ“ä½œ - expect - where</h4><p>çœ‹äº†ä¸Šé¢ä¾‹å­ï¼Œå¯èƒ½è§‰å¾— spock åªæ˜¯è¯­ä¹‰æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯æ²¡æœ‰å°‘å†™å‡ è¡Œä»£ç å‘€ã€‚åˆ«æ€¥ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ spock çš„ä¸€å¤§æ€å™¨ <strong>where</strong>ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with expect where&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line"></span><br><span class="line">    <span class="symbol">where:</span></span><br><span class="line">    num1    |   num2    |   result</span><br><span class="line">    <span class="number">1</span>       |   <span class="number">1</span>       |   <span class="number">2</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">2</span>       |   <span class="number">3</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">3</span>       |   <span class="number">4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>where å—å¯ä»¥ç†è§£æˆå‡†å¤‡æµ‹è¯•æ•°æ®çš„åœ°æ–¹</strong>ï¼Œä»–å¯ä»¥è·Ÿ expect ç»„åˆä½¿ç”¨ã€‚ä¸Šé¢ä»£ç é‡Œ expect å—é‡Œé¢å®šä¹‰äº†ä¸‰ä¸ªå˜é‡ num1ã€num2ã€resultã€‚è¿™äº›æ•°æ®æˆ‘ä»¬å¯ä»¥åœ¨ where å—é‡Œå®šä¹‰ã€‚where å—ä½¿ç”¨äº†ä¸€ç§å¾ˆåƒ markdown ä¸­è¡¨æ ¼çš„å®šä¹‰æ–¹æ³•ã€‚ç¬¬ä¸€è¡Œæˆ–è€…è¯´è¡¨å¤´ï¼Œåˆ—å‡ºäº†æˆ‘ä»¬è¦ä¼ æ•°æ®çš„å˜é‡åç§°ï¼Œè¿™é‡Œè¦<strong>ä¸ expect ä¸­å¯¹åº”</strong>ï¼Œä¸èƒ½å°‘ä½†æ˜¯å¯ä»¥å¤šã€‚å…¶å®ƒè¡Œéƒ½æ˜¯æ•°æ®è¡Œï¼Œä¸è¡¨å¤´ä¸€æ ·éƒ½æ˜¯é€šè¿‡ ã€ | ã€ å·åˆ†éš”ã€‚é€šè¿‡è¿™æ ·ï¼Œspock å°±ä¼šè·‘ 3 æ¬¡ç”¨ä¾‹ï¼Œåˆ†åˆ«æ˜¯ 1 + 2 = 2ã€1 + 2 = 3ã€1 + 3 = 4 è¿™äº›ç”¨ä¾‹ã€‚æ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œåé¢å†æ‰©å……ç”¨ä¾‹åªè¦å†åŠ ä¸€è¡Œæ•°æ®å°±å¯ä»¥äº†ã€‚</p><h4 id="3-3-5-éªŒè¯åŠ æ“ä½œ-expect-where-Unroll"><a href="#3-3-5-éªŒè¯åŠ æ“ä½œ-expect-where-Unroll" class="headerlink" title="3.3.5Â  éªŒè¯åŠ æ“ä½œ - expect - where - @Unroll"></a>3.3.5Â  éªŒè¯åŠ æ“ä½œ - expect - where - @Unroll</h4><p>ä¸Šé¢è¿™äº›ç”¨ä¾‹éƒ½æ˜¯æ­£å¸¸å¯ä»¥è·‘é€šçš„ï¼Œå¦‚æœæ˜¯ IDEA è·‘å®Œä¹‹åä¼šå¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572768324618-0f7dba74-138d-43b9-a8c4-e8c5af4cbc7b.png#align=left&display=inline&height=312&name=image.png&originHeight=312&originWidth=616&size=33068&status=done&width=616" alt="image.png"><br>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬çœ‹çœ‹å¦‚æœæœ‰ç”¨ä¾‹ä¸é€šè¿‡ä¼šæ€ä¹ˆæ ·ï¼ŒæŠŠä¸Šé¢ä»£ç çš„æœ€åä¸€ä¸ª 4 æ”¹æˆ 5</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with expect where&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line"></span><br><span class="line">    <span class="symbol">where:</span></span><br><span class="line">    num1    |   num2    |   result</span><br><span class="line">    <span class="number">1</span>       |   <span class="number">1</span>       |   <span class="number">2</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">2</span>       |   <span class="number">3</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">3</span>       |   <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†è·‘ä¸€æ¬¡ï¼ŒIDEA ä¼šå‡ºç°å¦‚ä¸‹æ˜¾ç¤º<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572768428913-cdbbf710-0561-4204-bf39-77ffbdaf838f.png#align=left&display=inline&height=700&name=image.png&originHeight=700&originWidth=2226&size=153623&status=done&width=2226" alt="image.png"><br>å·¦è¾¹æ ‡æ³¨å‡ºæ¥çš„æ˜¯ç”¨ä¾‹æ‰§è¡Œç»“æœï¼Œå¯ä»¥çœ‹å‡ºæ¥è™½ç„¶æœ‰ 3 æ¡æ•°æ®ï¼Œå…¶ä¸­ 2 æ¡æ•°æ®æ˜¯æˆåŠŸï¼Œä½†æ˜¯åªä¼šæ˜¾ç¤ºæ•´ä½“çš„æˆåŠŸä¸å¦ï¼Œæ‰€ä»¥æ˜¾ç¤ºæœªé€šè¿‡ã€‚ä½†æ˜¯ 3 æ¡æ•°æ®ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“å“ªæ¡æ²¡é€šè¿‡å‘¢ï¼Ÿ<br>å³è¾¹æ ‡æ³¨å‡ºæ¥çš„æ˜¯ spock æ‰“å°çš„çš„é”™è¯¯æ—¥å¿—ã€‚å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œåœ¨ num1 ä¸º 1ï¼Œnum2 ä¸º 3ï¼Œresult ä¸º 5 å¹¶ä¸” ä»–ä»¬ä¹‹é—´çš„åˆ¤æ–­å…³ç³»ä¸º == çš„ç»“æœæ˜¯ false æ‰æ˜¯æ­£ç¡®çš„ã€‚ spock çš„è¿™ä¸ªæ—¥å¿—æ‰“å°çš„æ˜¯ç›¸å½“å†å®³ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œè¿˜ä¼šè®¡ç®—å¼‚å¸¸å­—ç¬¦ä¸²ä¸æ­£ç¡®å­—ç¬¦ä¸²ä¹‹é—´çš„åŒ¹é…åº¦ï¼Œæœ‰å…´è¶£çš„åŒå­¦ï¼Œå¯ä»¥è‡ªè¡Œæµ‹è¯•ã€‚<br>å—¯ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡æ—¥å¿—çŸ¥é“å“ªä¸ªç”¨ä¾‹æ²¡é€šè¿‡ï¼Œä½†æ˜¯è¿˜æ˜¯è§‰å¾—æœ‰ç‚¹éº»çƒ¦ã€‚spock ä¹ŸçŸ¥é“è¿™ä¸€ç‚¹ã€‚æ‰€ä»¥ä»–è¿˜åŒæ—¶æä¾›äº†ä¸€ä¸ª** @Unroll **æ³¨è§£ã€‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç ä¸Šå†åŠ ä¸Šè¿™ä¸ªæ³¨è§£ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Unroll</span></span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with expect where unroll&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line"></span><br><span class="line">    <span class="symbol">where:</span></span><br><span class="line">    num1    |   num2    |   result</span><br><span class="line">    <span class="number">1</span>       |   <span class="number">1</span>       |   <span class="number">2</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">2</span>       |   <span class="number">3</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">3</span>       |   <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼šÂ <img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572769065408-cb11433d-e02c-4943-ad4f-b2b11f8da82f.png#align=left&display=inline&height=584&name=image.png&originHeight=584&originWidth=1794&size=132542&status=done&width=1794" alt="image.png"><br>é€šè¿‡æ·»åŠ ** @Unroll** æ³¨è§£ï¼Œspock è‡ªåŠ¨æŠŠä¸Šé¢çš„ä»£ç æ‹†åˆ†æˆäº† 3 ä¸ªç‹¬ç«‹çš„å•æµ‹æµ‹è¯•ï¼Œåˆ†åˆ«è¿è¡Œï¼Œè¿è¡Œç»“æœæ›´æ¸…æ™°äº†ã€‚<br>é‚£ä¹ˆè¿˜èƒ½æ›´æ¸…æ™°å—ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œæˆ‘ä»¬å‘ç° spock æ‹†åˆ†åï¼Œæ¯ä¸ªç”¨ä¾‹çš„åç§°å…¶å®éƒ½æ˜¯ä½ å†™çš„å•æµ‹æ–¹æ³•çš„åç§°ï¼Œç„¶ååé¢åŠ ä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ï¼Œä¸æ˜¯å¾ˆç›´è§‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ groovy çš„å­—ç¬¦ä¸²è¯­æ³•ï¼ŒæŠŠå˜é‡æ”¾å…¥ç”¨ä¾‹åç§°ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Unroll</span></span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with expect where unroll by #num1 + #num2 = #result&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line"></span><br><span class="line">    <span class="symbol">where:</span></span><br><span class="line">    num1    |   num2    |   result</span><br><span class="line">    <span class="number">1</span>       |   <span class="number">1</span>       |   <span class="number">2</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">2</span>       |   <span class="number">3</span></span><br><span class="line">    <span class="number">1</span>       |   <span class="number">3</span>       |   <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œæˆ‘ä»¬åœ¨æ–¹æ³•åååŠ äº†ä¸€å¥ Â <strong>#num1 + #num2 = #result</strong>ã€‚è¿™é‡Œæœ‰ç‚¹ç±»ä¼¼æˆ‘ä»¬åœ¨ mybatis æˆ–è€…ä¸€äº›æ¨¡æ¿å¼•æ“ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚# å·æ‹¼æ¥å£°æ˜çš„å˜é‡å°±å¯ä»¥äº†ï¼Œæ‰§è¡Œåç»“æœå¦‚ä¸‹ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572769683455-e6523c1c-3ca3-48c3-91c3-1390af47ea8c.png#align=left&display=inline&height=272&name=image.png&originHeight=272&originWidth=924&size=60232&status=done&width=924" alt="image.png"><br>è¿™ä¸‹æ›´æ¸…æ™°äº†ã€‚<br>å¦å¤–ä¸€ç‚¹ï¼Œå°±æ˜¯ where é»˜è®¤ä½¿ç”¨çš„æ˜¯è¡¨æ ¼çš„è¿™ç§å½¢å¼ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">where:</span></span><br><span class="line">num1    |   num2    |   result</span><br><span class="line"><span class="number">1</span>       |   <span class="number">1</span>       |   <span class="number">2</span></span><br><span class="line"><span class="number">1</span>       |   <span class="number">2</span>       |   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>       |   <span class="number">3</span>       |   <span class="number">5</span></span><br></pre></td></tr></table></figure><p>å¾ˆç›´è§‚ï¼Œä½†æ˜¯è¿™ç§å½¢å¼æœ‰ä¸€ä¸ªå¼Šç«¯ã€‚ä¸Šé¢ ã€ | ã€ å·å¯¹çš„è¿™ä¹ˆæ•´é½ã€‚éƒ½æ˜¯æˆ‘ä¸€ä¸ªç©ºæ ¼ä¸€ä¸ª TAG æŒ‰å‡ºæ¥çš„ã€‚è™½ç„¶è¯­æ³•ä¸è¦æ±‚å¯¹é½ï¼Œä½†æ˜¯é€¼æ­»å¼ºè¿«ç—‡ã€‚ä¸è¿‡ï¼Œå¥½åœ¨è¿˜å¯ä»¥æœ‰å¦ä¸€ç§å½¢å¼ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Unroll</span></span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test add with expect where unroll arr by #num1 + #num2 = #result&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Calculator.add(num1, num2) == result</span><br><span class="line"></span><br><span class="line">    <span class="symbol">where:</span></span><br><span class="line">    num1 &lt;&lt; [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">    num2 &lt;&lt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">    result &lt;&lt; [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ ã€&lt;&lt;ã€ ç¬¦ï¼ˆæ³¨æ„æ–¹å‘ï¼‰ï¼ŒæŠŠä¸€ä¸ªæ•°ç»„èµ‹ç»™å˜é‡ï¼Œç­‰åŒäºä¸Šé¢çš„æ•°æ®è¡¨æ ¼ï¼Œæ²¡æœ‰è¡¨æ ¼ç›´è§‚ï¼Œä½†æ˜¯æ¯”è¾ƒç®€æ´ä¹Ÿä¸ç”¨è€ƒè™‘å¯¹é½é—®é¢˜ï¼Œè¿™ä¸¤ç§å½¢å¼çœ‹ä¸ªäººå–œå¥½äº†ã€‚</p><h4 id="3-3-6-éªŒè¯æ•´æ•°é™¤æ“ä½œ-when-then"><a href="#3-3-6-éªŒè¯æ•´æ•°é™¤æ“ä½œ-when-then" class="headerlink" title="3.3.6 éªŒè¯æ•´æ•°é™¤æ“ä½œ - when - then"></a>3.3.6 éªŒè¯æ•´æ•°é™¤æ“ä½œ - when - then</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“ä¸€ä¸ªæ•´æ•°é™¤ä»¥ 0 ä¼šæœ‰æŠ›å‡ºä¸€ä¸ªã€/ by zeroã€å¼‚å¸¸ï¼Œé‚£ä¹ˆå¦‚æœæ–­è¨€è¿™ä¸ªå¼‚å¸¸å‘¢ã€‚ç”¨ä¸Šé¢ expect ä¸å¤ªå¥½æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªç±»ä¼¼çš„å—** when â€¦ then**ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Unroll</span></span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test int divide zero exception&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    Calculator.divideInt(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    <span class="keyword">def</span> ex = thrown(ArithmeticException)</span><br><span class="line">    ex.message == <span class="string">&quot;/ by zero&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>**when â€¦ then **é€šå¸¸æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œå®ƒä»£è¡¨ç€å½“æ‰§è¡Œäº† when å—ä¸­çš„æ“ä½œï¼Œä¼šå‡ºç° then å—ä¸­çš„æœŸæœ›ã€‚æ¯”å¦‚ä¸Šé¢çš„ä»£ç è¯´æ˜äº†ï¼Œå½“æ‰§è¡Œäº† Â <em>Calculator.divideInt(1, 0) *çš„æ“ä½œï¼Œå°±ä¸€å®šä¼šæŠ›å‡º Â *ArithmeticException</em> å¼‚å¸¸ï¼Œå¹¶ä¸”å¼‚å¸¸ä¿¡æ¯æ˜¯ Â <em>/ by zero</em>ã€‚</p><h3 id="3-4-å‡†å¤‡-Spring-æµ‹è¯•ç±»"><a href="#3-4-å‡†å¤‡-Spring-æµ‹è¯•ç±»" class="headerlink" title="3.4 å‡†å¤‡ Spring æµ‹è¯•ç±»"></a>3.4 å‡†å¤‡ Spring æµ‹è¯•ç±»</h3><p>ä¸Šé¢æˆ‘ä»¬å·²ç»å­¦ä¼šäº† spock çš„åŸºç¡€ç”¨æ³•ï¼Œä¸‹é¢æˆ‘ä»¬å°†å­¦ä¹ ä¸ spring æ•´åˆçš„çŸ¥è¯†ï¼Œé¦–å…ˆåˆ›å»ºå‡ ä¸ªç”¨äºæµ‹è¯•çš„ demo ç±»</p><h4 id="3-4-1-User-java"><a href="#3-4-1-User-java" class="headerlink" title="3.4.1 User.java"></a>3.4.1 User.java</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author buhao</span></span><br><span class="line"><span class="comment"> * @version User.java, v 0.1 2019-10-30 16:23 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String passwd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User(String name, Integer age, String passwd) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.passwd = passwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;passwd&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @return property value of passwd</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String getPasswd() &#123;</span><br><span class="line">        <span class="keyword">return</span> passwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;passwd&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param passwd value to be assigned to property passwd</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> setPasswd(String passwd) &#123;</span><br><span class="line">        <span class="built_in">this</span>.passwd = passwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @return property value of name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param name value to be assigned to property name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> setName(String name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @return property value of age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Integer getAge() &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param age value to be assigned to property age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> setAge(Integer age) &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">boolean</span> equals(Object o) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        User user = (User) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(name, user.name) &amp;&amp;</span><br><span class="line">                Objects.equals(age, user.age) &amp;&amp;</span><br><span class="line">                Objects.equals(passwd, user.passwd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> hashCode() &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age, passwd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>####</p><h4 id="3-4-2-UserDao-java"><a href="#3-4-2-UserDao-java" class="headerlink" title="3.4.2 UserDao.java"></a>3.4.2 UserDao.java</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.model.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author buhao</span></span><br><span class="line"><span class="comment"> * @version UserDao.java, v 0.1 2019-10-30 16:24 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDao</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¨¡æ‹Ÿæ•°æ®åº“</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, User&gt; userMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        userMap.put(<span class="string">&quot;k&quot;</span>,<span class="keyword">new</span> User(<span class="string">&quot;k&quot;</span>, <span class="number">1</span>, <span class="string">&quot;123&quot;</span>));</span><br><span class="line">        userMap.put(<span class="string">&quot;i&quot;</span>,<span class="keyword">new</span> User(<span class="string">&quot;i&quot;</span>, <span class="number">2</span>, <span class="string">&quot;456&quot;</span>));</span><br><span class="line">        userMap.put(<span class="string">&quot;w&quot;</span>,<span class="keyword">new</span> User(<span class="string">&quot;w&quot;</span>, <span class="number">3</span>, <span class="string">&quot;789&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     * @param name</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> User findByName(String name)&#123;</span><br><span class="line">        <span class="keyword">return</span> userMap.get(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>####</p><h4 id="3-4-3-UserService-java"><a href="#3-4-3-UserService-java" class="headerlink" title="3.4.3 UserService.java"></a>3.4.3 UserService.java</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.model.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author buhao</span></span><br><span class="line"><span class="comment"> * @version UserService.java, v 0.1 2019-10-30 16:29 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User findByName(String name)&#123;</span><br><span class="line">        <span class="keyword">return</span> userDao.findByName(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> loginAfter()&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç™»å½•æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> login(String name, String passwd)&#123;</span><br><span class="line">        User user = findByName(name);</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(name + <span class="string">&quot;ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!user.getPasswd().equals(passwd))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(name + <span class="string">&quot;å¯†ç è¾“å…¥é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        loginAfter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>####</p><h4 id="3-4-3-Application-java"><a href="#3-4-3-Application-java" class="headerlink" title="3.4.3 Application.java"></a>3.4.3 Application.java</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(Application.<span class="keyword">class</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>###</p><h3 id="3-5-ä¸-spring-é›†æˆæµ‹è¯•"><a href="#3-5-ä¸-spring-é›†æˆæµ‹è¯•" class="headerlink" title="3.5 ä¸ spring é›†æˆæµ‹è¯•"></a>3.5 ä¸ spring é›†æˆæµ‹è¯•</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock.service</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.model.User</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest</span><br><span class="line"><span class="keyword">import</span> spock.lang.Specification</span><br><span class="line"><span class="keyword">import</span> spock.lang.Unroll</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserServiceFunctionTest</span> <span class="keyword">extends</span> <span class="title">Specification</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    UserService userService</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Unroll</span></span><br><span class="line">    <span class="keyword">def</span> <span class="string">&quot;test findByName with input #name return #result&quot;</span>() &#123;</span><br><span class="line">        <span class="symbol">expect:</span></span><br><span class="line">        userService.findByName(name) == result</span><br><span class="line"></span><br><span class="line">        <span class="symbol">where:</span></span><br><span class="line">        name &lt;&lt; [<span class="string">&quot;k&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot;kk&quot;</span>]</span><br><span class="line">        result &lt;&lt; [<span class="keyword">new</span> User(<span class="string">&quot;k&quot;</span>, <span class="number">1</span>, <span class="string">&quot;123&quot;</span>), <span class="keyword">new</span> User(<span class="string">&quot;i&quot;</span>, <span class="number">2</span>, <span class="string">&quot;456&quot;</span>), <span class="literal">null</span>]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Unroll</span></span><br><span class="line">    <span class="keyword">def</span> <span class="string">&quot;test login with input #name and #passwd throw #errMsg&quot;</span>() &#123;</span><br><span class="line">        <span class="symbol">when:</span></span><br><span class="line">        userService.login(name, passwd)</span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        <span class="keyword">def</span> e = thrown(Exception)</span><br><span class="line">        e.message == errMsg</span><br><span class="line"></span><br><span class="line">        <span class="symbol">where:</span></span><br><span class="line">        name    |   passwd  |   errMsg</span><br><span class="line">        <span class="string">&quot;kd&quot;</span>     |   <span class="string">&quot;1&quot;</span>     |   <span class="string">&quot;$&#123;name&#125;ä¸å­˜åœ¨&quot;</span></span><br><span class="line">        <span class="string">&quot;k&quot;</span>     |   <span class="string">&quot;1&quot;</span>     |   <span class="string">&quot;$&#123;name&#125;å¯†ç è¾“å…¥é”™è¯¯&quot;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>spock ä¸ spring é›†æˆç‰¹åˆ«çš„ç®€å•ï¼Œåªè¦ä½ åŠ å…¥äº†å¼€å¤´æ‰€è¯´çš„ Â <strong>spock-spring</strong> å’Œ Â <strong>spring-boot-starter-test</strong>ã€‚å†äºæµ‹è¯•ä»£ç çš„ç±»ä¸ŠåŠ ä¸Š Â <strong>@SpringBootTest</strong>Â  æ³¨è§£å°±å¯ä»¥äº†ã€‚æƒ³ç”¨çš„ç±»ç›´æ¥æ³¨å…¥è¿›æ¥å°±å¯ä»¥äº†ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯è¿™é‡Œåªèƒ½ç®—åŠŸèƒ½æµ‹è¯•æˆ–é›†æˆæµ‹è¯•ï¼Œå› ä¸ºåœ¨è·‘ç”¨ä¾‹æ—¶æ˜¯ä¼šå¯åŠ¨ spring å®¹å™¨çš„ï¼Œå¤–éƒ¨ä¾èµ–ä¹Ÿå¿…é¡»æœ‰ã€‚å¾ˆè€—æ—¶ï¼Œè€Œä¸”æœ‰æ—¶å€™å¤–éƒ¨ä¾èµ–æœ¬åœ°ä¹Ÿè·‘ä¸äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½æ˜¯é€šè¿‡ mock æ¥å®Œæˆå•å…ƒæµ‹è¯•ã€‚</p><h3 id="3-6-ä¸-spring-mock-æµ‹è¯•"><a href="#3-6-ä¸-spring-mock-æµ‹è¯•" class="headerlink" title="3.6 ä¸ spring mock æµ‹è¯•"></a>3.6 ä¸ spring mock æµ‹è¯•</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.spock.service</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.dao.UserDao</span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.spock.model.User</span><br><span class="line"><span class="keyword">import</span> spock.lang.Specification</span><br><span class="line"><span class="keyword">import</span> spock.lang.Unroll</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserServiceUnitTest</span> <span class="keyword">extends</span> <span class="title">Specification</span>  &#123;</span></span><br><span class="line"></span><br><span class="line">    UserService userService = <span class="keyword">new</span> UserService()</span><br><span class="line">    UserDao userDao = Mock(UserDao)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> setup()&#123;</span><br><span class="line">        userService.userDao = userDao</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="string">&quot;test login with success&quot;</span>()&#123;</span><br><span class="line"></span><br><span class="line">        <span class="symbol">when:</span></span><br><span class="line">        userService.login(<span class="string">&quot;k&quot;</span>, <span class="string">&quot;p&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        <span class="number">1</span> * userDao.findByName(<span class="string">&quot;k&quot;</span>) &gt;&gt; <span class="keyword">new</span> User(<span class="string">&quot;k&quot;</span>, <span class="number">12</span>,<span class="string">&quot;p&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="string">&quot;test login with error&quot;</span>()&#123;</span><br><span class="line">        <span class="symbol">given:</span></span><br><span class="line">        <span class="keyword">def</span> name = <span class="string">&quot;k&quot;</span></span><br><span class="line">        <span class="keyword">def</span> passwd = <span class="string">&quot;p&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="symbol">when:</span></span><br><span class="line">        userService.login(name, passwd)</span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        <span class="number">1</span> * userDao.findByName(name) &gt;&gt; <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        <span class="keyword">def</span> e = thrown(RuntimeException)</span><br><span class="line">        e.message == <span class="string">&quot;$&#123;name&#125;ä¸å­˜åœ¨&quot;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Unroll</span></span><br><span class="line">    <span class="keyword">def</span> <span class="string">&quot;test login with &quot;</span>()&#123;</span><br><span class="line">        <span class="symbol">when:</span></span><br><span class="line">        userService.login(name, passwd)</span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        userDao.findByName(<span class="string">&quot;k&quot;</span>) &gt;&gt; <span class="literal">null</span></span><br><span class="line">        userDao.findByName(<span class="string">&quot;k1&quot;</span>) &gt;&gt; <span class="keyword">new</span> User(<span class="string">&quot;k1&quot;</span>, <span class="number">12</span>, <span class="string">&quot;p&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="symbol">then:</span></span><br><span class="line">        <span class="keyword">def</span> e = thrown(RuntimeException)</span><br><span class="line">        e.message == errMsg</span><br><span class="line"></span><br><span class="line">        <span class="symbol">where:</span></span><br><span class="line">        name        |   passwd  |   errMsg</span><br><span class="line">        <span class="string">&quot;k&quot;</span>         |   <span class="string">&quot;k&quot;</span>     |   <span class="string">&quot;$&#123;name&#125;ä¸å­˜åœ¨&quot;</span></span><br><span class="line">        <span class="string">&quot;k1&quot;</span>        |   <span class="string">&quot;p1&quot;</span>     |   <span class="string">&quot;$&#123;name&#125;å¯†ç è¾“å…¥é”™è¯¯&quot;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>spock ä½¿ç”¨ mock ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥ä½¿ç”¨ <strong>Mock(ç±»)</strong> å°±å¯ä»¥äº†ã€‚å¦‚ä¸Šä»£ç  Â <em>UserDao userDao = Mock(UserDao) ã€‚</em>ä¸Šé¢å†™çš„ä¾‹å­ä¸­æœ‰å‡ ç‚¹è¦è¯´æ˜ä¸€ä¸‹ï¼Œä»¥å¦‚ä¸‹è¿™ä¸ªæ–¹æ³•ä¸ºä¾‹ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test login with error&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">given:</span></span><br><span class="line">    <span class="keyword">def</span> name = <span class="string">&quot;k&quot;</span></span><br><span class="line">    <span class="keyword">def</span> passwd = <span class="string">&quot;p&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    userService.login(name, passwd)</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    <span class="number">1</span> * userDao.findByName(name) &gt;&gt; <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    <span class="keyword">def</span> e = thrown(RuntimeException)</span><br><span class="line">    e.message == <span class="string">&quot;$&#123;name&#125;ä¸å­˜åœ¨&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>givenã€whenã€then ä¸ç”¨è¯´äº†ï¼Œå¤§å®¶å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ª then é‡Œé¢çš„ <strong><em>1 \</em> userDao.findByName(name) &gt;&gt; null*Â *<em>æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ<br>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“çš„æ˜¯ï¼Œä¸€ä¸ªç”¨ä¾‹ä¸­å¯ä»¥æœ‰å¤šä¸ª then å—ï¼Œå¯¹äºå¤šä¸ªæœŸæœ›å¯ä»¥åˆ†åˆ«æ”¾åœ¨å¤šä¸ª then ä¸­ã€‚<br>ç¬¬äºŒï¼ŒÂ **1 \</em> xxÂ *<em>è¡¨ç¤º æœŸæœ› xx æ“ä½œæ‰§è¡Œäº† 1 æ¬¡ã€‚_1 \</em> userDao.findByName(name)<em>*</em> **å°±è¡¨ç°å½“æ‰§è¡Œ Â <em>userService.login(name, passwd) æ—¶æˆ‘æœŸæœ›æ‰§è¡Œ 1 æ¬¡ Â userDao.findByName(name) <em>æ–¹æ³•ã€‚å¦‚æœæœŸæœ›ä¸æ‰§è¡Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯_0 _ xx</em>ï¼Œè¿™åœ¨æ¡ä»¶ä»£ç çš„éªŒè¯ä¸­å¾ˆæœ‰ç”¨ï¼Œç„¶å <em>&gt;&gt; null</em> åˆæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿä»–ä»£è¡¨å½“æ‰§è¡Œäº† Â _userDao.findByName(name) æ–¹æ³•åï¼Œæˆ‘è®©ä»–ç»“æœè¿”å› null</em>ã€‚å› ä¸º userDao è¿™ä¸ªå¯¹è±¡æ˜¯æˆ‘ä»¬ mock å‡ºæ¥çš„ï¼Œä»–å°±æ˜¯ä¸€ä¸ªå‡å¯¹è±¡ï¼Œä¸ºäº†è®©åç»­æµç¨‹æŒ‰æˆ‘ä»¬çš„æƒ³æ³•è¿›è¡Œï¼Œæˆ‘å¯ä»¥é€šè¿‡ã€ &gt;&gt;ã€ è®© spock æ¨¡æ‹Ÿè¿”å›æŒ‡å®šæ•°æ®ã€‚<br>ç¬¬ä¸‰ï¼Œè¦æ³¨æ„ç¬¬äºŒä¸ª then ä»£ç å—ä½¿ç”¨</strong> ${name} <strong>å¼•ç”¨å˜é‡ï¼Œè·Ÿæ ‡é¢˜çš„</strong> #name** æ˜¯ä¸åŒçš„ã€‚</p><h3 id="3-7-å…¶å®ƒå†…å®¹"><a href="#3-7-å…¶å®ƒå†…å®¹" class="headerlink" title="3.7 å…¶å®ƒå†…å®¹"></a>3.7 å…¶å®ƒå†…å®¹</h3><h4 id="3-7-1-å…¬å…±æ–¹æ³•"><a href="#3-7-1-å…¬å…±æ–¹æ³•" class="headerlink" title="3.7.1 å…¬å…±æ–¹æ³•"></a>3.7.1 å…¬å…±æ–¹æ³•</h4><table><thead><tr><th align="center"><strong>æ–¹æ³•å</strong></th><th align="center"><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td align="center">setup()</td><td align="center">æ¯ä¸ªæ–¹æ³•æ‰§è¡Œå‰è°ƒç”¨</td></tr><tr><td align="center">cleanup()</td><td align="center">æ¯ä¸ªæ–¹æ³•æ‰§è¡Œåè°ƒç”¨</td></tr><tr><td align="center">setupSpec()</td><td align="center">æ¯ä¸ªæ–¹æ³•ç±»åŠ è½½å‰è°ƒç”¨ä¸€æ¬¡</td></tr><tr><td align="center">cleanupSpec()</td><td align="center">æ¯ä¸ªæ–¹æ³•ç±»æ‰§è¡Œå®Œè°ƒç”¨ä¸€æ¬¡</td></tr></tbody></table><p>è¿™äº›æ–¹æ³•é€šå¸¸ç”¨äºæµ‹è¯•å¼€å§‹å‰çš„ä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œå’Œæµ‹è¯•å®Œæˆåçš„æ¸…ç†æ“ä½œï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> setup() &#123;</span><br><span class="line">    println <span class="string">&quot;æ–¹æ³•å¼€å§‹å‰åˆå§‹åŒ–&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> cleanup() &#123;</span><br><span class="line">    println <span class="string">&quot;æ–¹æ³•æ‰§è¡Œå®Œæ¸…ç†&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> setupSpec() &#123;</span><br><span class="line">    println <span class="string">&quot;ç±»åŠ è½½å‰å¼€å§‹å‰åˆå§‹åŒ–&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> cleanupSpec() &#123;</span><br><span class="line">    println <span class="string">&quot;æ‰€ä»¥æ–¹æ³•æ‰§è¡Œå®Œæ¸…ç†&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-7-2-Timeout"><a href="#3-7-2-Timeout" class="headerlink" title="3.7.2 @Timeout"></a>3.7.2 @Timeout</h4><p>å¯¹äºæŸäº›æ–¹æ³•ï¼Œéœ€è¦è§„å®šä»–çš„æ—¶é—´ï¼Œå¦‚æœè¿è¡Œæ—¶é—´è¶…è¿‡äº†æŒ‡å®šæ—¶é—´å°±ç®—å¤±è´¥ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ timeout æ³¨è§£</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Timeout</span>(value = <span class="number">900</span>, unit = TimeUnit.MILLISECONDS)</span><br><span class="line"><span class="keyword">def</span> <span class="string">&quot;test timeout&quot;</span>()&#123;</span><br><span class="line">    <span class="symbol">expect:</span></span><br><span class="line">    Thread.sleep(<span class="number">1000</span>)</span><br><span class="line">    <span class="number">1</span> == <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨è§£æœ‰ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯ value æˆ‘ä»¬è®¾ç½®çš„æ•°å€¼ï¼Œunit æ˜¯æ•°å€¼çš„å•ä½ã€‚</p><h4 id="3-7-3-with"><a href="#3-7-3-with" class="headerlink" title="3.7.3 with"></a>3.7.3 with</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;test findByName by verity&quot;</span>() &#123;</span><br><span class="line">    <span class="symbol">given:</span></span><br><span class="line">    <span class="keyword">def</span> userDao = Mock(UserDao)</span><br><span class="line"></span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    userDao.findByName(<span class="string">&quot;kk&quot;</span>) &gt;&gt; <span class="keyword">new</span> User(<span class="string">&quot;kk&quot;</span>, <span class="number">12</span>, <span class="string">&quot;33&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    <span class="keyword">def</span> user = userDao.findByName(<span class="string">&quot;kk&quot;</span>)</span><br><span class="line">    with(user) &#123;</span><br><span class="line">        name == <span class="string">&quot;kk&quot;</span></span><br><span class="line">        age == <span class="number">12</span></span><br><span class="line">        passwd == <span class="string">&quot;33&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>with</strong> ç®—æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæ²¡æœ‰ä»–ä¹‹å‰æˆ‘ä»¬è¦åˆ¤æ–­å¯¹è±¡çš„å€¼åªèƒ½ï¼Œuser.getXxx() == xxã€‚å¦‚æœå±æ€§è¿‡å¤šä¹Ÿæ˜¯æŒºéº»çƒ¦çš„ï¼Œç”¨ with åŒ…è£¹ä¹‹åï¼Œåªè¦åœ¨èŠ±æ‹¬å·å†…ç›´æ¥å†™å±æ€§åç§°å³å¯ï¼Œå¦‚ä¸Šä»£ç æ‰€ç¤ºã€‚</p><h2 id="4-å…¶å®ƒ"><a href="#4-å…¶å®ƒ" class="headerlink" title="4. å…¶å®ƒ"></a>4. å…¶å®ƒ</h2><h3 id="4-1-å®Œæ•´ä»£ç "><a href="#4-1-å®Œæ•´ä»£ç " class="headerlink" title="4.1 å®Œæ•´ä»£ç "></a>4.1 å®Œæ•´ä»£ç </h3><p>å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ— æ³•è´´å®Œæ‰€æœ‰ä»£ç ï¼Œå®Œæ•´ä»£ç å·²ä¸Šä¼  Â <a href="https://github.com/kiwiflydream/study-example/tree/master/study-spock-example">github</a>ã€‚</p><h3 id="4-2-å‚è€ƒæ–‡æ¡£"><a href="#4-2-å‚è€ƒæ–‡æ¡£" class="headerlink" title="4.2 å‚è€ƒæ–‡æ¡£"></a>4.2 å‚è€ƒæ–‡æ¡£</h3><p>æœ¬æ–‡åœ¨ç»ä»°äº†å¦‚ä¸‹åšä¸»çš„ç²¾å½©åšæ–‡åï¼Œå†åŠ ä¸Šè‡ªèº«çš„å­¦ä¹ æ€»ç»“åŠ å·¥è€Œæ¥ï¼Œå¦‚æœæœ¬æ–‡åœ¨çœ‹çš„æ—¶å€™æœ‰ä¸æ˜ç™½çš„åœ°æ–¹å¯ä»¥çœ‹ä¸€ä¸‹ä¸‹æ–¹é“¾æ¥ã€‚</p><ol><li><a href="https://juejin.im/post/5d982268e51d45782e6039bf">Spock in Java æ…¢æ…¢çˆ±ä¸Šå†™å•å…ƒæµ‹è¯•</a></li><li><a href="https://www.cnblogs.com/lovesqcc/p/8647201.html">ä½¿ç”¨ Groovy+Spock è½»æ¾å†™å‡ºæ›´ç®€æ´çš„å•æµ‹</a></li><li><a href="http://jvm123.com/2019/08/spock.html">Spock æµ‹è¯•æ¡†æ¶çš„ä»‹ç»å’Œä½¿ç”¨è¯¦è§£</a></li><li><a href="https://www.alicharles.com/article/spock/#_%E9%87%87%E7%94%A8groovy_spock%E9%92%88%E5%AF%B9userservice%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95">Spock åŸºäº BDD æµ‹è¯•</a></li><li><a href="http://spockframework.org/spock/docs/1.3/all_in_one.html">Spock å®˜æ–¹æ–‡æ¡£</a></li><li><a href="http://www.liuhaihua.cn/archives/540855.html">Spock æµ‹è¯•æ¡†æ¶</a></li><li><a href="https://stackoverflow.com/questions/19185596/spock-testing-exceptions-with-data-tables">spock-testing-exceptions-with-data-tables</a></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572784460361-705b4d9a-b67c-4456-8cd3-42abbfe75f66.png#align=left&display=inline&height=154&name=image.png&originHeight=178&originWidth=621&size=39726&status=done&width=539" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> spock </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spock </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç¢ç¢å¿µã€‘03</title>
      <link href="/posts/d18db60a/"/>
      <url>/posts/d18db60a/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1571922915604-f292746d-c365-4512-b514-06eca9c7cc66.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><blockquote><p>æœ¬æ–‡æ”¶é›†ä¸æ•´ç†æ—¥å¸¸ç”Ÿæ´»ä¸­çœ‹åˆ°çš„å„ç§ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯ä¸€æ¡å¾®åšã€ä¹Ÿå¯èƒ½æ˜¯ä¸€å¼ å›¾ç‰‡ã€ç”šè‡³åªæ˜¯é—²èŠä¸­çš„åªè¨€ç‰‡è¯­ã€‚æ€»ä¹‹ï¼Œæ˜¯ä¸€äº›èƒ½è§¦åŠ¨åˆ°æˆ‘çš„ä¸œè¥¿ï¼Œå¸Œæœ›åŒæ ·å¯¹ä½ æœ‰ç”¨ã€‚å½“ç„¶å› ä¸ºè¿™äº›å†…å®¹éƒ½æ˜¯å¯é‡è€Œä¸å¯æ±‚çš„ï¼Œå‘å¸ƒæ²¡æœ‰å›ºå®šæ—¶é—´ï¼Œæ¯æ”’ 15 æ¡ï¼Œå‘å¸ƒä¸€æ¬¡ã€‚åŒæ—¶ï¼Œå¦‚æœä½ ä¹Ÿæœ‰è¿™æ ·çš„ç¢ç¢å¿µï¼Œæ¬¢è¿ç§ä¿¡ï¼Œå¾ˆå¯èƒ½å°±å‡ºç°åœ¨ä¸‹ä¸€æ¬¡çš„æ–‡ç« ä¸­ã€‚</p></blockquote><ol><li>æ•…éšœ<blockquote><p>æ•…éšœå¤©ç„¶ä¼šå‘ç”Ÿï¼Œå¦‚ä½•å‡å°‘å‘ç”Ÿæ¦‚ç‡ï¼Œå‘ç”Ÿäº†ä»¥åå¦‚ä½•ç¼©çŸ­æ•…éšœæ¢å¤æ—¶é—´ï¼Œå¦‚ä½•å‡å°‘æ•…éšœå½±å“é¢æ˜¯å·¥ç¨‹æŠ€æœ¯è§’åº¦è¦è§£å†³çš„æœ€æ ¸å¿ƒå‘½é¢˜ã€‚<br>â€“Â <a href="https://mp.weixin.qq.com/s/TeaJ274o85IpcxWGM1ogHw">æœ‰èµå´”ç‰æ¾ï¼šè¯·å•†å®¶å¬æˆ‘è®²ä¸€è®²ã€Œç³»ç»Ÿç¨³å®šæ€§ã€</a></p></blockquote></li></ol><hr><ol start="2"><li>ETC</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1571923689895-2822265d-81a6-4854-86f7-633f9eca6bea.png#align=left&display=inline&height=166&margin=%5Bobject%20Object%5D&name=image.png&originHeight=332&originWidth=426&size=75553&status=done&style=none&width=213" alt="image.png"></p><hr><ol start="3"><li>å¤œæ™¯</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572447192478-dec8e046-d569-45de-88c6-d282f35841c6.png#align=left&display=inline&height=277&margin=%5Bobject%20Object%5D&name=image.png&originHeight=554&originWidth=600&size=477349&status=done&style=none&width=300" alt="image.png"></p><hr><ol start="4"><li>è£‚ç¼<blockquote><p>ä¸‡ç‰©çš†æœ‰è£‚ç¼å¤„ï¼Œé‚£æ˜¯å…‰å°„è¿›æ¥çš„åœ°æ–¹ã€‚ -è±æ˜‚çº³å¤šÂ·ç§‘æ©ï¼ˆåŠ æ‹¿å¤§æ­Œæ‰‹ã€è¯—äººï¼‰</p></blockquote></li></ol><hr><ol start="5"><li>æ‹–å»¶</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572447326861-fed708fa-50ac-4abb-b33c-73b1ad2079b8.png#align=left&display=inline&height=963&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1926&originWidth=1080&size=642218&status=done&style=none&width=540" alt="image.png"></p><hr><ol start="6"><li>æ²‰é†‰</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1572525481770-6111a212-fb7f-4e57-bdb9-5bbffe06e6b6.png#align=left&display=inline&height=458&name=image.png&originHeight=916&originWidth=1080&size=1372039&status=done&width=540" alt="image.png"><br>â€“ã€Šè¿›å‡»çš„å·¨äººã€‹</p><hr><ol start="7"><li>æœ€é‡è¦çš„ä¸¤å¤©<blockquote><p>äººç”Ÿæœ€é‡è¦çš„ä¸¤å¤©ï¼Œä½ æ¥åˆ°ä¸–ç•Œçš„é‚£å¤©ï¼Œå’Œä½ äº†è§£ä¸ºä»€ä¹ˆä½ æ¥åˆ°ä¸–ç•Œçš„é‚£å¤©ã€‚<br>â€“ é©¬å…‹åæ¸©</p></blockquote></li></ol><hr><ol start="8"><li>èŒåœº</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573746376295-50ea6b3f-aca4-457d-859d-9f9095928fef.png#align=left&display=inline&height=454&name=image.png&originHeight=908&originWidth=828&size=363442&status=done&width=414" alt="image.png"></p><hr><ol start="9"><li>å­¦ä¹ é‡‘å­—å¡”</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573746312458-4ae3fd1f-321f-4a28-a506-bcf359b9c096.png#align=left&display=inline&height=215&name=image.png&originHeight=429&originWidth=800&size=285153&status=done&width=400" alt="image.png"></p><hr><ol start="10"><li>æ¬²æœ›ä¸ç†æƒ³</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573745668613-62abe0f5-4eff-46ab-9fd3-9a60e682f7b7.png#align=left&display=inline&height=477&name=image.png&originHeight=954&originWidth=1124&size=559394&status=done&width=562" alt="image.png"></p><hr><ol start="11"><li>TDD</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573745743007-7555926e-ed5f-4546-9ecf-2d87d2474b07.png#align=left&display=inline&height=144&name=image.png&originHeight=287&originWidth=989&size=58988&status=done&width=494.5" alt="image.png"></p><hr><ol start="12"><li>ä»°æœ›æ˜Ÿç©º<blockquote><p>æˆ‘ä»¬éƒ½åœ¨é˜´æ²Ÿé‡Œï¼Œä½†ä»æœ‰äººä»°æœ›æ˜Ÿç©ºï¼ˆWe are all in the gutter, but some of us are looking at the stars.ï¼‰<br>â€“ç‹å°”å¾·</p></blockquote></li></ol><hr><ol start="13"><li>é“å¾·ä¸è§„åˆ™<blockquote><p>ä¸€ä¸ªè‚®è„çš„å›½å®¶ï¼Œå¦‚æœäººäººè®²è§„åˆ™è€Œä¸æ˜¯è°ˆé“å¾·ï¼Œæœ€ç»ˆä¼šå˜æˆä¸€ä¸ªæœ‰äººå‘³å„¿çš„æ­£å¸¸å›½å®¶ï¼Œé“å¾·è‡ªç„¶ä¼šé€æ¸å›å½’ï¼›ä¸€ä¸ªå¹²å‡€çš„å›½å®¶ï¼Œå¦‚æœäººäººéƒ½ä¸è®²è§„åˆ™å´å¤§è°ˆé“å¾·ï¼Œè°ˆé«˜å°šï¼Œå¤©å¤©æ²¡äº‹å„¿å°±è°ˆé“å¾·è§„èŒƒï¼Œäººäººå¤§å…¬æ— ç§ï¼Œæœ€ç»ˆè¿™ä¸ªå›½å®¶ä¼šå •è½æˆä¸ºä¸€ä¸ªä¼ªå›å­éå¸ƒçš„è‚®è„å›½å®¶ã€‚<br>â€“èƒ¡é€‚</p></blockquote></li></ol><hr><ol start="14"><li>è¿…é€ŸæŒæ¡çŸ¥è¯†ç‚¹</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573746045219-941b6526-872b-4ef1-97b6-4686bf217f56.png#align=left&display=inline&height=2559&name=image.png&originHeight=5117&originWidth=720&size=2082222&status=done&width=360" alt="image.png"></p><ol start="15"><li>å¿«ä¹</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1573746198736-b9229c3b-d606-4a3e-a2de-fcb8af073ab2.png#align=left&display=inline&height=924&name=image.png&originHeight=1847&originWidth=1080&size=1385647&status=done&width=540" alt="image.png"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> ç¢ç¢å¿µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¢ç¢å¿µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€websocketã€‘spring boot é›†æˆ websocket çš„å››ç§æ–¹å¼</title>
      <link href="/posts/2bed5d1c/"/>
      <url>/posts/2bed5d1c/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1571838520170-96049339-d6e2-438f-9fe5-3119d6f5ebd5.jpeg#align=left&display=inline&height=1080&originHeight=1080&originWidth=1920&size=0&status=done&width=1920"></p><h2 id="é›†æˆ-websocket-çš„å››ç§æ–¹æ¡ˆ"><a href="#é›†æˆ-websocket-çš„å››ç§æ–¹æ¡ˆ" class="headerlink" title="é›†æˆ websocket çš„å››ç§æ–¹æ¡ˆ"></a>é›†æˆ websocket çš„å››ç§æ–¹æ¡ˆ</h2><h3 id="1-åŸç”Ÿæ³¨è§£"><a href="#1-åŸç”Ÿæ³¨è§£" class="headerlink" title="1. åŸç”Ÿæ³¨è§£"></a>1. åŸç”Ÿæ³¨è§£</h3><h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="WebSocketConfig"><a href="#WebSocketConfig" class="headerlink" title="WebSocketConfig"></a>WebSocketConfig</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.EnableWebSocket;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.standard.ServerEndpointExporter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WebSocketConfig.java, v 0.1 2019-10-18 15:45 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSocket</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerEndpointExporter <span class="title">serverEndpoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServerEndpointExporter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜ï¼š"><a href="#è¯´æ˜ï¼š" class="headerlink" title="è¯´æ˜ï¼š"></a>è¯´æ˜ï¼š</h5><p>è¿™ä¸ªé…ç½®ç±»å¾ˆç®€å•ï¼Œé€šè¿‡è¿™ä¸ªé…ç½® spring boot æ‰èƒ½å»æ‰«æåé¢çš„å…³äº websocket çš„æ³¨è§£</p><h4 id="WsServerEndpoint"><a href="#WsServerEndpoint" class="headerlink" title="WsServerEndpoint"></a>WsServerEndpoint</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.ws;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnClose;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnMessage;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.OnOpen;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.Session;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.ServerEndpoint;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WsServerEndpoint.java, v 0.1 2019-10-18 16:06 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ServerEndpoint(&quot;/myWs&quot;)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WsServerEndpoint</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥æˆåŠŸ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnOpen</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOpen</span><span class="params">(Session session)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿æ¥æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥å…³é—­</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnClose</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClose</span><span class="params">(Session session)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿æ¥å…³é—­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶åˆ°æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> text</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnMessage</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">onMsg</span><span class="params">(String text)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;servet å‘é€ï¼š&quot;</span> + text;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™é‡Œæœ‰å‡ ä¸ªæ³¨è§£éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œé¦–å…ˆæ˜¯ä»–ä»¬çš„åŒ…éƒ½åœ¨ **javax.websocket **ä¸‹ã€‚å¹¶ä¸æ˜¯ spring æä¾›çš„ï¼Œè€Œ jdk è‡ªå¸¦çš„ï¼Œä¸‹é¢æ˜¯ä»–ä»¬çš„å…·ä½“ä½œç”¨ã€‚</p><ol><li><strong>@ServerEndpoint</strong><ol><li>é€šè¿‡è¿™ä¸ª spring boot å°±å¯ä»¥çŸ¥é“ä½ æš´éœ²å‡ºå»çš„ ws åº”ç”¨çš„è·¯å¾„ï¼Œæœ‰ç‚¹ç±»ä¼¼æˆ‘ä»¬ç»å¸¸ç”¨çš„@RequestMappingã€‚æ¯”å¦‚ä½ çš„å¯åŠ¨ç«¯å£æ˜¯ 8080ï¼Œè€Œè¿™ä¸ªæ³¨è§£çš„å€¼æ˜¯ wsï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ ws://127.0.0.1:8080/ws æ¥è¿æ¥ä½ çš„åº”ç”¨</li></ol></li><li><strong>@OnOpen</strong><ol><li>å½“ websocket å»ºç«‹è¿æ¥æˆåŠŸåä¼šè§¦å‘è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼Œæ³¨æ„å®ƒæœ‰ä¸€ä¸ª Â Session å‚æ•°</li></ol></li><li><strong>@OnClose</strong><ol><li>å½“ websocket å»ºç«‹çš„è¿æ¥æ–­å¼€åä¼šè§¦å‘è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼Œæ³¨æ„å®ƒæœ‰ä¸€ä¸ª Â Session å‚æ•°</li></ol></li><li><strong>@OnMessage</strong><ol><li>å½“å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åˆ°æœåŠ¡ç«¯æ—¶ï¼Œä¼šè§¦å‘è¿™ä¸ªæ³¨è§£ä¿®æ”¹çš„æ–¹æ³•ï¼Œå®ƒæœ‰ä¸€ä¸ª String å…¥å‚è¡¨æ˜å®¢æˆ·ç«¯ä¼ å…¥çš„å€¼</li></ol></li><li><strong>@OnError</strong><ol><li>å½“ websocket å»ºç«‹è¿æ¥æ—¶å‡ºç°å¼‚å¸¸ä¼šè§¦å‘è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼Œæ³¨æ„å®ƒæœ‰ä¸€ä¸ª Â Session å‚æ•°</li></ol></li></ol><p>å¦å¤–ä¸€ç‚¹å°±æ˜¯æœåŠ¡ç«¯å¦‚ä½•å‘é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯å‘é€æ¶ˆæ¯å¿…é¡»é€šè¿‡ä¸Šé¢è¯´çš„ Session ç±»ï¼Œé€šå¸¸æ˜¯åœ¨@OnOpen æ–¹æ³•ä¸­ï¼Œå½“è¿æ¥æˆåŠŸåæŠŠ session å­˜å…¥ Map çš„ valueï¼Œkey æ˜¯ä¸ session å¯¹åº”çš„ç”¨æˆ·æ ‡è¯†ï¼Œå½“è¦å‘é€çš„æ—¶å€™é€šè¿‡ key è·å¾— session å†å‘é€ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡ Â <strong>session.getBasicRemote*()<em>.sendText</em>(*)</strong> æ¥å¯¹å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚</p><h3 id="2-Spring-å°è£…"><a href="#2-Spring-å°è£…" class="headerlink" title="2. Spring å°è£…"></a>2. Spring å°è£…</h3><h4 id="pom-xml-1"><a href="#pom-xml-1" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="HttpAuthHandler"><a href="#HttpAuthHandler" class="headerlink" title="HttpAuthHandler"></a>HttpAuthHandler</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.websocket.config.WsSessionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.CloseStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.TextMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.WebSocketSession;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.handler.TextWebSocketHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> MyWSHandler.java, v 0.1 2019-10-17 17:10 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpAuthHandler</span> <span class="keyword">extends</span> <span class="title">TextWebSocketHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * socket å»ºç«‹æˆåŠŸäº‹ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterConnectionEstablished</span><span class="params">(WebSocketSession session)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Object token = session.getAttributes().get(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (token != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·è¿æ¥æˆåŠŸï¼Œæ”¾å…¥åœ¨çº¿ç”¨æˆ·ç¼“å­˜</span></span><br><span class="line">            WsSessionManager.add(token.toString(), session);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;ç”¨æˆ·ç™»å½•å·²ç»å¤±æ•ˆ!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶æ¶ˆæ¯äº‹ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">handleTextMessage</span><span class="params">(WebSocketSession session, TextMessage message)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// è·å¾—å®¢æˆ·ç«¯ä¼ æ¥çš„æ¶ˆæ¯</span></span><br><span class="line">        String payload = message.getPayload();</span><br><span class="line">        Object token = session.getAttributes().get(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;server æ¥æ”¶åˆ° &quot;</span> + token + <span class="string">&quot; å‘é€çš„ &quot;</span> + payload);</span><br><span class="line">        session.sendMessage(<span class="keyword">new</span> TextMessage(<span class="string">&quot;server å‘é€ç»™ &quot;</span> + token + <span class="string">&quot; æ¶ˆæ¯ &quot;</span> + payload + <span class="string">&quot; &quot;</span> + LocalDateTime.now().toString()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * socket æ–­å¼€è¿æ¥æ—¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> status</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterConnectionClosed</span><span class="params">(WebSocketSession session, CloseStatus status)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Object token = session.getAttributes().get(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (token != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·é€€å‡ºï¼Œç§»é™¤ç¼“å­˜</span></span><br><span class="line">            WsSessionManager.remove(token.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-1"><a href="#è¯´æ˜-1" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>é€šè¿‡ç»§æ‰¿ Â <strong>TextWebSocketHandler</strong> ç±»å¹¶è¦†ç›–ç›¸åº”æ–¹æ³•ï¼Œå¯ä»¥å¯¹ websocket çš„äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œå¯ä»¥åŒåŸç”Ÿæ³¨è§£çš„é‚£å‡ ä¸ªæ³¨è§£è¿èµ·æ¥çœ‹</p><ol><li><strong>afterConnectionEstablished</strong>Â  æ–¹æ³•æ˜¯åœ¨ socket è¿æ¥æˆåŠŸåè¢«è§¦å‘ï¼ŒåŒåŸç”Ÿæ³¨è§£é‡Œçš„ @OnOpen åŠŸèƒ½</li><li>**afterConnectionClosedÂ  **æ–¹æ³•æ˜¯åœ¨ socket è¿æ¥å…³é—­åè¢«è§¦å‘ï¼ŒåŒåŸç”Ÿæ³¨è§£é‡Œçš„ @OnClose åŠŸèƒ½</li><li>**handleTextMessage **æ–¹æ³•æ˜¯åœ¨å®¢æˆ·ç«¯å‘é€ä¿¡æ¯æ—¶è§¦å‘ï¼ŒåŒåŸç”Ÿæ³¨è§£é‡Œçš„ Â @OnMessage åŠŸèƒ½</li></ol><h4 id="WsSessionManager"><a href="#WsSessionManager" class="headerlink" title="WsSessionManager"></a>WsSessionManager</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.WebSocketSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WsSessionManager.java, v 0.1 2019-10-22 10:24 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WsSessionManager</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿å­˜è¿æ¥ session çš„åœ°æ–¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ConcurrentHashMap&lt;String, WebSocketSession&gt; SESSION_POOL = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ  session</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String key, WebSocketSession session)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ  session</span></span><br><span class="line">        SESSION_POOL.put(key, session);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤ session,ä¼šè¿”å›åˆ é™¤çš„ session</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> WebSocketSession <span class="title">remove</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤ session</span></span><br><span class="line">        <span class="keyword">return</span> SESSION_POOL.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤å¹¶åŒæ­¥å…³é—­è¿æ¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">removeAndClose</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        WebSocketSession session = remove(key);</span><br><span class="line">        <span class="keyword">if</span> (session != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// å…³é—­è¿æ¥</span></span><br><span class="line">                session.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// todo: å…³é—­å‡ºç°å¼‚å¸¸å¤„ç†</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å¾— session</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> WebSocketSession <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å¾— session</span></span><br><span class="line">        <span class="keyword">return</span> SESSION_POOL.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-2"><a href="#è¯´æ˜-2" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™é‡Œç®€å•é€šè¿‡ Â **ConcurrentHashMap **æ¥å®ç°äº†ä¸€ä¸ª session æ± ï¼Œç”¨æ¥ä¿å­˜å·²ç»ç™»å½•çš„ web socket çš„ Â  sessionã€‚å‰æ–‡æè¿‡ï¼ŒæœåŠ¡ç«¯å‘é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯å¿…é¡»è¦é€šè¿‡è¿™ä¸ª sessionã€‚</p><h4 id="MyInterceptor"><a href="#MyInterceptor" class="headerlink" title="MyInterceptor"></a>MyInterceptor</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.StrUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.http.HttpUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpRequest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.WebSocketHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.HandshakeInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> MyInterceptor.java, v 0.1 2019-10-17 19:21 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInterceptor</span> <span class="keyword">implements</span> <span class="title">HandshakeInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡æ‰‹å‰</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> wsHandler</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> attributes</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">beforeHandshake</span><span class="params">(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¡æ‰‹å¼€å§‹&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å¾—è¯·æ±‚å‚æ•°</span></span><br><span class="line">        HashMap&lt;String, String&gt; paramMap = HttpUtil.decodeParamMap(request.getURI().getQuery(), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        String uid = paramMap.get(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isNotBlank(uid)) &#123;</span><br><span class="line">            <span class="comment">// æ”¾å…¥å±æ€§åŸŸ</span></span><br><span class="line">            attributes.put(<span class="string">&quot;token&quot;</span>, uid);</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”¨æˆ· token &quot;</span> + uid + <span class="string">&quot; æ¡æ‰‹æˆåŠŸï¼&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”¨æˆ·ç™»å½•å·²å¤±æ•ˆ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡æ‰‹å</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> wsHandler</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterHandshake</span><span class="params">(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Exception exception)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¡æ‰‹å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-3"><a href="#è¯´æ˜-3" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>é€šè¿‡å®ç° <strong>HandshakeInterceptor</strong> æ¥å£æ¥å®šä¹‰æ¡æ‰‹æ‹¦æˆªå™¨ï¼Œæ³¨æ„è¿™é‡Œä¸ä¸Šé¢ <strong>Handler</strong> çš„äº‹ä»¶æ˜¯ä¸åŒçš„ï¼Œè¿™é‡Œæ˜¯å»ºç«‹æ¡æ‰‹æ—¶çš„äº‹ä»¶ï¼Œåˆ†ä¸ºæ¡æ‰‹å‰ä¸æ¡æ‰‹åï¼Œè€Œ Â  <strong>Handler</strong> çš„äº‹ä»¶æ˜¯åœ¨æ¡æ‰‹æˆåŠŸåçš„åŸºç¡€ä¸Šå»ºç«‹ socket çš„è¿æ¥ã€‚æ‰€ä»¥åœ¨å¦‚æœæŠŠè®¤è¯æ”¾åœ¨è¿™ä¸ªæ­¥éª¤ç›¸å¯¹æ¥è¯´æœ€èŠ‚çœæœåŠ¡å™¨èµ„æºã€‚å®ƒä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³• Â <strong>beforeHandshake</strong> ä¸ Â **afterHandshake **ï¼Œé¡¾åæ€ä¹‰ä¸€ä¸ªåœ¨æ¡æ‰‹å‰è§¦å‘ï¼Œä¸€ä¸ªåœ¨æ¡æ‰‹åè§¦å‘ã€‚</p><h4 id="WebSocketConfig-1"><a href="#WebSocketConfig-1" class="headerlink" title="WebSocketConfig"></a>WebSocketConfig</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.websocket.handler.HttpAuthHandler;</span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.websocket.interceptor.MyInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.EnableWebSocket;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WebSocketConfig.java, v 0.1 2019-10-17 15:43 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSocket</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketConfig</span> <span class="keyword">implements</span> <span class="title">WebSocketConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> HttpAuthHandler httpAuthHandler;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MyInterceptor myInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerWebSocketHandlers</span><span class="params">(WebSocketHandlerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry</span><br><span class="line">                .addHandler(httpAuthHandler, <span class="string">&quot;myWS&quot;</span>)</span><br><span class="line">                .addInterceptors(myInterceptor)</span><br><span class="line">                .setAllowedOrigins(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-4"><a href="#è¯´æ˜-4" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>é€šè¿‡å®ç° Â <strong>WebSocketConfigurer</strong> ç±»å¹¶è¦†ç›–ç›¸åº”çš„æ–¹æ³•è¿›è¡Œ <strong>websocket</strong> çš„é…ç½®ã€‚æˆ‘ä»¬ä¸»è¦è¦†ç›– Â <strong>registerWebSocketHandlers</strong> è¿™ä¸ªæ–¹æ³•ã€‚é€šè¿‡å‘ Â <strong>WebSocketHandlerRegistry</strong> è®¾ç½®ä¸åŒå‚æ•°æ¥è¿›è¡Œé…ç½®ã€‚å…¶ä¸­ <strong>addHandler **æ–¹æ³•æ·»åŠ æˆ‘ä»¬ä¸Šé¢çš„å†™çš„ ws çš„ Â  handler å¤„ç†ç±»ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ æš´éœ²å‡ºçš„ ws è·¯å¾„ã€‚</strong>addInterceptors <strong>æ·»åŠ æˆ‘ä»¬å†™çš„æ¡æ‰‹è¿‡æ»¤å™¨ã€‚</strong>setAllowedOrigins(â€œ*â€œ) **è¿™ä¸ªæ˜¯å…³é—­è·¨åŸŸæ ¡éªŒï¼Œæ–¹ä¾¿æœ¬åœ°è°ƒè¯•ï¼Œçº¿ä¸Šæ¨èæ‰“å¼€ã€‚</p><h3 id="3-TIO"><a href="#3-TIO" class="headerlink" title="3. TIO"></a>3. TIO</h3><h4 id="pom-xml-2"><a href="#pom-xml-2" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.t-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tio-websocket-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.5.v20191010-RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="application-xml"><a href="#application-xml" class="headerlink" title="application.xml"></a>application.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tio:</span><br><span class="line">  websocket:</span><br><span class="line">    server:</span><br><span class="line">      port: 8989</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-5"><a href="#è¯´æ˜-5" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™é‡Œåªé…ç½®äº† ws çš„å¯åŠ¨ç«¯å£ï¼Œè¿˜æœ‰å¾ˆå¤šé…ç½®ï¼Œå¯ä»¥é€šè¿‡ç»“å°¾ç»™çš„é“¾æ¥å»å¯»æ‰¾</p><h4 id="MyHandler"><a href="#MyHandler" class="headerlink" title="MyHandler"></a>MyHandler</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.tio.core.ChannelContext;</span><br><span class="line"><span class="keyword">import</span> org.tio.http.common.HttpRequest;</span><br><span class="line"><span class="keyword">import</span> org.tio.http.common.HttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.tio.websocket.common.WsRequest;</span><br><span class="line"><span class="keyword">import</span> org.tio.websocket.server.handler.IWsMsgHandler;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> MyHandler.java, v 0.1 2019-10-21 14:39 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyHandler</span> <span class="keyword">implements</span> <span class="title">IWsMsgHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡æ‰‹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> httpRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> httpResponse</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channelContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpResponse <span class="title">handshake</span><span class="params">(HttpRequest httpRequest, HttpResponse httpResponse, ChannelContext channelContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> httpResponse;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡æ‰‹æˆåŠŸ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> httpRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> httpResponse</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channelContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAfterHandshaked</span><span class="params">(HttpRequest httpRequest, HttpResponse httpResponse, ChannelContext channelContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¡æ‰‹æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶äºŒè¿›åˆ¶æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> wsRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bytes</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channelContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">onBytes</span><span class="params">(WsRequest wsRequest, <span class="keyword">byte</span>[] bytes, ChannelContext channelContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–­å¼€è¿æ¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> wsRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bytes</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channelContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">onClose</span><span class="params">(WsRequest wsRequest, <span class="keyword">byte</span>[] bytes, ChannelContext channelContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…³é—­è¿æ¥&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> wsRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> channelContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">onText</span><span class="params">(WsRequest wsRequest, String s, ChannelContext channelContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶æ–‡æœ¬æ¶ˆæ¯:&quot;</span> + s);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-6"><a href="#è¯´æ˜-6" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™ä¸ªåŒä¸Šä¸ªä¾‹å­ä¸­çš„ handler å¾ˆåƒï¼Œä¹Ÿæ˜¯é€šè¿‡å®ç°æ¥å£è¦†ç›–æ–¹æ³•æ¥è¿›è¡Œäº‹ä»¶å¤„ç†ï¼Œå®ç°çš„æ¥å£æ˜¯<strong>IWsMsgHandler</strong>ï¼Œå®ƒçš„æ–¹æ³•åŠŸèƒ½å¦‚ä¸‹</p><ol><li>handshake<ol><li>åœ¨æ¡æ‰‹çš„æ—¶å€™è§¦å‘</li></ol></li><li>onAfterHandshaked<ol><li>åœ¨æ¡æ‰‹æˆåŠŸåè§¦å‘</li></ol></li><li>onBytes<ol><li>å®¢æˆ·ç«¯å‘é€äºŒè¿›åˆ¶æ¶ˆæ¯è§¦å‘</li></ol></li><li>onClose<ol><li>å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶è§¦å‘</li></ol></li><li>onText<ol><li>å®¢æˆ·ç«¯å‘é€æ–‡æœ¬æ¶ˆæ¯è§¦å‘</li></ol></li></ol><h4 id="StudyWebsocketExampleApplication"><a href="#StudyWebsocketExampleApplication" class="headerlink" title="StudyWebsocketExampleApplication"></a>StudyWebsocketExampleApplication</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.tio.websocket.starter.EnableTioWebSocketServer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableTioWebSocketServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudyWebsocketExampleApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(StudyWebsocketExampleApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-7"><a href="#è¯´æ˜-7" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><p>è¿™ä¸ªç±»çš„åç§°ä¸é‡è¦ï¼Œå®ƒå…¶å®æ˜¯ä½ çš„ spring boot å¯åŠ¨ç±»ï¼Œåªè¦è®°å¾—åŠ ä¸Š**@EnableTioWebSocketServer**æ³¨è§£å°±å¯ä»¥äº†</p><h3 id="STOMP"><a href="#STOMP" class="headerlink" title="STOMP"></a>STOMP</h3><h4 id="pom-xml-3"><a href="#pom-xml-3" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="WebSocketConfig-2"><a href="#WebSocketConfig-2" class="headerlink" title="WebSocketConfig"></a>WebSocketConfig</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.messaging.simp.config.MessageBrokerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.StompEndpointRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WebSocketConfig.java, v 0.1 2019-10-21 16:32 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSocketMessageBroker</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketConfig</span> <span class="keyword">implements</span> <span class="title">WebSocketMessageBrokerConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerStompEndpoints</span><span class="params">(StompEndpointRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é…ç½®å®¢æˆ·ç«¯å°è¯•è¿æ¥åœ°å€</span></span><br><span class="line">        registry.addEndpoint(<span class="string">&quot;/ws&quot;</span>).setAllowedOrigins(<span class="string">&quot;*&quot;</span>).withSockJS();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureMessageBroker</span><span class="params">(MessageBrokerRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®å¹¿æ’­èŠ‚ç‚¹</span></span><br><span class="line">        registry.enableSimpleBroker(<span class="string">&quot;/topic&quot;</span>, <span class="string">&quot;/user&quot;</span>);</span><br><span class="line">        <span class="comment">// å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯éœ€æœ‰/app å‰ç¼€</span></span><br><span class="line">        registry.setApplicationDestinationPrefixes(<span class="string">&quot;/app&quot;</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šç”¨æˆ·å‘é€ï¼ˆä¸€å¯¹ä¸€ï¼‰çš„å‰ç¼€ /user/</span></span><br><span class="line">        registry.setUserDestinationPrefix(<span class="string">&quot;/user/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-8"><a href="#è¯´æ˜-8" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><ol><li>é€šè¿‡å®ç° Â <strong>WebSocketMessageBrokerConfigurer</strong> æ¥å£å’ŒåŠ ä¸Š**@EnableWebSocketMessageBroker**æ¥è¿›è¡Œ stomp çš„é…ç½®ä¸æ³¨è§£æ‰«æã€‚</li><li>å…¶ä¸­è¦†ç›– Â <strong>registerStompEndpoints</strong> æ–¹æ³•æ¥è®¾ç½®æš´éœ²çš„ stomp çš„è·¯å¾„ï¼Œå…¶å®ƒä¸€äº›è·¨åŸŸã€å®¢æˆ·ç«¯ä¹‹ç±»çš„è®¾ç½®ã€‚</li><li>è¦†ç›– Â **configureMessageBroker **æ–¹æ³•æ¥è¿›è¡ŒèŠ‚ç‚¹çš„é…ç½®ã€‚<ol><li>å…¶ä¸­ Â **enableSimpleBroker **é…ç½®çš„å¹¿æ’­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å‘é€æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯è®¢é˜…å°±èƒ½æ¥æ”¶æ¶ˆæ¯çš„èŠ‚ç‚¹ã€‚</li><li>è¦†ç›–**setApplicationDestinationPrefixes **æ–¹æ³•ï¼Œè®¾ç½®å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯çš„èŠ‚ç‚¹ã€‚</li><li>è¦†ç›– <strong>setUserDestinationPrefix</strong> æ–¹æ³•ï¼Œè®¾ç½®ä¸€å¯¹ä¸€é€šä¿¡çš„èŠ‚ç‚¹ã€‚</li></ol></li></ol><h4 id="WSController"><a href="#WSController" class="headerlink" title="WSController"></a>WSController</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * *</span></span><br><span class="line"><span class="comment"> *  * blog.coder4j.cn</span></span><br><span class="line"><span class="comment"> *  * Copyright (C) 2016-2019 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.example.websocket.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.websocket.model.RequestMessage;</span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.example.websocket.model.ResponseMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.messaging.handler.annotation.MessageMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.messaging.handler.annotation.SendTo;</span><br><span class="line"><span class="keyword">import</span> org.springframework.messaging.simp.SimpMessagingTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> WSController.java, v 0.1 2019-10-21 17:22 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WSController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SimpMessagingTemplate simpMessagingTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MessageMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="meta">@SendTo(&quot;/topic/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseMessage <span class="title">hello</span><span class="params">(RequestMessage requestMessage)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶æ¶ˆæ¯ï¼š&quot;</span> + requestMessage);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseMessage(<span class="string">&quot;æœåŠ¡ç«¯æ¥æ”¶åˆ°ä½ å‘çš„ï¼š&quot;</span> + requestMessage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/sendMsgByUser&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function">Object <span class="title">sendMsgByUser</span><span class="params">(String token, String msg)</span> </span>&#123;</span><br><span class="line">        simpMessagingTemplate.convertAndSendToUser(token, <span class="string">&quot;/msg&quot;</span>, msg);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/sendMsgByAll&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function">Object <span class="title">sendMsgByAll</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        simpMessagingTemplate.convertAndSend(<span class="string">&quot;/topic&quot;</span>, msg);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/test&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test-stomp.html&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜-9"><a href="#è¯´æ˜-9" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><ol><li>é€šè¿‡ Â <strong>@MessageMapping</strong> æ¥æš´éœ²èŠ‚ç‚¹è·¯å¾„ï¼Œæœ‰ç‚¹ç±»ä¼¼ <strong>@RequestMapping</strong>ã€‚æ³¨æ„è¿™é‡Œè™½ç„¶å†™çš„æ˜¯ hello ï¼Œä½†æ˜¯æˆ‘ä»¬å®¢æˆ·ç«¯è°ƒç”¨çš„çœŸæ­£åœ°å€æ˜¯** /app/hello<strong>ã€‚ å› ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢çš„ config é‡Œé…ç½®äº†</strong>registry.setApplicationDestinationPrefixes(â€œ/appâ€)**ã€‚</li><li><strong>@SendTo</strong>è¿™ä¸ªæ³¨è§£ä¼šæŠŠè¿”å›å€¼çš„å†…å®¹å‘é€ç»™è®¢é˜…äº† Â <strong>/topic/hello **çš„å®¢æˆ·ç«¯ï¼Œä¸ä¹‹ç±»ä¼¼çš„è¿˜æœ‰ä¸€ä¸ª</strong>@SendToUser** åªä¸è¿‡ä»–æ˜¯å‘é€ç»™ç”¨æˆ·ç«¯ä¸€å¯¹ä¸€é€šä¿¡çš„ã€‚è¿™ä¸¤ä¸ªæ³¨è§£ä¸€èˆ¬æ˜¯åº”ç­”æ—¶å“åº”çš„ï¼Œå¦‚æœæœåŠ¡ç«¯ä¸»åŠ¨å‘é€æ¶ˆæ¯å¯ä»¥é€šè¿‡ Â <strong>simpMessagingTemplate</strong>ç±»çš„<strong>convertAndSend</strong>æ–¹æ³•ã€‚æ³¨æ„ Â <strong>simpMessagingTemplate.convertAndSendToUser(token, â€œ/msgâ€, msg) **ï¼Œè”ç³»åˆ°æˆ‘ä»¬ä¸Šæ–‡é…ç½®çš„ **registry.setUserDestinationPrefix(â€œ/user/â€œ),**è¿™é‡Œå®¢æˆ·ç«¯è®¢é˜…çš„æ˜¯</strong>/user/{token}/msg**,åƒä¸‡ä¸è¦æé”™ã€‚</li></ol><h2 id="Session-å…±äº«çš„é—®é¢˜"><a href="#Session-å…±äº«çš„é—®é¢˜" class="headerlink" title="Session å…±äº«çš„é—®é¢˜"></a>Session å…±äº«çš„é—®é¢˜</h2><p>ä¸Šé¢åå¤æåˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼ŒæœåŠ¡ç«¯å¦‚æœè¦ä¸»åŠ¨å‘é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ä¸€å®šè¦ç”¨åˆ° sessionã€‚è€Œå¤§å®¶éƒ½çŸ¥é“çš„æ˜¯ session è¿™ä¸ªä¸œè¥¿æ˜¯ä¸è·¨ jvm çš„ã€‚å¦‚æœæœ‰å¤šå°æœåŠ¡å™¨ï¼Œåœ¨ http è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠ session æ”¾å…¥ç¼“å­˜ä¸­é—´ä»¶ä¸­æ¥å…±äº«è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡ spring session å‡ æ¡é…ç½®å°±è§£å†³äº†ã€‚ä½†æ˜¯ web socketÂ  ä¸å¯ä»¥ã€‚ä»–çš„ session æ˜¯ä¸èƒ½åºåˆ—åŒ–çš„ï¼Œå½“ç„¶è¿™æ ·è®¾è®¡çš„ç›®çš„ä¸æ˜¯ä¸ºäº†ä¸ºéš¾ä½ ï¼Œè€Œæ˜¯å‡ºäºå¯¹ http ä¸ web socket è¯·æ±‚çš„å·®å¼‚å¯¼è‡´çš„ã€‚<br>ç›®å‰ç½‘ä¸Šæ‰¾åˆ°çš„æœ€ç®€å•æ–¹æ¡ˆå°±æ˜¯é€šè¿‡ redis è®¢é˜…å¹¿æ’­çš„å½¢å¼ï¼Œä¸»è¦ä»£ç è·Ÿç¬¬äºŒç§æ–¹å¼å·®ä¸å¤šï¼Œä½ è¦åœ¨æœ¬åœ°æ”¾ä¸ª map ä¿å­˜è¯·æ±‚çš„ sessionã€‚ä¹Ÿå°±æ˜¯è¯´æ¯å°æœåŠ¡å™¨éƒ½ä¼šä¿å­˜ä¸ä»–è¿æ¥çš„ session äºæœ¬åœ°ã€‚ç„¶åå‘æ¶ˆæ¯çš„åœ°æ–¹è¦ä¿®æ”¹ï¼Œå¹¶ä¸æ˜¯ç°åœ¨è¿™æ ·ç›´æ¥å‘é€ï¼Œè€Œé€šè¿‡ redis çš„è®¢é˜…æœºåˆ¶ã€‚æœåŠ¡å™¨è¦å‘æ¶ˆæ¯çš„æ—¶å€™ï¼Œä½ é€šè¿‡ redis å¹¿æ’­è¿™æ¡æ¶ˆæ¯ï¼Œæ‰€æœ‰è®¢é˜…çš„æœåŠ¡ç«¯éƒ½ä¼šæ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œç„¶åæœ¬åœ°å°è¯•å‘é€ã€‚æœ€åè‚¯å®šåªæœ‰æœ‰è¿™ä¸ªå¯¹åº”ç”¨æˆ· session çš„é‚£å°æ‰èƒ½å‘é€å‡ºå»ã€‚</p><h2 id="å¦‚ä½•é€‰æ‹©"><a href="#å¦‚ä½•é€‰æ‹©" class="headerlink" title="å¦‚ä½•é€‰æ‹©"></a>å¦‚ä½•é€‰æ‹©</h2><ol><li>å¦‚æœä½ åœ¨ä½¿ç”¨ tioï¼Œé‚£æ¨èä½¿ç”¨ tio çš„é›†æˆã€‚å› ä¸ºå®ƒå·²ç»å®ç°äº†å¾ˆå¤šåŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¸Šé¢è¯´çš„é€šè¿‡ redis çš„ session å…±äº«ï¼Œåªè¦åŠ å‡ ä¸ªé…ç½®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯ tio æ˜¯åŠå¼€æºï¼Œæ–‡æ¡£æ˜¯éœ€è¦æ”¶è´¹çš„ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ï¼Œé‚£å°±å¿˜äº†ä»–ã€‚</li><li>å¦‚æœä½ çš„ä¸šåŠ¡è¦æ±‚æ¯”è¾ƒçµæ´»å¤šå˜ï¼Œæ¨èä½¿ç”¨å‰ä¸¤ç§ï¼Œæ›´æ¨èç¬¬äºŒç§ Spring å°è£…çš„å½¢å¼ã€‚</li><li>å¦‚æœåªæ˜¯ç®€å•çš„æœåŠ¡å™¨åŒå‘é€šä¿¡ï¼Œæ¨è stomp çš„å½¢å¼ï¼Œå› ä¸ºä»–æ›´å®¹æ˜“è§„èŒƒä½¿ç”¨ã€‚</li></ol><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><ol><li>websocket åœ¨çº¿éªŒè¯</li></ol><p>å†™å®ŒæœåŠ¡ç«¯ä»£ç åæƒ³è°ƒè¯•ï¼Œä½†æ˜¯ä¸ä¼šå‰ç«¯ä»£ç æ€ä¹ˆåŠï¼Œç‚¹<a href="http://coolaf.com/tool/chattest">è¿™é‡Œ</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ websocket å®¢æˆ·ç«¯ï¼ŒåŠŸèƒ½å®Œå…¨å¤Ÿæˆ‘ä»¬è°ƒè¯•äº†ã€‚</p><ol start="2"><li>stomp éªŒè¯</li></ol><p>è¿™ä¸ªæ²¡æ‰¾åˆ°åœ¨çº¿ç‰ˆçš„ï¼Œä½†æ˜¯ç½‘ä¸Šæœ‰å¾ˆå¤š demo å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°è¿›è¡Œè°ƒè¯•ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åæ–‡çš„è¿æ¥æ‰¾åˆ°ã€‚</p><ol start="3"><li>å¦å¤–ç”±äºç¯‡å¹…æœ‰é™ï¼Œå¹¶ä¸èƒ½æ”¾ä¸Šæ‰€æœ‰ä»£ç ï¼Œä½†æ˜¯æµ‹è¯•ä»£ç å…¨éƒ½ä¸Šä¼  gitlabï¼Œä¿è¯å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¯ä»¥åœ¨ Â <a href="https://github.com/kiwiflydream/study-example/tree/master/study-websocket-example">è¿™é‡Œ</a>Â  æ‰¾åˆ°</li></ol><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ol><li><a href="https://www.xncoding.com/2017/07/15/spring/sb-websocket.html">SpringBoot ç³»ç»Ÿ - é›†æˆ WebSocket å®æ—¶é€šä¿¡</a></li><li><a href="https://juejin.im/post/5b7071ade51d45665816f8c0">WebSocket çš„æ•…äº‹ï¼ˆäºŒï¼‰â€”â€” Spring ä¸­å¦‚ä½•åˆ©ç”¨ STOMP å¿«é€Ÿæ„å»º WebSocket å¹¿æ’­å¼æ¶ˆæ¯æ¨¡å¼</a></li><li><a href="https://blog.csdn.net/Ouyzc/article/details/79994401">SpringBoot é›†æˆ WebSocketã€åŸºäºçº¯ H5ã€‘è¿›è¡Œç‚¹å¯¹ç‚¹[ä¸€å¯¹ä¸€]å’Œå¹¿æ’­[ä¸€å¯¹å¤š]å®æ—¶æ¨é€</a></li><li><a href="https://segmentfault.com/a/1190000016718711">Spring Framework å‚è€ƒæ–‡æ¡£ï¼ˆWebSocket STOMPï¼‰</a></li><li><a href="https://www.zifangsky.cn/1355.html">Spring Boot ä¸­ä½¿ç”¨ WebSocket æ€»ç»“ï¼ˆä¸€ï¼‰ï¼šå‡ ç§å®ç°æ–¹å¼è¯¦è§£</a></li><li><a href="https://www.jianshu.com/p/161df01cc8af">Spring Boot ç³»åˆ— - WebSocket ç®€å•ä½¿ç”¨</a></li><li><a href="https://my.oschina.net/panzi1/blog/3062746">tio-websocket-spring-boot-starter</a></li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> websocket </category>
          
      </categories>
      
      
        <tags>
            
            <tag> websocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¹¶å‘é‚£äº›äº‹ã€‘åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼</title>
      <link href="/posts/8dfe4337/"/>
      <url>/posts/8dfe4337/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1571210975395-ea234d96-3b78-421d-92f5-1efdb5cfb706.jpeg#align=left&display=inline&height=1080&originHeight=1080&originWidth=1920&size=0&status=done&width=1920"></p><p>åˆ›å»ºçº¿ç¨‹å¯ä»¥è¯´æ˜¯å¹¶å‘çŸ¥è¯†ä¸­æœ€åŸºç¡€çš„æ“ä½œäº†ï¼ŒJDK æä¾›çš„åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œå¦‚æœä¸åŒ…æ‹¬é€šè¿‡çº¿ç¨‹æ± çš„è¯ï¼Œç›®å‰æœ‰ä¸‰ç§å½¢å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯é€šè¿‡ç»§æ‰¿ Thread ç±»ï¼Œé€šè¿‡å®ç° Runable æ¥å£ï¼Œé€šè¿‡ FutureTaskã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1571231041090-878dd721-4df8-42f9-b979-a331f1e64ff0.png">ä¸‹é¢æ•´ç†äº†ä¸€ä¸‹ 3 ç§æ–¹æ³•çš„å…·ä½“ä½¿ç”¨ä¸å¼‚åŒã€‚</p><h3 id="åˆ›å»ºçº¿ç¨‹çš„-3-ç§æ–¹æ³•"><a href="#åˆ›å»ºçº¿ç¨‹çš„-3-ç§æ–¹æ³•" class="headerlink" title="åˆ›å»ºçº¿ç¨‹çš„ 3 ç§æ–¹æ³•"></a>åˆ›å»ºçº¿ç¨‹çš„ 3 ç§æ–¹æ³•</h3><h4 id="1-ç»§æ‰¿-Thread"><a href="#1-ç»§æ‰¿-Thread" class="headerlink" title="1. ç»§æ‰¿ Thread"></a>1. ç»§æ‰¿ Thread</h4><ol><li>åˆ›å»ºä¸€ä¸ªç±»ç»§æ‰¿ Thread å¹¶è¦†ç›– run æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String threadName = getName();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;çº¿ç¨‹[&quot;</span> + threadName + <span class="string">&quot;]è¿è¡Œå¼€å§‹,i = &quot;</span> + i + <span class="string">&quot; time = &quot;</span> + <span class="keyword">new</span> Date());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MyThread myThread1 = <span class="keyword">new</span> MyThread();</span><br><span class="line">MyThread myThread2 = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line">myThread1.start();</span><br><span class="line">myThread2.start();</span><br><span class="line"></span><br><span class="line">String threadName = Thread.currentThread().getName();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çº¿ç¨‹[&quot;</span> + threadName + <span class="string">&quot;]è¿è¡Œå¼€å§‹,i = &quot;</span> + i + <span class="string">&quot; time = &quot;</span> + <span class="keyword">new</span> Date());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/__mermaid_v3/e516fbd2b0db871bf82504bdbd9140fe.svg#lake_card_v2=eyJjb2RlIjoiZ3JhcGggVEJcblx0c3RhcnQoKOW8gOWniykpIC0tPiBjcmVhdGVUaHJlYWRb5Yib5bu657un5om_6IeqVGhyZWFk55qE57G7LDxici8-5ZCM5pe26KaG55uWIHJ1biDmlrnms5VdXG5cdGNyZWF0ZVRocmVhZCAtLT4gY3JlYXRlT2JqW-WIm-W7uuWunuS-i11cblx0Y3JlYXRlT2JqIC0tPiBydW5b6LCD55So5a6e5L6L55qEIHN0YXJ0IOaWueazlV0gXG5cdHJ1biAtLT4gZW5kVCgo57uT5p2fKSlcbiIsInR5cGUiOiJtZXJtYWlkIiwiaWQiOiJPSEhtOCIsInVybCI6Imh0dHBzOi8vY2RuLm5sYXJrLmNvbS95dXF1ZS9fX21lcm1haWRfdjMvZTUxNmZiZDJiMGRiODcxYmY4MjUwNGJkYmQ5MTQwZmUuc3ZnIiwiY2FyZCI6ImRpYWdyYW0ifQ=="></p><p>è¿™é‡Œæ­¥éª¤æ¯”è¾ƒç®€å•å’Œæ¸…æ™°</p><ol><li>åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¿™ç±»è¦ç»§æ‰¿ Thread</li><li>è¦†ç›– Thread çš„ run æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­å®ç°ä½ çš„å¤šçº¿ç¨‹ä»»åŠ¡</li><li>åˆ›å»ºè¿™ä¸ªç±»çš„å®ä¾‹</li><li>è°ƒç”¨å®ƒçš„ start() æ–¹æ³•ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œæ–°æ‰‹å®¹æ˜“ç›´æ¥è°ƒç”¨ run æ–¹æ³•ï¼Œé‚£æ ·åªæ˜¯æ™®é€šè°ƒç”¨ï¼Œè€Œä¸å¤šçº¿ç¨‹è°ƒç”¨ï¼‰</li></ol><h4 id="2-å®ç°-Runable"><a href="#2-å®ç°-Runable" class="headerlink" title="2. å®ç° Runable"></a>2. å®ç° Runable</h4><ol><li>åˆ›å»ºä¸€ä¸ªç±»å®ç° Runable æ¥å£ï¼Œå¹¶è¦†ç›– run æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;çº¿ç¨‹[&quot;</span> + threadName + <span class="string">&quot;]è¿è¡Œå¼€å§‹,i = &quot;</span> + i + <span class="string">&quot; time = &quot;</span> + <span class="keyword">new</span> Date());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºç±»çš„å®ç°ï¼Œå¹¶å°†å®ƒä¼ ç»™ Thread çš„æ„é€ å‡½æ•°æ¥åˆ›å»º Thread</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MyRunable myRunable = <span class="keyword">new</span> MyRunable();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(myRunable).start();</span><br><span class="line"><span class="keyword">new</span> Thread(myRunable).start();</span><br><span class="line"></span><br><span class="line">String threadName = Thread.currentThread().getName();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çº¿ç¨‹[&quot;</span> + threadName + <span class="string">&quot;]è¿è¡Œå¼€å§‹,i = &quot;</span> + i + <span class="string">&quot; time = &quot;</span> + <span class="keyword">new</span> Date());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/__mermaid_v3/7161a3f6caeee5e7e7576532e2634d71.svg#lake_card_v2=eyJjb2RlIjoiZ3JhcGggVEJcblx0c3RhcnQoKOW8gOWniykpIC0tPiBjcmVhdGVSdW5hYmxlW-WIm-W7uuS4gOS4quWunueOsOS6hiBSdW5hYmxlIOaOpeWPo-eahOexuzxici8-LOW5tuimhuebliBydW4g5pa55rOVXVxuXHRjcmVhdGVSdW5hYmxlIC0tPiBjcmVhdGVPYmpb5Yib5bu6IFJ1bmFibGUg5a6e546w57G75a6e5L6LXVxuXHRjcmVhdGVPYmogLS0-IGNyZWF0ZVRocmVhZFvlsIYgUnVuYWJsZSDlrp7njrDnsbvlrp7kvos8YnIvPuS8oOe7mSBUaHJlYWQg5p6E6YCg5Ye95pWwPGJyLz7liJvlu7ogVGhyZWFkIOWunuS-i11cblx0Y3JlYXRlVGhyZWFkIC0tPiBydW5b6LCD55SoIHN0YXJ0IOaWueazlV1cblx0cnVuIC0tPiBlbmRUKCjnu5PmnZ8pKVxuXHQiLCJ0eXBlIjoibWVybWFpZCIsImlkIjoiM0VxZ2MiLCJ1cmwiOiJodHRwczovL2Nkbi5ubGFyay5jb20veXVxdWUvX19tZXJtYWlkX3YzLzcxNjFhM2Y2Y2FlZWU1ZTdlNzU3NjUzMmUyNjM0ZDcxLnN2ZyIsImNhcmQiOiJkaWFncmFtIn0=">å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªå®ç°äº† Runable æ¥å£çš„ç±»</li><li>è¦†ç›– run æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­å®ç°ä½ çš„å¤šçº¿ç¨‹ä»»åŠ¡</li><li>åˆ›å»º Runable æ¥å£å®ç°ç±»çš„å®ä¾‹</li><li>é€šè¿‡æŠŠä¸Šæ­¥å¾—åˆ°çš„ Runable æ¥å£å®ç°ç±»çš„å®ä¾‹ï¼Œä¼ ç»™ Â  Thread çš„æœ‰å‚æ„é€ å‡½æ•°æ¥åˆ›å»º Thread çš„å®ä¾‹</li><li>è°ƒç”¨ä¸Šæ­¥å¾—æ¥çš„ Thread å®ä¾‹çš„ start() æ–¹æ³•ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œæ–°æ‰‹å®¹æ˜“ç›´æ¥è°ƒç”¨ run æ–¹æ³•ï¼Œé‚£æ ·åªæ˜¯æ™®é€šè°ƒç”¨ï¼Œè€Œä¸å¤šçº¿ç¨‹è°ƒç”¨ï¼‰</li></ol><h4 id="3-é€šè¿‡-FutureTask"><a href="#3-é€šè¿‡-FutureTask" class="headerlink" title="3. é€šè¿‡ FutureTask"></a>3. é€šè¿‡ FutureTask</h4><ol><li>åˆ›å»ºä¸€ä¸ªå®ç°äº† Callable<T> æ¥å£çš„ç±»ï¼Œå¹¶å®ç° call æ–¹æ³• (T ä»£è¡¨ä½ æƒ³è¦çš„è¿”å›å€¼ç±»å‹)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCallerTask</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œä»»åŠ¡å¼€å§‹&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œä»»åŠ¡ç»“æŸ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¼‚æ­¥ä»»åŠ¡</span></span><br><span class="line">FutureTask&lt;String&gt; futureTask = <span class="keyword">new</span> FutureTask&lt;&gt;(<span class="keyword">new</span> MyCallerTask());</span><br><span class="line"><span class="comment">// å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line"><span class="keyword">new</span> Thread(futureTask).start();</span><br><span class="line">System.out.println(<span class="string">&quot;å…¶å®ƒæ“ä½œ&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå¹¶è·å¾—ä»»åŠ¡æ‰§è¡Œå®Œçš„ç»“æœ</span></span><br><span class="line">    String result = futureTask.get();</span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š<br><img src="https://cdn.nlark.com/yuque/__mermaid_v3/b1ffaadf81276165a310c7448b349d77.svg#lake_card_v2=eyJjb2RlIjoiZ3JhcGggVEJcblx0c3RhcnQoKOW8gOWniykpIC0tPiBjcmVhdGVDYWxsYWJsZVvliJvlu7rkuIDkuKrlrp7njrAgY2FsbGFibGUg5o6l5Y-j55qE57G7LDxici8-5bm26KaG55uWIGNhbGwg5pa55rOVXVxuXHRjcmVhdGVDYWxsYWJsZSAtLT4gY3JlYXRlQ09ialvliJvlu7ogY2FsbGFibGUg5a6e546w57G755qE5a6e5L6LXVxuXHRjcmVhdGVDT2JqIC0tPiBjcmVhdGVGT2JqW-mAmui_h-S4iuatpeeahCBjYWxsYWJsZSDlrp7kvoss5Yib5bu6IEZ1dHVyZVRhc2sg5a6e5L6LXVxuXHRjcmVhdGVGT2JqIC0tPiBjcmVhdGVUaHJlYWRb6YCa6L-H5LiK5q2l55qEIEZ1dHVyZVRhc2sg5a6e5L6LLOWIm-W7uiBUaHJlYWQg5a6e5L6LXVxuXHRjcmVhdGVUaHJlYWQgLS0-IHJ1blvosIPnlKggc3RhcnQg5pa55rOVXSBcblx0cnVuIC0tPiAgZ2V0W-iwg-eUqCBGdXR1cmVUYXNrIOWunuS-i-eahCBnZXQg5pa55rOVLOiOt-W-l-i_lOWbnuWAvF1cblx0Z2V0IC0tPiBlbmRUKCjnu5PmnZ8pKVxuXG5cdCIsInR5cGUiOiJtZXJtYWlkIiwiaWQiOiJrejhuWCIsInVybCI6Imh0dHBzOi8vY2RuLm5sYXJrLmNvbS95dXF1ZS9fX21lcm1haWRfdjMvYjFmZmFhZGY4MTI3NjE2NWEzMTBjNzQ0OGIzNDlkNzcuc3ZnIiwiY2FyZCI6ImRpYWdyYW0ifQ==">å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªå®ç°äº† <strong>Callable<T></strong> æ¥å£çš„ç±»ï¼Œè¿™é‡Œ T çš„ç±»å‹å°±æ˜¯ä½ çº¿ç¨‹ä»»åŠ¡æƒ³è¦è¿”å›çš„ç±»å‹</li><li>è¦†ç›– <strong>call</strong> æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­å®ç°ä½ çš„å¤šçº¿ç¨‹ä»»åŠ¡</li><li>åˆ›å»º <strong>Callable</strong> æ¥å£å®ç°ç±»çš„å®ä¾‹</li><li>é€šè¿‡æŠŠä¸Šæ­¥å¾—åˆ°çš„ <strong>Callable</strong> æ¥å£å®ç°ç±»çš„å®ä¾‹ï¼Œä¼ ç»™ Â  <strong>FutureTask</strong> çš„æœ‰å‚æ„é€ å‡½æ•°æ¥åˆ›å»º <strong>FutureTask</strong> çš„å®ä¾‹</li><li>é€šè¿‡æŠŠä¸Šæ­¥å¾—åˆ°çš„ Â <strong>FutureTask</strong> å®ä¾‹ï¼Œä¼ ç»™ Â  <strong>Thread</strong>Â  çš„æœ‰å‚æ„é€ å‡½æ•°æ¥åˆ›å»º <strong>Thread</strong> çš„å®ä¾‹</li><li>è°ƒç”¨ä¸Šæ­¥å¾—æ¥çš„ <strong>Thread</strong> å®ä¾‹çš„ <strong>start()</strong> æ–¹æ³•ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œæ–°æ‰‹å®¹æ˜“ç›´æ¥è°ƒç”¨ run æ–¹æ³•ï¼Œé‚£æ ·åªæ˜¯æ™®é€šè°ƒç”¨ï¼Œè€Œä¸å¤šçº¿ç¨‹è°ƒç”¨ï¼‰</li><li>å¦‚æœä½ è¿˜æƒ³è·å¾—è¿”å›å€¼ï¼Œéœ€è¦å†è°ƒç”¨ Â <strong>FutureTask **å®ä¾‹çš„ **get()</strong> æ–¹æ³•ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œget()ä¼šé˜»å¡çº¿ç¨‹ï¼‰</li></ol><h3 id="3-ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹"><a href="#3-ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="3 ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹"></a>3 ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹</h3><p>é€šè¿‡ä¸Šè¿°çš„æ¼”ç¤ºä»£ç ï¼Œå¯ä»¥çœ‹å‡ºè¿™ 3 ç§æ–¹æ³•ï¼Œå…¶å®å„æœ‰ä¼˜ç¼ºç‚¹</p><h4 id="å¤æ‚ç¨‹åº¦"><a href="#å¤æ‚ç¨‹åº¦" class="headerlink" title="å¤æ‚ç¨‹åº¦"></a>å¤æ‚ç¨‹åº¦</h4><p>é€šè¿‡ä»£ç é‡ä¸é€»è¾‘å¯ä»¥æ˜æ˜¾æ„Ÿè§‰å‡ºæ¥ï¼Œç¬¬ä¸€ç§ç›´æ¥ç»§æ‰¿ Thread æœ€æ–¹ä¾¿ï¼Œå¹¶ä¸”å…¶å®ƒä¸¤ç§åˆ°æœ€åï¼Œè¿˜æ˜¯è¦ä¾èµ–åˆ›å»º Thread æ‰èƒ½å®ç°ã€‚æ‰€ä»¥ä»æ–¹ä¾¿åŠéš¾æ˜“ç¨‹åº¦æ¥çœ‹ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“è®ºï¼š<br><em><img src="https://cdn.nlark.com/yuque/__latex/8815a238f7257e13ab9459d03677c3f2.svg#card=math&code=Thread%20%20%3E%20Runable%20%3E%20FutureTask&height=16&width=251"></em></p><h4 id="å¯æ‰©å±•æ€§"><a href="#å¯æ‰©å±•æ€§" class="headerlink" title="å¯æ‰©å±•æ€§"></a>å¯æ‰©å±•æ€§</h4><p>é€šè¿‡æ¼”ç¤ºä»£ç å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰ç¬¬ä¸€ç§æ˜¯é€šè¿‡ç»§æ‰¿ï¼Œå…¶å®ƒä¸¤ç§æ˜¯é€šè¿‡å®ç°æ¥å£çš„å½¢å¼ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ JAVA æ˜¯ä¸å…è®¸å¤šç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥å¤šå®ç°ã€‚æ‰€ä»¥å¦‚æœä½¿ç”¨äº†ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå°±æ— æ³•å†ç»§æ‰¿åˆ«çš„ç±»äº†ã€‚å¦å¤–ç¬¬ä¸€ç§æŠŠçº¿ç¨‹ä¸çº¿ç¨‹ä»»åŠ¡å†—ä½™åœ¨äº†ä¸€èµ·ï¼Œä¸åˆ©äºåæœŸçš„ç»´æŠ¤ã€‚æ‰€ä»¥å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“è®ºï¼š<br><img src="https://cdn.nlark.com/yuque/__latex/e0cbb5af2d7b897d688a44b27e4a42a2.svg#card=math&code=Runable%20%3D%20FutureTask%20%3E%20Thread&height=16&width=251"></p><h4 id="æ˜¯å¦æœ‰è¿”å›å€¼"><a href="#æ˜¯å¦æœ‰è¿”å›å€¼" class="headerlink" title="æ˜¯å¦æœ‰è¿”å›å€¼"></a>æ˜¯å¦æœ‰è¿”å›å€¼</h4><p>ä»ä»£ç ä¸­å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œåªæœ‰é€šè¿‡ FutureTask çš„æ–¹å¼æ‰æœ‰è¿”å›å€¼ï¼Œå¦å¤–ä¸¤ç§å‡æ²¡æœ‰ï¼Œæ‰€ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®º<br><img src="https://cdn.nlark.com/yuque/__latex/7416c5ebf9e2c788548d8ff6ed7a5b8a.svg#card=math&code=FutureTask%20%3E%20Runable%20%3D%20Thread&height=16&width=251"></p><h3 id="è¯¥ç”¨å“ªç§æ–¹å¼åˆ›å»ºçº¿ç¨‹"><a href="#è¯¥ç”¨å“ªç§æ–¹å¼åˆ›å»ºçº¿ç¨‹" class="headerlink" title="è¯¥ç”¨å“ªç§æ–¹å¼åˆ›å»ºçº¿ç¨‹"></a>è¯¥ç”¨å“ªç§æ–¹å¼åˆ›å»ºçº¿ç¨‹</h3><p>å¦‚æœè¦ç”¨åˆ°è¿”å›å€¼ï¼Œé‚£ä¸ç”¨æƒ³ï¼Œè‚¯å®šåªèƒ½ä½¿ç”¨ FutureTask çš„æ–¹æ³•ã€‚å¦‚æœå¯¹äºè¿”å›å€¼æ²¡æœ‰è¦æ±‚ï¼Œé‚£ Thread ä¸ Â  Runable å‡å¯ï¼Œä¸è¿‡ï¼Œè€ƒè™‘åˆ°å¯æ‰©å±•æ€§ï¼Œæœ€å¥½ä½¿ç”¨ Runable çš„å½¢å¼ã€‚ä¸è¿‡ï¼Œè¯è¯´å›æ¥ï¼Œå¦‚æœåœ¨çœŸæ­£é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œç»¼åˆè€ƒè™‘ï¼Œä¸€èˆ¬è¿˜æ˜¯æœ€æ¨èé€šè¿‡çº¿ç¨‹æ± å»åˆ›å»ºã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> å¹¶å‘é‚£äº›äº‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶å‘é‚£äº›äº‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€éšç¬”ã€‘è·³å‡ºç¨‹åºå‘˜æ€ç»´çœ‹ä¸–ç•Œ</title>
      <link href="/posts/9f58e145/"/>
      <url>/posts/9f58e145/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1570951045907-9a52ecf3-6ca0-4795-9de3-bdf2a8a92c9b.jpeg#align=left&display=inline&height=1080&originHeight=1080&originWidth=1920&size=0&status=done&width=1920"></p><p>ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘çœŸçš„æœ‰æ—¶å€™ç‰¹åˆ«æƒ³ debug è¿™ä¸ªä¸–ç•Œã€‚çœ‹çœ‹è¿™ä¸ªä¸–ç•Œç©¶ç«Ÿæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‚å› ä¸ºç»å¸¸ä¼šé‡åˆ°å¥¹çš„è¾“å‡ºè·Ÿæˆ‘æ–­è¨€çš„ä¸ä¸€æ ·ï¼Œæˆ–è€…æˆ‘è§‰å¾—æ­£å¸¸çš„è¾“å…¥ï¼Œå´è¢«å¥¹åˆ¤å®šä¸ºéæ³•ã€‚</p><p>å…ˆåˆ†äº«ä¸¤ä»¶äº‹å§ã€‚</p><p>ç¬¬ä¸€ä»¶äº‹ï¼Œè®°å¾—å»å¹´è€ƒé©¾ç…§çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯åœ¨ç»ƒç§‘ç›®ä¸‰ã€‚æ•™ç»ƒå¸¦ç€æˆ‘ç»ƒè½¦ï¼Œå½“å¼€åˆ°ä¸€ä¸ªåœ°æ–¹æ—¶ï¼Œè®©æˆ‘åœè½¦ã€‚ç„¶åè·Ÿæˆ‘è¯´ï¼šã€è¿™é‡Œæ˜¯ä¸€ä¸ªè€ƒç‚¹ï¼Œçœ‹åˆ°å‰é¢é‚£æ£µæ ‘æ²¡ï¼Ÿè€ƒè¯•çš„æ—¶å€™ï¼Œä½ æŠŠè½¦å¼€åˆ°ç¦»é‚£æ£µæ ‘å¤§æ¦‚è¿™ä¹ˆé•¿çš„è·ç¦»ï¼Œåœä¸€ä¸‹è½¦ã€ã€‚æˆ‘é¡¿æ—¶æ‡µé€¼äº†ï¼Œæˆ‘å‘ç°æˆ‘å¯¹ã€å¤§æ¦‚è¿™ä¹ˆé•¿ã€å®Œå…¨æ²¡æœ‰ä¸ªæ¦‚å¿µã€‚æˆ‘å°±é—®æ•™ç»ƒã€å¤§æ¦‚è¿™ä¹ˆé•¿æ˜¯å¤šé•¿ï¼Ÿã€ï¼Œè¿™ä¸‹å°±è½®åˆ°æ•™ç»ƒæ‡µé€¼äº†ï¼Œç„¶åï¼Œå°±å¬åˆ°ååº§æ—©å°±ç­‰çš„ä¸è€çƒ¦æ’é˜Ÿç»ƒè½¦çš„ä¸‰ä¸ªåŒå­¦è·Ÿæ•™ç»ƒå¼‚å£åŒå£°çš„å¯¹æˆ‘è¯´ã€å¤§æ¦‚è¿™ä¹ˆé•¿å°±æ˜¯è¿™ä¹ˆé•¿å‘€ã€ï¼ŒåŒæ—¶ç»™æˆ‘ä¸€ä¸ªçœ‹ç€æ™ºéšœä¸€æ ·çš„çœ¼ç¥ã€‚å¤§æ¦‚è¿™ä¹ˆé•¿å°±æ˜¯è¿™ä¹ˆé•¿ï¼Œé‚£åˆ°åº•æ˜¯å¤šé•¿ï¼Œæˆ‘å½»åº•å‡Œä¹±äº†ã€‚é‚£ä¸€åˆ»æˆ‘æ‰å‘ç°æˆ‘å’Œä¸–ç•Œä¸ä¸€æ ·ã€‚</p><p>å¥½åœ¨åæ¥æ•™ç»ƒæ²¡æœ‰æ”¾å¼ƒå¯¹æˆ‘çš„æ²»ç–—ï¼Œä½†æˆ‘èƒ½æ˜æ˜¾æ„Ÿè§‰å‡ºæ¥ï¼Œå¥¹æ•™æˆ‘çš„æ–¹å¼è·Ÿå…¶å®ƒäººä¸å¤ªä¸€æ ·ã€‚åé¢è·Ÿæˆ‘è¯´è¯çš„ç”»é£éƒ½æ˜¯è¿™æ ·çš„ã€‚ã€çœ‹åˆ°å‰é¢é‚£æ£µæ ‘æ²¡ï¼Ÿè€ƒè¯•çš„æ—¶å€™ï¼Œä½ æŠŠè½¦å¼€åˆ°ç¦»é‚£æ£µæ ‘åŠç±³çš„è·ç¦»ï¼Œåœä¸€ä¸‹è½¦ã€‚çœ‹åˆ°é‚£ä¸ªèŠ±å°æ²¡ï¼Ÿè½¦è½®ä¸èŠ±å°å¹³è¡Œï¼Œå¹¶ä¸”ä¿æŒ 20 å…¬åˆ†çš„è·ç¦»ã€‚çœ‹åˆ°å‰é¢é‚£ä¸ªç”µçº¿æ†æ²¡ï¼Ÿè½¦å¤´ä¸å®ƒçš„å¤¹è§’æˆ 60 åº¦çš„æ—¶å€™ï¼Œæ–¹å‘ç›˜åŠæ—¶å›æ­£ã€ï¼ŒåŠç±³ã€å¹³è¡Œã€20 å…¬åˆ†ã€60 åº¦ï¼Œè¿™äº›è¯è®©æˆ‘è§‰å¾—è¿™æ‰æ˜¯æ­£ç¡®çš„æè¿°ã€‚ä½†æˆ‘è¿˜æ˜¯ä¸æ˜ç™½åˆ«äººæ˜¯æ€ä¹ˆæ˜ç™½ã€å¤§æ¦‚è¿™ä¹ˆé•¿ã€æ˜¯å¤šé•¿çš„ã€‚</p><p>ç¬¬äºŒä»¶äº‹ï¼Œæˆ‘å‘ç°æˆ‘æ€ä¹ˆéƒ½å­¦ä¸ä¼šåšèœã€‚ç©¶å…¶åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘å‘ç°è‡ªå·±å®Œå…¨çœ‹ä¸æ‡‚èœè°±ã€‚æ¯æ¬¡çœ‹åˆ°é‡Œé¢å……æ–¥ç€ç±»ä¼¼ç›å°‘è®¸ã€é†‹è‹¥å¹²ã€é…±æ²¹é€‚é‡ç­‰è¿™æ ·çš„æè¿°æˆ‘éƒ½æ°”ä¸æ‰“ä¸€å¤„æ¥ã€‚æˆ‘å¦‚æœè‡ªå·±æ˜ç™½é€‚é‡æ˜¯å¤šå°‘ï¼Œæˆ‘è¿˜å»çœ‹èœè°±å¹²ä»€ä¹ˆã€‚æˆ‘ä¸€ç›´è§‰å¾—å†™è¿™ç§èœè°±çš„äººï¼Œå¿ƒé‡Œä¸€ç‚¹ B æ•°éƒ½æ²¡æœ‰ã€‚ä½†æ˜¯å‘¢ï¼Ÿè·Ÿä¸Šé¢ç»ƒè½¦çš„ä¾‹å­ä¸€æ ·ï¼Œåˆ«äººå°±æ˜¯å¯ä»¥é€šè¿‡è¿™äº›å°‘è®¸ã€è‹¥å¹²ã€é€‚é‡çš„å­—çœ¼å­¦ä¼šåšèœï¼Œè¿˜åšçš„ä¸é”™ã€‚è¿™æ ·çœ‹æ¥æˆ‘å¯èƒ½æ‰æ˜¯é‚£ä¸ªæ²¡æœ‰ B æ•°çš„é‚£ä¸ªã€‚</p><p>è¯´åˆ° B æ•°ï¼Œæˆ‘å…¶å®è§‰å¾—è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç²—ä¿—çš„è¯æ±‡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä¸€æ—¶åˆæƒ³ä¸åˆ°æœ‰ä»€ä¹ˆè¯å¯ä»¥å»æ›¿æ¢å®ƒã€‚å¦‚æœéè¦æ‰¾ä¸ªè¯çš„è¯ï¼Œæˆ‘å°±æƒ³èµ·ä»¥å‰ä¸Šå­¦æ‰“ã€è‹±é›„è”ç›Ÿã€çš„æ—¶å€™ï¼Œå„ç§å‘é˜Ÿå‹ã€‚é˜Ÿå‹æ€»æ˜¯èƒ½é¢„åˆ¤å‡ºå“ªä¸ªè‰ä¸›å¯èƒ½æœ‰äººï¼Œå“ªä¸ªåœ°æ–¹ä¼šæœ‰è°æ¥ gank ä½ ï¼Œä»€ä¹ˆæ—¶å€™è¯¥åˆ°å“ªé‡Œå»ã€‚ä»–ä»¬ä¹‹é—´çš„æ²Ÿé€šï¼Œä¸€ä¸ªçœ¼ç¥ã€ä¸€ä¸ªä¿¡å·å°±å¤Ÿäº†ã€‚è€Œæˆ‘å•¥ä¹Ÿ get ä¸åˆ°ï¼Œæ€»æ˜¯é€äººå¤´ï¼Œæ‰“å•æœºã€‚åæ¥æˆ‘å°±é—®ä»–ä»¬æ˜¯æ€ä¹ˆæ„Ÿè§‰å‡ºæ¥ï¼Œç®€ç›´åƒå¼€æŒ‚ä¸€æ ·ï¼Œæˆ‘æ€ä¹ˆä»€ä¹ˆä¹Ÿæ„Ÿè§‰ä¸åˆ°ã€‚ä»–ä»¬ç»™æˆ‘çš„è¯„ä»·æ˜¯ã€å› ä¸ºä½ æ²¡æœ‰æ„è¯†ã€ã€‚å¯¹ï¼Œå°±æ˜¯ã€æ„è¯†ã€è¿™ä¸ªè¯ã€‚</p><p>ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰æ„è¯†ã€‚å¯èƒ½æ„è¯†è¿™ä¸ªä¸œè¥¿æ¯”è¾ƒåæ„Ÿæ€§æ€ç»´ï¼Œè€Œæˆ‘åç†æ€§æ€ç»´ï¼Œä¹Ÿå¯èƒ½æˆ‘å¤©ç”Ÿå°±æ˜¯ä¸€ä¸ªæ„è¯†è–„å¼±çš„äººã€‚ä½†æ˜¯æ¯«æ— ç–‘é—®çš„æ˜¯ï¼Œå½“æˆ‘é€‰äº†ç†ç§‘ï¼Œå½“æˆ‘è¿›å…¥ç¤¾ä¼šæˆäº†ä¸€åç¨‹åºå‘˜ï¼Œéƒ½ä¸€ç›´åœ¨å¼±åŒ–æ„è¯†è¿™ä¸ªä¸œè¥¿ã€‚</p><p>å°±æ‹¿ä»£ç æ¥è¯´ï¼Œä»£ç é‡Œé¢å†™çš„æœ€å¤šçš„æ˜¯ä»€ä¹ˆï¼Œåº”è¯¥æ˜¯æ–¹æ³•ã€‚æ¯ä¸ªç³»ç»Ÿæ˜¯ç”± N ä¸ªç±»ç»„æˆï¼Œæ¯ä¸ªç±»åˆæ˜¯ç”± N ä¸ªæ–¹æ³•ç»„æˆã€‚è€Œæ–¹æ³•åˆå«å‡½æ•°ï¼Œå–è‡ªæ•°å­¦ä¸Šçš„æ¦‚å¿µã€‚wiki ä¸Šæ˜¯è¿™æ ·æè¿°å®ƒçš„ï¼Œã€<em>å‡½æ•°å°±åƒæœºå™¨æˆ–é»‘ç®±ï¼Œç»™äºˆè¾“å…¥å€¼ä¾¿äº§ç”Ÿå”¯ä¸€è¾“å‡ºå€¼ã€ã€‚</em>æ³¨æ„å”¯ä¸€è¿™ä¸ªè¯ï¼Œç†è®ºä¸Šå‡½æ•°çš„å¤–éƒ¨è¾“å…¥å€¼ä¸€æ ·ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·ã€‚æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¹Ÿæ˜¯è¿™æ ·ï¼Œå°‘éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¸€è‡´å¾ˆå¯èƒ½æ˜¯å› ä¸º BUGã€‚è¿™å°±è·Ÿæ„è¯†æ²¡æœ‰åŠæ¯›é’±å…³ç³»äº†ï¼Œé€šå¸¸åœ¨ä½ è¾“å…¥çš„æƒ…å†µå°±èƒ½çŸ¥é“ä»–åº”è¯¥æœ‰ä»€ä¹ˆæ ·çš„è¾“å‡ºï¼Œç”¨ç¨‹åºå‘˜çš„è¯è¯´å°±æ˜¯æ–­è¨€ã€‚è€Œå¦‚ä½•çŸ¥é“è¾“å‡ºæ–­è¨€ï¼Œä¸æ˜¯é æ„Ÿè§‰å‡ºæ¥çš„ï¼Œæ˜¯ä½ é€šè¿‡é€»è¾‘ä¸€æ­¥ä¸€æ­¥æ¨å¯¼å‡ºæ¥çš„ï¼Œå®¹ä¸å¾—åŠç‚¹æ„Ÿæ€§æ€ç»´åœ¨é‡Œé¢ã€‚</p><p>å¦å¤–ä¸€ä¸ªåœºæ™¯ï¼Œå¤§å®¶å°±å¾ˆç†Ÿæ‚‰äº†ã€‚å°±æ˜¯è·Ÿäº§å“ç»ç†æ—¥å¸¸åµæ¶ã€‚åµçš„åŸå› å¦‚ä¸‹ï¼Œæ¯”å¦‚åŠ éœ€æ±‚äº†ã€æ¯”å¦‚æ”¹éœ€æ±‚äº†ã€å†æ¯”å¦‚éœ€æ±‚ä¸æ˜ç¡®äº†ã€‚ã€‚ã€‚æ— å¤–ä¹éƒ½æ˜¯å›´ç»•ç€éœ€æ±‚çš„ã€‚è€Œå…¶ä¸­æœ€ä¼¤è„‘ç­‹çš„å°±æ˜¯éœ€æ±‚ä¸æ˜ç¡®ã€‚</p><p>æœ€è¿‘å‡ å¹´ AI éå¸¸ç«ï¼Œæ¯ç§èŒä¸šéƒ½æœ‰ä¸€ç§ï¼Œä»¥åä¼šä¸ä¼šè¢« AI å–ä»£çš„ç„¦è™‘ï¼Œç¨‹åºå‘˜ä¹Ÿä¸ä¾‹å¤–ã€‚ä»¥å‰å°±çœ‹åˆ°è¿‡è¿™æ ·çš„å¸–å­ï¼Œä½œè€…è¡¨è¾¾å‡ºç±»ä¼¼çš„æ‹…å¿§ã€‚å¸–å­çš„å¤§æ¦‚å†…å®¹å°±æ˜¯è§‰å¾— AI å‘å±•ååˆ†è¿…é€Ÿï¼Œå‡ä»¥æ—¶æ—¥ï¼Œå¯èƒ½ä»¥åå°±æ²¡æœ‰ä»€ä¹ˆç¨‹åºå‘˜äº†ï¼Œåªæœ‰äº§å“ç»ç†ã€‚ä»¥åå¼€å‘ç³»ç»Ÿçš„åœºæ™¯å¯èƒ½æ˜¯è¿™æ ·çš„ï¼Œäº§å“ç»ç†ç™»å½•ä¸€ä¸ª AI ç³»ç»Ÿï¼Œåœ¨ç³»ç»Ÿç•Œé¢åŠˆå“©å­å•¦æŠŠéœ€æ±‚è¾“å…¥è¿›å»ï¼Œç„¶å AI ç³»ç»Ÿæ ¹æ®è¾“å…¥çš„éœ€æ±‚ç¬é—´ç”Ÿæˆäº†ä¸€å †ä»£ç ï¼Œç»„æˆä¸€ä¸ªæ–°çš„ç³»ç»Ÿã€‚çœ‹åˆ°è¿™ä¸ªå¸–å­ï¼Œæˆ‘ç¬é—´å°±æ„Ÿå—åˆ°äº†é‚£ç§ç„¦è™‘ï¼Œç„¶åæˆ‘å°±å¾€ä¸‹æ‹‰ï¼Œçœ‹å¸–å­çš„å›å¤ï¼Œå½“æˆ‘çœ‹åˆ°å›å¤é‡Œé¢ç‚¹èµæœ€é«˜çš„é‚£ä¸€æ¡æ—¶ï¼Œæˆ‘ç«‹åˆ»å°±é‡Šç„¶äº†ã€‚ç‚¹èµæœ€é«˜çš„é‚£ä¸€æ¡å›å¤æ˜¯è¿™æ ·è¯´çš„ã€è¿™ç§åœºæ™¯æ°¸è¿œä¹Ÿä¸å¯èƒ½å‡ºç°ï¼Œé™¤éæœ‰ä¸€å¤©ï¼Œäº§å“ç»ç†èƒ½æŠŠä»–ä»¬çš„éœ€æ±‚è¯´æ¸…æ¥šã€ã€‚ğŸ¤£</p><p>éœ€æ±‚æ˜¯ç¨‹åºå‘˜ä¸äº§å“ç»ç†ä¹‹é—´æ°¸æ’çš„è¯é¢˜ã€‚æ¯æ¬¡äº§å“æéœ€æ±‚ï¼Œä½ éƒ½æ˜¯å…ˆæŠ›ä¸€ä¸ª 5W2H çš„çµé­‚æ‹·é—®ã€‚åšä»€ä¹ˆã€ä¸ºä»€ä¹ˆåšã€è°æ¥åšã€ä»€ä¹ˆæ—¶å€™åšã€åœ¨å“ªé‡Œåšã€æ€ä¹ˆåšã€åšå¤šå°‘ã€‚æœ‰ä¸€ç‚¹ä¸æ¸…æ¥šéƒ½è¦æ‰¾äº§å“ç»ç†å€’è…¾æ¸…æ¥šï¼Œè¯´ä¸æ¸…æ¥šå¤§å®¶éƒ½åˆ«ä¸‹ç­ã€‚è®°å¾—ï¼Œä»¥å‰æˆ‘åœ¨ç½‘ä¸ŠæŸ¥é¡¹ç›®ç»ç†ä¸äº§å“ç»ç†çš„åŒºåˆ«ã€‚çŸ¥ä¹ä¸Šæœ‰ä¸€ä¸ªç­”æ¡ˆè®©æˆ‘å°è±¡æ·±åˆ»ï¼Œä»–è¯´ã€äº§å“ç»ç†ç€çœ¼äºåšæ­£ç¡®çš„äº‹æƒ…ï¼Œé¡¹ç›®ç»ç†ç€çœ¼äºæ­£ç¡®çš„åšäº‹æƒ…ã€ã€‚é¡¹ç›®ç»ç†å…¶å®ä»£è¡¨äº†ç¨‹åºå‘˜è¿™ä¸€ç±»ç¾¤ä½“ã€‚è¿™ä¸ªå›ç­”å…¶å®å¾ˆå¥½çš„é˜è¿°ä¸¤è€…çš„å…³ç³»ã€‚äº§å“ç»ç†å…¶å®æ›´å¤šçš„æ˜¯è®¾è®¡å‡ºä¸€å¼ æ­£ç¡®çš„å›¾çº¸ï¼Œè€Œæˆ‘ä»¬ç¨‹åºå‘˜ä½œçš„æ˜¯æ‹¿ç€è¿™å¼ å›¾çº¸æ­£ç¡®çš„å»å®æ–½ã€‚å…¶å®ï¼Œç»å¸¸æˆ‘ä»¬ä¼šè‡ªå˜²æ˜¯æ¬ç –çš„ï¼Œä½†æ˜¯å¦‚æœä»è¿™æ–¹é¢çœ‹ï¼Œè¿˜çœŸæ˜¯è¿™ä¸ªæ ·å­ã€‚</p><p>äº§å“ç»ç†ä¼šå»æƒ³åšä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšç­‰é—®é¢˜ã€‚è€Œæˆ‘ä»¬å¯èƒ½åªæ˜¯è¢«åŠ¨å»æƒ³æ€ä¹ˆåšã€‚è¿™æ˜¯ç°åœ¨ä¼ä¸šå·¥ä½œé«˜åº¦åˆ†å·¥çš„åŸå› å¯¼è‡´çš„ã€‚è¿™æœ¬èº«æ— å¯åšéï¼Œä½†æ˜¯å¦‚æœé•¿æ­¤ä»¥å¾€ï¼Œå¯èƒ½ä¼šå‰¥å¤ºæˆ‘ä»¬çš„æ€è€ƒèƒ½åŠ›ã€‚å› ä¸ºå¾ˆå¤§ä¸€éƒ¨åˆ†æ€è€ƒï¼Œäº§å“ç»ç†å¸®ä½ åšäº†ï¼Œä½ ä¸æ¸…æ¥šçš„å°±æ‰¾äº§å“ç»ç†é—®æ¸…æ¥šï¼Œç¼ºä¹æ€è€ƒçš„è¿‡ç¨‹ï¼Œä¹…è€Œä¹…ä¹‹å¾ˆå®¹æ˜“å˜æˆäº†ä¸€ä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„ä»£ç æœºå™¨ã€‚</p><p>ä¸Šé¢è¯´çš„æ˜¯å·¥ä½œä¸Šï¼Œç”Ÿæ´»ä¸­æ›´æ˜¯è¿™æ ·ï¼Œè™½ç„¶æœ‰æœ¬ä¹¦å«ä½œã€Šäººäººéƒ½æ˜¯äº§å“ç»ç†ã€‹ï¼Œä½†æ˜¯ç°å®ä¸–ç•Œä¸­è‚¯å®šä¸æ˜¯è¿™æ ·ã€‚æ•™ç»ƒè·Ÿæˆ‘è¯´çš„æ—¶å€™ï¼Œæˆ‘æŠ›ä¸ª 5W2H é—®é¢˜ç»™å¥¹ï¼Œå¥¹å¯èƒ½è½¬èº«ä¸€è„šå°±æŠŠæˆ‘è¸¹ä¸‹è½¦äº†ã€‚ç”Ÿæ´»ä¸­å¤ªå¤šä¸å‡†ç¡®ã€ä¸æ˜ç¡®ã€ä¸ç§‘å­¦ã€ä¸å¹‚ç­‰çš„äº‹æƒ…äº†ã€‚åªèƒ½å­¦çš„å»æ¥å—ï¼Œç”Ÿæ´»ä¸­æ²¡æœ‰äº§å“ç»ç†ï¼Œå…ˆä»€ä¹ˆéƒ½ç†å¥½äº†ï¼Œç„¶åå‘Šè¯‰ä½ æ€ä¹ˆåšï¼Œä¹Ÿæ²¡æœ‰æµ‹è¯•åŒå­¦ï¼Œå¸®ä½ ä¸€ééè°ƒè¯•å®šä½é—®é¢˜ã€‚æˆ‘ä»¬ä¸èƒ½å› ä¸ºå·¥ä½œçš„åˆ†å·¥åŸå› ï¼Œå…»æˆäº†ä¾èµ–åˆ«äººæ€è€ƒçš„ä¹ æƒ¯ã€‚è¦å­¦ç€é€‚å½“çš„è·³å‡ºç¨‹åºå‘˜çš„æ€ç»´å»çœ‹è¿™ä¸ªä¸–ç•Œã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€éšç¬”ã€‘çˆ±å› æ–¯å¦ä¸ç§‘ä¸¾åˆ¶</title>
      <link href="/posts/ab94273d/"/>
      <url>/posts/ab94273d/</url>
      
        <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´çŸ¥ä¹ä¸Šæœ‰ä¸€ä¸ªçƒ­é—¨é—®é¢˜â€“ã€Š<a href="https://www.zhihu.com/question/333199024/answer/746004419">å†å²ä¸Šæœ‰å“ªä¸¤ä»¶äº‹å¬èµ·æ¥ä¸åœ¨åŒä¸€ä¸ªå¹´ä»£å®é™…ä¸Šå´åŒæ—¶å‘ç”Ÿçš„?</a>ã€‹ã€‚ç‚¹èµæœ€é«˜çš„æ˜¯ä¸‹é¢è¿™ä¸ªç­”æ¡ˆã€‚<br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1569889057813-ab936263-8827-412b-b6e4-7d9a58c62d5f.png#align=left&display=inline&height=264&name=image.png&originHeight=528&originWidth=1382&size=107427&status=done&width=691" alt="image.png"></p><p>ç­”ä¸»çš„ç­”æ¡ˆæ˜¯ã€çˆ±å› æ–¯å¦åœ¨ä»– 1905 å¹´çš„è®ºæ–‡ã€Šè®ºåŠ¨ä½“çš„ç”µåŠ¨åŠ›å­¦ã€‹ä¸­ä»‹ç»äº†å…¶ç‹­ä¹‰ç›¸å¯¹è®ºï¼ŒåŒå¹´ä¸­å›½åºŸé™¤ç§‘ä¸¾åˆ¶åº¦ã€‚ã€ï¼Œå¾ˆå¤šäººç•™è¨€å¤§å‘¼åƒæƒŠï¼Œéš¾ä»¥ç›¸ä¿¡è¿™æ˜¯åŒä¸€å¹´çš„äº‹æƒ…ã€‚è¿™ä¸ªç­”æ¡ˆå…¶å®å°±æ˜¯æœ¬æ–‡çš„é¢˜ç›®ã€‚ä¸çŸ¥é“ç‚¹å¼€è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªé¢˜ç›®çš„ä½ ï¼Œå½“æ—¶è„‘æµ·é‡Œæ˜¯ä»€ä¹ˆæ ·çš„æƒ³æ³•ã€‚æ ‡é¢˜å…šï¼ŸæŒ‚ç¾Šå¤´ä¹°ç‹—è‚‰ï¼Ÿç©¿è¶Šå°è¯´ï¼Ÿå¯èƒ½å„ç§å„æ ·çš„çŒœæµ‹ã€‚ä½†æ˜¯å¾ˆéš¾è§‰å¾—è¿™åªæ˜¯ä¸€ä¸ªç®€å•åˆ°ä¸èƒ½å†ç®€å•çš„äº‹å®é™ˆè¿°ã€‚</p><p>è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå‡ºå¤„æˆ‘å·²ç»æ‰¾ä¸åˆ°äº†ï¼Œå¤§è‡´çš„é—®é¢˜æ˜¯ã€Šç¾å›½æœ‰å“ªäº›ç»†æ€ææçš„åœ°æ–¹ï¼Ÿã€‹ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªé—®é¢˜è®©æˆ‘å°è±¡å¾ˆæ·±ã€‚ç­”ä¸»çš„å›ç­”æ˜¯ã€å½“æˆ‘ä»¬è¿˜å¤„äºæŠ—æ—¥æˆ˜äº‰çš„æ—¶å€™ï¼Œç¾å›½çš„å°æœ‹å‹å°±å·²ç»åœ¨ç”µè§†ä¸Šçœ‹ã€ŠçŒ«å’Œè€é¼ ã€‹çš„åŠ¨ç”»ç‰‡äº†ã€‚ã€</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1570095586223-649fe4cd-64fa-496a-8d81-79233a7a2cbb.png#align=left&display=inline&height=384&name=image.png&originHeight=768&originWidth=1024&size=685044&status=done&width=512" alt="image.png"></p><p>è¿™ä¸¤ä¸ªé—®é¢˜ç»™äººçš„æ„Ÿå—åº”è¯¥æ˜¯ç›¸ä¼¼çš„ï¼Œéƒ½æ˜¯éš¾ä»¥ç½®ä¿¡ï¼Œä¸å¯æ€è®®ã€‚è°èƒ½æ„è¯†åˆ°æ¸…å…‰ç»ªä¸‰åä¸€å¹´ï¼Œçˆ±å› æ–¯å¦å‘è¡¨çš„ç›¸å¯¹è®ºã€‚1939 å¹´æ­£å¤„äºæŠ—æ—¥æœ€è‰°éš¾çš„æ—¶æœŸï¼Œç¾å›½å°æœ‹å‹ç¬¬ä¸€æ¬¡åœ¨ç”µè§†ä¸Šçœ‹åˆ°ã€ŠçŒ«å’Œè€é¼ ã€‹ã€‚è€Œè¿™éƒ¨åŠ¨ç”»ç‰‡æˆ‘å°æ—¶å€™è¿˜åœ¨çœ‹ï¼Œä¹ƒè‡³ä»Šæ—¥ï¼Œè¿˜æœ‰å¾ˆå¤šé¢‘é“åœ¨æ’­æ”¾ã€‚è¿˜æœ‰è®¸è®¸å¤šå¤šè¿™æ ·è®©äººæ„Ÿè§‰å†å²é”™ä½çš„ä¾‹å­æ¯”æ¯”çš†æ˜¯ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥çœ‹<a href="https://kuaibao.qq.com/s/20190319A0LBS100">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><p>æœ€åä¸€ä¸ªä¾‹å­ï¼Œæ˜¯æˆ‘åœ¨å‰ä¸ä¹…åœ¨è¯­é›€ä¸Šçœ‹åˆ°äº†ä¸€ç¯‡åå«ã€Š<a href="https://www.yuque.com/zenany/up/high_productivity_work">é«˜æ•ˆå·¥ä½œ</a>ã€‹çš„æ–‡ç« ï¼Œé€šè¿‡è¿™ä¸ªé¢˜ç›®ï¼Œä½ æˆ–è®¸å°±å¯ä»¥çŒœåˆ°è¿™æ˜¯ä¸€ç¯‡æ•™å¤§å®¶å¦‚ä½•æé«˜å·¥ä½œæ•ˆç‡çš„æ–‡ç« ã€‚äº‹å®ä¹Ÿçš„ç¡®å¦‚æ­¤ã€‚ä½†æ˜¯æœ‰ä¸€å¼ æˆªå›¾å¾ˆå€¼å¾—ç©å‘³ã€‚ä½œè€…åœ¨è®ºè¿°å¦‚ä½•é€šè¿‡é…ç½®æ¶ˆæ¯æé†’æ¥è¾¾åˆ°æ›´é«˜æ•ˆçš„æ—¶å€™ï¼Œé…ç½®äº†ä¸€å¼ å¦‚ä¸‹çš„æˆªå›¾</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1570096864390-17546218-2d84-4db4-a7d3-46226876e79c.png#align=left&display=inline&height=141&name=image.png&originHeight=282&originWidth=1050&size=134458&status=done&width=525" alt="image.png"></p><p>å€¼å¾—ç©å‘³çš„ç‚¹å°±æ˜¯ï¼Œè¿™æ˜¯ä¸€ç¯‡æ•™å¤§å®¶æé«˜å·¥ä½œæ•ˆç‡çš„æ–‡ç« ã€‚ä½†æ˜¯é«˜æ•ˆçš„ä½œè€…ç«Ÿç„¶è¿˜è¦åˆ° 9:30 æ‰èƒ½å‡†æ—¶å›å®¶ã€‚ä¸å‡ºæ‰€æ–™ï¼Œä¸€çœ‹è¯„è®ºå°±å‘ç°æœ‰äººå·²ç»åœ¨é—®äº†</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1570097068944-e9a21b5c-ad82-4720-aed6-a7d3f7207141.png#align=left&display=inline&height=119&name=image.png&originHeight=238&originWidth=696&size=26475&status=done&width=348" alt="image.png"></p><p>ç›¸å¯¹äºè¿™ç¯‡æ–‡ç« ï¼Œä½œè€…å¯¹äºè¿™ä¸ªé—®é¢˜çš„å›å¤ï¼Œæ‰æ˜¯è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„åœ°æ–¹ï¼Œä»–çš„å›ç­”å¦‚ä¸‹</p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1570097157652-6ab2dbe7-228c-4c3f-9af5-34279adfcbdc.png#align=left&display=inline&height=178&name=image.png&originHeight=356&originWidth=1600&size=79890&status=done&width=800" alt="image.png"></p><p>çœ‹åˆ°è¿™é‡Œä½ æˆ–è®¸ä¼šå¾ˆå¥‡æ€ªï¼Œè¿™ä¸‰ä¸ªä¾‹å­æœ‰ä»€ä¹ˆå…³ç³»ï¼Œè¿™ç¯‡æ–‡ç« åˆæ˜¯åœ¨è¯´ä»€ä¹ˆï¼Ÿå…¶å®æˆ‘è‡ªå·±ä¹Ÿä¸çŸ¥é“ï¼Œå‰å¤©ï¼Œä¹Ÿå°± 2019 å¹´ 10 æœˆ 01 æ—¥çš„å›½åº†ä½³èŠ‚ï¼Œ æˆ‘ä¸Šåˆçœ‹äº†ç¥–å›½ 70 å‘¨å¹´é˜…å…µä»ªå¼ï¼Œä¸‹åˆåˆå»ç”µå½±é™¢çœ‹äº†ã€Šæˆ‘å’Œæˆ‘çš„ç¥–å›½ã€‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè„‘æµ·é‡Œåå¤å‡ºç°çš„å°±æ˜¯ä¸Šé¢ä¸‰ä¸ªç‰‡æ®µã€‚</p><p>å½“æ—¶çš„æ„Ÿå—çœŸçš„æ˜¯å¿ƒæ½®æ¾æ¹ƒï¼Œçƒ­è¡€æ¿€æ˜‚ã€‚çŸ­çŸ­å‡ åå¹´çš„å…‰æ™¯ï¼Œä¸­å›½å°±åƒå‰ä¸¤ä¸ªç­”æ¡ˆä¸€æ ·çš„ï¼Œä»ä¸€ä¸ªå°é—­ã€è½åã€ç§¯è´«ç§¯å¼±ã€ä¸€ç©·äºŒç™½ï¼Œè°éƒ½èƒ½æ¬ºè´Ÿçš„å›½å®¶ï¼Œå¥‡è¿¹èˆ¬çš„ä¸Šå‡åˆ°å¦‚ä»Šçš„ä¸–ç•Œç¬¬äºŒï¼Œæˆä¸ºäº†ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å›½å®¶èƒ½å¤Ÿå¿½è§†çš„æ°‘æ—ã€‚è€Œåˆ›é€ è¿™ä¸ªå¥‡è¿¹çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘æƒ³å°±é‚£äº›è¿½éšå›½å®¶å¤§åŠ¿ã€ç´§è·Ÿæ—¶ä»£è„šæ­¥ã€å‹¤åŠ³åŠªåŠ›å®Œæˆè‡ªå·±çš„è´£ä»»ä¸ä¹‰åŠ¡çš„æ¯ä¸ªæ™®é€šçš„äººä»¬ã€‚</p><p>1929 å¹´ 5 æœˆ 4 æ—¥ï¼Œä¸Šæµ·ã€Šç”Ÿæ´»å‘¨åˆŠã€‹åˆŠå‘ã€Šåé—®æœªæ¥ä¹‹ä¸­å›½ã€‹ï¼Œç°åœ¨è¯»èµ·æ¥çœŸçš„æ˜¯æ„Ÿæ…¨ä¸‡åƒ</p><blockquote><ol><li>å¾å›½ä¹‹å†›æƒä½•æ—¶å½’ä¸€ï¼Œåˆ†æ•£ä¹‹å†›é˜€ä½•æ—¶æ¹®ç­ï¼Ÿ</li><li>å†›äººæ²»æ”¿ä¹‹æƒä½•æ—¶å°½é™¤ï¼Œå¾å›½ä¹‹è¡Œæ”¿æƒä½•æ—¶ç»Ÿäºä¸­å¤®ï¼Ÿ</li><li>ä¸‰åå››å›½æ²»å¤–æ³•æƒä½•æ—¶å¯åºŸï¼Œå¾å›½ä¹‹å¸æ³•ä½•æ—¶è‡ªä¸»ï¼Ÿ</li><li>ç”±åŒ—æ´‹è‡³å›½åºœï¼Œå…ƒé¦–æ¦‚ä¸ºå†›ç•Œå¼ºäººï¼Œå¾å›½ä½•æ—¶è¯ç”Ÿæ–‡äººæ‰§æ”¿ï¼Ÿ</li><li>å¾å›½ä½•æ—¶ä¸¾è¡ŒçœŸæ­£ä¹‹ä»£è®®é€‰ä¸¾ï¼Œä½•æ—¶ä¸¾è¡ŒçœŸæ­£ä¹‹å›½æ°‘æ™®é€‰ï¼Ÿ</li><li>å¾å›½ä½•æ—¶å¯ç¨»äº§è‡ªä¸°ã€è°·äº§è‡ªè¶³ï¼Œä¸å¿§é¥¥é¦‘ï¼Ÿ</li><li>å¾å›½ä½•æ—¶å¯è‡ªäº§æ°´ç¬”ã€ç¯ç½©ã€è‡ªè¡Œè¡¨ã€äººå·¥è½¦ç­‰ç‰©ä»€ï¼Œä¾›å›½äººç”Ÿå­˜ä¹‹éœ€ï¼Ÿ</li><li>å¾å›½ä½•æ—¶å¯äº§å·¨é‡ä¹‹é’¢é“ã€æªç‚®ã€èˆ°èˆ¹ï¼Œä¾›ç»™å¾å›½ä¹‹è¾¹é˜²å†›ï¼Ÿ</li><li>å¾å›½ä½•æ—¶å¯è¡Œä¹‰åŠ¡ä¹‹åˆçº§æ•™è‚²ã€å…´åä¸‡ä¹‹ä¸­çº§å­¦å ‚ã€è‚²ç™¾ä¸‡ä¹‹é«˜çº§å­¦å­ï¼Ÿ</li><li>å¾å›½ä½•æ—¶å¯å‚ä¸å¯°å®‡è¯¸å¼ºå›½ä¹‹è§’é€ï¼Œæ‹“åŠ¿åŠ›äºå¢ƒå¤–ã€é€šè´¸æ˜“ä»¥å–åˆ©ã€è¾“æ–‡æ˜è€Œå’Œå¤–äººï¼Ÿ</li></ol></blockquote><p>è€Œç”¨è¡ŒåŠ¨å›ç­”è¿™äº›é—®é¢˜çš„ï¼ŒåŒæ ·æ˜¯æ¯ä¸ªåŠªåŠ›è€Œåˆæ™®é€šçš„ä¸ªä½“ã€‚å°±åƒã€Šæˆ‘å’Œæˆ‘çš„ç¥–å›½ã€‹é‡Œé¢ä¸€æ ·ï¼Œé•œå¤´å¯¹å‡†å¹¶ä¸æ˜¯ç‹ä¾¯å°†ç›¸å’Œé‚£äº›å±å’¤é£äº‘çš„å¤§äººç‰©ï¼Œè€Œæ˜¯åƒæ—æ²»è¿œã€é«˜è¿œã€è€æã€‚ã€‚ã€‚è¿™æ ·é‚£äº›å¹³å‡¡çš„ä¸èƒ½å†å¹³å‡¡ï¼Œå¯èƒ½åœ¨å†å²çš„é•¿æ²³ä¸­å¹¶æ²¡æœ‰ç•™ä¸‹ä»»ä½•åªè¨€ç‰‡è¯­çš„æ™®é€šäººã€‚ä»–ä»¬å°±æ˜¯è¿™äº›å¥‡è¿¹çš„ä¸€ä¸ªåˆä¸€ä¸ªçš„è½½ä½“ã€‚</p><p>æˆ‘ç›¸ä¿¡ä¸‹ä¸ªåå¹´ï¼Œä¸­å›½ï¼Œä¸€å®šä¼šæˆä¸ºä¸–ç•Œä¸Šæœ€å¼ºå¤§çš„å›½å®¶ã€‚ä¸­åæ°‘æ—ï¼Œä¸€å®šä¼šå‚²ç„¶å±¹ç«‹äºä¸–ç•Œä¹‹å·…ã€‚å†å®³äº†æˆ‘çš„å›½ï¼ï¼ï¼</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ä¸ªå¥½çœ‹åˆèƒ½æ‰“çš„ swagger å·¥å…·åŒ…</title>
      <link href="/posts/5f40214/"/>
      <url>/posts/5f40214/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Swaggerã€‘å¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„-Spring-Boot-é›†æˆ-swagger-çš„é¡¹ç›®"><a href="#ã€Swaggerã€‘å¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„-Spring-Boot-é›†æˆ-swagger-çš„é¡¹ç›®" class="headerlink" title="ã€Swaggerã€‘å¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„ Spring Boot é›†æˆ swagger çš„é¡¹ç›®"></a>ã€Swaggerã€‘å¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„ Spring Boot é›†æˆ swagger çš„é¡¹ç›®</h1><p><img src="http://static.coder4j.cn/mweb/15677624942810.jpg#alt="></p><p>æ®è¯´ç¨‹åºå‘˜æœ€æ¨çš„ä¸¤ä»¶äº‹ï¼šä¸€ä»¶æ˜¯åˆ«äººä¸å†™æ–‡æ¡£ï¼Œå¦ä¸€ä»¶æ˜¯è‡ªå·±å†™æ–‡æ¡£ã€‚</p><p>å¯è§æ–‡æ¡£çœŸçš„æ˜¯ç¨‹åºå‘˜ç”Ÿæ´»ä¸­ç›¸çˆ±ç›¸æ€çš„å­˜åœ¨ã€‚ä¸€æ–¹é¢å¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œä¸€ä»½<strong>å…¨é¢ã€å‡†ç¡®</strong>çš„æ–‡æ¡£ç®€ç›´å°±æ˜¯æ—…è¡Œæ—¶çš„åœ°å›¾ï¼Œçƒ¹é¥ªæ—¶çš„èœè°±ï¼Œé€šå…³æ—¶çš„æ”»ç•¥ã€‚å¯ä»¥æå¤§çš„æé«˜å¯¹æ¥çš„æ•ˆç‡ä¸å°½å¯èƒ½çš„å‡å°‘è¸©å‘çš„æ¦‚ç‡ã€‚ç„¶è€Œï¼Œä¸€ä»½<strong>å…¨é¢è€Œåˆå‡†ç¡®</strong>çš„æ–‡æ¡£è°ˆä½•å®¹æ˜“ã€‚</p><p>ä»¥æ¥å£æ–‡æ¡£æ¥è¯´ï¼Œç¨‹åºå‘˜ä¸æƒ³å†™çš„åŸå› è·Ÿå†™å•å…ƒæµ‹è¯•ä¸€æ ·ï¼Œå¾ˆå¤§ç¨‹åºä¸Šåœ¨äºå®ƒå®Œå®Œå…¨å…¨æ˜¯ä¸€ä¸ªä½“åŠ›æ´»ï¼Œæ¯«æ— åˆ›é€ æ€§å¯è¨€ï¼Œæ¯ç‡¥å¹¶ä¸”ä¹å‘³ã€‚æ›´è¦ç´§çš„å®ƒä¸æ˜¯ä¸€æ¬¡æ€§å†™å®Œå°±å¯ä»¥äº†ï¼Œè¿˜éœ€è¦ä¸åœçš„ç»´æŠ¤ï¼Œå½“ä½ çš„ä¸šåŠ¡å˜æ›´è¿›è€Œå¯¼è‡´ä»£ç å˜åŠ¨ï¼Œä½¿å¾—è¯·æ±‚å€¼ã€å“åº”å€¼ã€æ¥å£åç§°ã€å­—æ®µæ³¨é‡Šã€æ ¡éªŒä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚éƒ½å¯èƒ½ä¼šä¿®æ”¹ã€‚è¿™ä¸ªæ—¶å€™æ¥å£æ–‡æ¡£å°±è¦åŒæ­¥æ›´æ–°ã€‚å¦åˆ™å®ƒå°±ä¼šå˜çš„ä¸å‡†ç¡®äº†ã€‚å¦‚æœç»å¸¸å¯¹æ¥æ¥å£çš„åŒå­¦å¯èƒ½æ·±æœ‰ä½“ä¼šï¼Œè¿™ä¸å…‰å‡ºç°äºå…¬å¸å†…éƒ¨ï¼Œå¯¹æ¥å¤–éƒ¨æ¥å£ï¼Œæˆ–æä¾›å¤–éƒ¨æ¥å£ä¸æ—¶æœ‰è¿™æ ·çš„é—®é¢˜ã€‚</p><p><strong>å¤©ä¸‹è‹¦æ¥å£æ–‡æ¡£ä¹…çŸ£</strong>ï¼çªç„¶æœ‰ä¸€å¤©ï¼Œä¸€ä¸ªå¤´æˆ´ä¸è¢œï¼Œæ°”å®‡è½©æ˜‚çš„å¤§ä¾ å‡ºç°ï¼Œæ”¹å˜äº†è¿™ä¸ªå±€é¢ã€‚ä»–é€šè¿‡ä¸€å¥—è‡ªåˆ›çš„æ³¨è§£ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåœ¨çº¿çš„æ¥å£æ–‡æ¡£ï¼Œè€Œä¸”éšç€ä»£ç çš„å˜æ›´ï¼Œå®ƒä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚æå¤§çš„å‡å°‘äº†äººä»¬çš„å·¥ä½œé‡ã€‚ä¸ºè¡¨è¾¾å¯¹äºè¿™ä½è‹±é›„çš„æ•¬æ„ï¼Œæ±Ÿæ¹–äººç§°â€“<strong>ä¸è¢œå“¥</strong>(Swagger éŸ³è¯‘)ã€‚</p><p><img src="http://static.coder4j.cn/mweb/15678454841633.jpg#alt="></p><p>ä¸€ä¸ªå…¸å‹çš„ç”Ÿæˆå swagger çš„æ¥å£æ–‡æ¡£é¡µé¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚å…³äºä¸è¢œå“¥çš„ä¼ å¥‡æ•…äº‹ï¼Œæˆ‘ä»¬ä»Šå¤©å°±è¯´åˆ°è¿™é‡Œã€‚é€šè¿‡å›¾ç‰‡å…¶å®å¯ä»¥çœ‹å‡ºåŸç”Ÿçš„ç•Œé¢ã€åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒæœ‰é™çš„ã€‚é¦–å…ˆæ²¡æœ‰ä¸€ä¸ªç™»å½•ç•Œé¢ï¼ŒåŸºæœ¬ä¸Šåœ¨ä½¿ç”¨æ—¶æ²¡å‡ ä¸ªäººæ”¹ swagger çš„é»˜è®¤åœ°å€ã€‚æ‰€ä»¥åˆ«äººå‘ç°ä½ çš„æ¥å£åœ°å€å¾ˆå®¹æ˜“è®¿é—®åˆ°ä½ çš„ swagger é¡µé¢ï¼Œè¿™å°±å¸¦æ¥äº†å®‰å…¨é£é™©ã€‚å¦ä¸€ç‚¹å°±æ˜¯è¿™ä¸ªç•Œé¢ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œè‡³å°‘ä¸æ˜¯æˆ‘å–œæ¬¢çš„æ¬¾ã€‚è¿˜æ˜¯ä¸€ç‚¹å°±æ˜¯ç›´æ¥å¯¹æ¥èµ· Spring Boot è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦çš„ï¼Œå„ç§ bean è¦æ‰‹åŠ¨é…ç½®ï¼Œä¸€ç‚¹ä¹Ÿä¸ Spring Bootã€‚</p><p>å‡¡æ­¤ç§ç§ï¼Œç»ˆäºæœ‰ä¸€å¤©ã€‚åœ¨ github é—²é€›æ—¶ï¼Œå‘ç°äº†ä¸€ä¸ªä¸é”™çš„ swagger çš„å·¥å…·åŒ…ï¼Œä¸€ç”¨å°±çˆ±ä¸é‡Šæ‰‹ã€‚<a href="https://github.com/battcn/swagger-spring-boot">é¡¹ç›®åœ°å€</a>ä¸‹é¢å°±æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ã€‚</p><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.battcn<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.5-RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>2.1.5-RELEASE</code>æ˜¯å½“å‰çš„æœ€æ–°ç‰ˆï¼Œåç»­ç‰ˆæœ¬å¤§å®¶å¯ä»¥åœ¨é¡¹ç›®åœ°å€ä¸Šå»çœ‹ã€‚</p><h3 id="é…ç½®ç¯‡"><a href="#é…ç½®ç¯‡" class="headerlink" title="é…ç½®ç¯‡"></a>é…ç½®ç¯‡</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">swagger:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>é…ç½®ç»“æŸäº†ï¼Œå¦‚æœä½ åªæƒ³ç”¨æœ€åŸºæœ¬çš„ swagger çš„åŠŸèƒ½çš„è¯ã€‚è®¿é—®<code>http://&#123;host:port&#125;/swagger-ui.html</code>åä¼šæœ‰å¦‚ä¸‹ç•Œé¢</p><p><img src="http://static.coder4j.cn/mweb/15679291774614.jpg#alt="></p><p>è¯¥é¡¹ç›®çš„ UI æ˜¯ä½¿ç”¨ Vue é‡å†™çš„è¾ƒåŸç‰ˆæ— è®ºæ˜¯é¢œå€¼è¿˜æ˜¯åŠŸèƒ½éƒ½æœ‰å¾ˆå¤§çš„æå‡ã€‚æ¯”å¦‚æ·»åŠ äº†æœç´¢ã€æ¥å£ç»Ÿè®¡ç­‰å¾ˆå¤šå®ç”¨åŠŸèƒ½ã€‚å¦‚æœæˆ‘ä»¬æƒ³å¼€å¯ç™»å½•éªŒè¯ï¼Œé˜²æ­¢æ¥å£æ–‡æ¡£è¢«å¤–éƒ¨äººå‘˜è®¿é—®åˆ°ï¼Œåªè¦æ·»åŠ ä¸‰æ¡é…ç½®å°±å¯ä»¥äº†ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">swagger:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">security:</span></span><br><span class="line">      <span class="attr">filter-plugin:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">kiwi</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¬¡è®¿é—®æ¥å£é¡µé¢ï¼Œç•Œé¢è¢«æ‹¦æˆªäº†ï¼Œå˜æˆäº†å¦‚ä¸‹ç™»å½•ç•Œé¢ã€‚</p><p><img src="http://static.coder4j.cn/mweb/15679297752970.jpg#alt="></p><p>è¾“å…¥é…ç½®çš„è´¦å·ä¸å¯†ç ï¼Œåˆè§åˆ°äº†ç†Ÿæ‚‰çš„æ¥å£é¡µé¢äº†ã€‚</p><h3 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h3><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆæ–¹ä¾¿ï¼Œå¾ˆ easyã€‚å…¶å®è¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œå› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæ›´é‡è¦æ˜¯ä½œè€…æœ¬èº«å·²ç»å†™äº†å¾ˆå¥½çš„ä½¿ç”¨æ–‡æ¡£ï¼Œæ²¡æœ‰å¿…è¦åœ¨æœ¬æ–‡å†ä¸€ä¸€åˆ—ä¸¾å‡ºæ¥ï¼ˆå¥½å§ï¼Œå…¶å®æ˜¯æˆ‘æ‡’ï¼‰ï¼Œå¤§å®¶å¯ä»¥åˆ°<a href="https://github.com/battcn/swagger-spring-boot">é¡¹ç›®é¡µé¢</a>æ¥ç€å­¦ä¹ ã€‚å¦å¤–åœ¨ä½œè€…çš„é¡µé¢å¯ä»¥çœ‹åˆ°ä»–æœ¬äººçš„åšå®¢åœ°å€ï¼Œæ˜¯ä¸€ä¸ªå®è—åšä¸»å“¦ï¼</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç¢ç¢å¿µã€‘02(20190511)</title>
      <link href="/posts/f8a1a670/"/>
      <url>/posts/f8a1a670/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>å¦‚æœæƒ³è¦æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·ç‚¹å‡»æ–‡ç« æœ«å°¾çš„é˜…è¯»åŸæ–‡è·³è½¬è¯­é›€é˜…è¯»ã€‚</strong></p></blockquote><h4 id="1-åŠ¨ç‰©ä¸–ç•Œ"><a href="#1-åŠ¨ç‰©ä¸–ç•Œ" class="headerlink" title="1. åŠ¨ç‰©ä¸–ç•Œ Â "></a>1. åŠ¨ç‰©ä¸–ç•Œ Â </h4><p>forÂ Â <a href="https://weibo.com/tv/v/Hs374AAhp?fid=1034:4366804517065517">weibo</a><br><a href="https://www.yuque.com/buhao/blog/fty1nx?_lake_card=%7B%22status%22:%22done%22,%22name%22:%22000i7wVglx07tueoNRgQ01041200oGDw0E010.mp4%22,%22size%22:5883770,%22percent%22:0,%22id%22:%22Byr4b%22,%22videoId%22:%229b1a1b6e473c4b70bc018a8bc9a6227d%22,%22coverUrl%22:%22https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1556942614120-65b9236d-ef77-4c84-9676-ad5fa15ddcda.jpeg%22,%22aliyunVideoSrc%22:null,%22taobaoVideoId%22:%22225173898479%22,%22uploaderId%22:119443,%22authKey%22:%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiYjE4NTI2ZThkMjRkZTJiYjczMmM5OTRiZTNkOTBjNzkifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1NTc2NDQzODY=%22,%22docUrl%22:%22https://www.yuque.com/buhao/blog/fty1nx%22,%22card%22:%22video%22%7D#Byr4b"><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/119443/1556942614120-65b9236d-ef77-4c84-9676-ad5fa15ddcda.jpeg?x-oss-process=image/resize,h_450" alt="000i7wVglx07tueoNRgQ01041200oGDw0E010.mp4 (5.61MB)"></a></p><h4 id="2-æ—¶é—´æ¢æ”¶å…¥"><a href="#2-æ—¶é—´æ¢æ”¶å…¥" class="headerlink" title="2. æ—¶é—´æ¢æ”¶å…¥"></a>2. æ—¶é—´æ¢æ”¶å…¥</h4><p>forÂ <a href="https://www.yuque.com/ruanyf/share/issue-50">é˜®ä¸€å³°</a></p><blockquote><p>å‰å‡ å¤©ï¼Œæˆ‘å¬ä¸€ä¸ªå¹¿æ’­èŠ‚ç›®ã€‚ä¸»æŒäººé—®ï¼Œç°åœ¨å¾ˆå¤šäººå¼€ç½‘çº¦è½¦ï¼Œè¿™æ ·èƒ½èµšå¤šå°‘é’±ï¼Œèƒ½å¤Ÿèµšåˆ°å¤§é’±å—ï¼Ÿ<br>è¿™ä¸ªé—®é¢˜å¾ˆå®¹æ˜“å›ç­”ï¼Œç­”æ¡ˆå°±æ˜¯ä¸èƒ½ã€‚å‡ºç§Ÿè½¦å¸æœºçš„æ”¶å…¥ï¼Œä¸»è¦ç”±è¥ä¸šæ—¶é—´çš„é•¿çŸ­å†³å®šã€‚åŸºæœ¬ä¸Šï¼Œä¸€å¤©å¼€ 12 ä¸ªå°æ—¶ï¼Œå°±æ˜¯æ¯”å¼€ 6 ä¸ªå°æ—¶ï¼Œæ”¶å…¥é«˜å‡ºä¸€å€ã€‚æ¯å¤©åªæœ‰ 24 ä¸ªå°æ—¶ï¼Œå› æ­¤æ”¶å…¥å­˜åœ¨ä¸Šé™ï¼Œä¸å¯èƒ½åç¦»å¹³å‡æ°´å¹³å¾ˆè¿œã€‚<br>å‡ºç§Ÿè½¦æ˜¯â€œæ—¶é—´æ¢æ”¶å…¥â€çš„å…¸å‹è¡Œä¸šï¼ŒæŠ•å…¥çš„æ—¶é—´è¶Šå¤šï¼Œæ”¶å…¥è¶Šé«˜ï¼Œåœ¨å®¶ä¼‘æ¯å°±æ²¡æ”¶å…¥ã€‚å¾ˆå¤šè¡Œä¸šéƒ½å±äºâ€œæ—¶é—´æ¢æ”¶å…¥â€ï¼Œæ‰€æœ‰æ­¤ç±»è¡Œä¸šéƒ½èµšä¸åˆ°å¤§é’±ã€‚å› ä¸ºä½ èƒ½ç”¨æ¥äº¤æ¢çš„æ—¶é—´æ˜¯æœ‰é™çš„ï¼Œè€Œä¸”è¿›å…¥ä¸­å¹´ä»¥åï¼Œä½ å°±æ‹¿ä¸å‡ºæ›´å¤šçš„æ—¶é—´æ¥äº¤æ¢ã€‚å¼€å‡ºç§Ÿè½¦èµšé›¶èŠ±é’±ï¼Œæˆ–è€…ä½œä¸ºçŸ­æœŸè¿‡æ¸¡ï¼Œè¿™æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†ä½œä¸ºç»ˆèº«èŒä¸šæ˜¯å¾ˆç³Ÿç³•çš„ã€‚<br>æˆ‘è§‰å¾—ï¼Œè¶Šæ¥è¶Šå¤šçš„ç¨‹åºå‘˜æ­£åœ¨è½å…¥è¿™ä¸ªé™·äº•ï¼Œç”¨ç¼–ç çš„æ—¶é—´æ¢å–æ”¶å…¥ã€‚åªæœ‰ä¸åœåœ°åšé¡¹ç›®ï¼Œæ‰èƒ½æ‹¿åˆ°é’±ã€‚é¡¹ç›®åšå¾—è¶Šå¤šï¼Œæ”¶å…¥è¶Šé«˜ã€‚è¿™ä¸ªé¡¹ç›®å¼€å‘å®Œäº†ï¼Œå…¬å¸åˆè®©ä»–å»å¹²ä¸‹ä¸€ä¸ªé¡¹ç›®ã€‚ å¿™äº†å¥½å‡ å¹´ï¼Œé¡¹ç›®å®Œæˆäº†ä¸€å¤§å †ï¼Œä½†æ˜¯è‡ªå·±ä»€ä¹ˆä¹Ÿæ²¡ç•™ä¸‹ï¼Œä»¥åçš„æ”¶å…¥è¿˜è¦å–å†³äºä»é›¶å¼€å§‹çš„æ–°é¡¹ç›®ã€‚è¿™æ ·çš„è¯ï¼Œä½ è·Ÿå‡ºç§Ÿè½¦å¸æœºæœ‰ä½•ä¸¤æ ·ï¼Œå“ªä¸€å¤©ä½ ä¸å†™ä»£ç äº†ï¼Œä¸æ˜¯ç…§æ ·æ²¡æ”¶å…¥ã€‚<br>é‚£äº›èµšåˆ°å¤§é’±çš„äººï¼Œæ²¡æœ‰ä¸€ä¸ªæ˜¯é æ—¶é—´æ¢å–æ”¶å…¥çš„ã€‚ä»–ä»¬è¦ä¹ˆé€šè¿‡ç§¯ç´¯èµ„äº§è‡´å¯Œï¼Œè¦ä¹ˆè´­ä¹°ä»–äººçš„æ—¶é—´ï¼Œä¸ºè‡ªå·±åˆ›é€ è´¢å¯Œã€‚ä½ åº”è¯¥è­¦æƒ•ï¼Œä¸è¦è½å…¥â€œæ—¶é—´æ¢å–æ”¶å…¥â€çš„é™·äº•ï¼Œä¸è¦åªé¡¾ç€ä¸ºåˆ«äººç”Ÿäº§ä»£ç ï¼Œè€Œè¦æ³¨æ„ç§¯ç´¯è‡ªå·±çš„èµ„äº§ï¼Œä»¥åŠé€‚æ—¶å¼€å±•å±äºè‡ªå·±çš„ä¸šåŠ¡ã€‚</p></blockquote><h4 id="3-ç§¯ç´¯èµ„äº§"><a href="#3-ç§¯ç´¯èµ„äº§" class="headerlink" title="3. ç§¯ç´¯èµ„äº§"></a>3. ç§¯ç´¯èµ„äº§</h4><p>forÂ <a href="https://www.yuque.com/ruanyf/share/issue-45">é˜®ä¸€å³°</a></p><blockquote><p>ç¾å›½ç§‘å¹»å°è¯´å¤§å¸ˆé˜¿è¥¿è«å¤«ï¼Œå†™è¿‡ä¸€æœ¬å›å¿†å½•ã€Šäººç”Ÿèˆå°ã€‹ã€‚ä»–åœ¨é‡Œé¢æåˆ°ï¼Œæˆååï¼Œä»–çš„æ”¶å…¥ä¸€å¹´æ¯”ä¸€å¹´é«˜ï¼Œå®Œç¨¿æ—¶çš„ 1990 å¹´æ˜¯æ”¶å…¥æœ€é«˜çš„ä¸€å¹´ã€‚<br>å¾ˆä¸å¹¸ï¼Œ1992 å¹´ä»–å°±å»ä¸–äº†ï¼Œäº«å¹´ 72 å²ã€‚æ®ä»–çš„å¦»å­è¯´ï¼Œé‚£ä¸€å¹´çš„æ”¶å…¥æ¯” 1990 å¹´è¿˜è¦é«˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå»ä¸–æ—¶ï¼Œä»–è¾¾åˆ°äº†ä¸€ç”Ÿæœ€é«˜çš„å¹´æ”¶å…¥ã€‚æˆ‘å½“æ—¶å¿ƒæƒ³ï¼Œè¿™ç§æ”¶å…¥æ¨¡å¼çœŸæ˜¯å¤ªå¥½äº†ã€‚è€äº†ä»¥åï¼Œæ”¶å…¥åè€Œæ›´å¤šäº†ï¼Œæ ¹æœ¬ä¸ç”¨ä¸ºå…»è€å‘æ„ã€‚<br>å¤§å¤šæ•°äººçš„æ”¶å…¥æ¨¡å¼æ°æ°ç›¸åï¼šå·¥ä½œæ—¶è¾¾åˆ°æ”¶å…¥çš„é«˜å³°ï¼Œé€€ä¼‘åœæ­¢å·¥ä½œä»¥åï¼Œæ”¶å…¥å°±é€æ¸å‡å°‘ï¼Œäººåˆ°è€å¹´ï¼Œæ‰‹å¤´è¶Šæ¥è¶Šç´§ã€‚æ‰€ä»¥ï¼Œå¤§å¤šæ•°äººä¸ºäº†å…»è€ï¼Œå¹´è½»æ—¶å¿…é¡»è¶³å¤Ÿå‚¨è“„ã€‚è¦æ˜¯å¹´è½»å°±èƒŒè´Ÿäº†å¾ˆå¤šæˆ¿è´·å’Œå¡å€ºï¼Œè€äº†ä»¥åï¼Œå¾€å¾€ä¼šé™·å…¥å›°å¢ƒã€‚<br>ä¸ºä»€ä¹ˆé˜¿è¥¿è«å¤«è€äº†è¿˜æœ‰å¤§é‡æ”¶å…¥ï¼Œå…¶ä»–å¤§å¤šæ•°äººå°±æ²¡æœ‰å‘¢ï¼ŸåŸå› æ˜¯æ™®é€šäººçš„æ”¶å…¥ï¼Œæ¥è‡ªå‡ºå–è‡ªå·±çš„æ—¶é—´ï¼Œè€äº†ä¸å·¥ä½œï¼Œè‡ªç„¶å°±æ²¡æ”¶å…¥äº†ã€‚ä½†æ˜¯ï¼Œé˜¿è¥¿è«å¤«çš„æ”¶å…¥æ¥è‡ªäºä»–çš„ä¹¦ï¼Œè¿™äº›è‘—ä½œä¸€å†é‡ç‰ˆï¼Œä¸ºä»–å¸¦æ¥äº†ä¸€å¹´æ¯”ä¸€å¹´å¤šçš„ç‰ˆç¨æ”¶å…¥ã€‚å†åŠ ä¸Šï¼Œä»–å‹¤å¥‹å†™ä½œï¼Œæ¯å¹´éƒ½æœ‰æ–°ä¹¦é—®ä¸–ï¼Œè‡ªç„¶å°±æ”¶å…¥é«˜äº†ã€‚<br>è¿™ä»¶äº‹çš„å¯ç¤ºå°±æ˜¯ï¼Œå¦‚æœé€€ä¼‘ä»¥åï¼Œè¿˜æƒ³æœ‰ç¨³å®šçš„æ”¶å…¥ä¿éšœï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯ä½ å¿…é¡»æ‹¥æœ‰èµ„äº§ã€‚åœ¨é˜¿è¥¿è«å¤«çš„ä¾‹å­é‡Œï¼Œå°±æ˜¯ä»–æ‹¥æœ‰ç‰ˆæƒï¼Œç‰ˆæƒå°±æ˜¯ä¸€ç§äº§ç”Ÿæ”¶å…¥çš„èµ„äº§ã€‚å…¶ä»–ç±»å‹çš„èµ„äº§åŒ…æ‹¬æˆ¿äº§ã€ä¸“åˆ©ã€è‚¡æƒç­‰ç­‰ã€‚æ€»ä¹‹ï¼Œå¹´è½»æ—¶å°±å¿…é¡»æ˜ç¡®ï¼Œä½ çš„å·¥ä½œç›®æ ‡ä¸å®Œå…¨æ˜¯é«˜æ”¶å…¥ï¼Œæ›´é‡è¦çš„æ˜¯å¿…é¡»ç§¯ç´¯èµ„äº§ã€‚</p></blockquote><h4 id="4-è¡¡æ°´å‡ºæµ·"><a href="#4-è¡¡æ°´å‡ºæµ·" class="headerlink" title="4. è¡¡æ°´å‡ºæµ·"></a>4. è¡¡æ°´å‡ºæµ·</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1557029135875-5712be0c-c7b4-4e1f-913c-45668ef1b29a.png#align=left&display=inline&height=960&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1920&originWidth=1080&size=694194&status=done&style=none&width=540" alt="image.png"></p><h4 id="5-mp4-çš„èµ·å§‹æ—¶é—´"><a href="#5-mp4-çš„èµ·å§‹æ—¶é—´" class="headerlink" title="5. mp4 çš„èµ·å§‹æ—¶é—´"></a>5. mp4 çš„èµ·å§‹æ—¶é—´</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1557029183279-7b320734-2646-4faf-bb68-7685bd2e47ec.png#align=left&display=inline&height=645&name=image.png&originHeight=1290&originWidth=1080&size=443453&status=done&width=540" alt="image.png"></p><h4 id="6-è¶Šç‹¬ç«‹è¶Šè–„æƒ…"><a href="#6-è¶Šç‹¬ç«‹è¶Šè–„æƒ…" class="headerlink" title="6. è¶Šç‹¬ç«‹è¶Šè–„æƒ…"></a>6. è¶Šç‹¬ç«‹è¶Šè–„æƒ…</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1557029217211-e1df264b-ce72-416d-b0a8-74749bf753f0.png#align=left&display=inline&height=153&name=image.png&originHeight=306&originWidth=596&size=159999&status=done&width=298" alt="image.png"></p><h4 id="7-æ»´æ»´å¸æœº"><a href="#7-æ»´æ»´å¸æœº" class="headerlink" title="7. æ»´æ»´å¸æœº"></a>7. æ»´æ»´å¸æœº</h4><p>fromÂ <a href="https://wx.zsxq.com/dweb/#/index/8424258282">çŸ¥è¯†æ˜Ÿçƒ</a><br><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1557029269491-3b6c6f91-ba65-4fc8-885a-5f13d0f0532f.png#align=left&display=inline&height=1380&name=image.png&originHeight=2760&originWidth=990&size=643838&status=done&width=495" alt="image.png"></p><h4 id="8-ä¿¡æ¯æµå¹¿å‘Š"><a href="#8-ä¿¡æ¯æµå¹¿å‘Š" class="headerlink" title="8. ä¿¡æ¯æµå¹¿å‘Š"></a>8. ä¿¡æ¯æµå¹¿å‘Š</h4><p>fromÂ <a href="https://wx.zsxq.com/dweb/#/index/224555455221">çŸ¥è¯†æ˜Ÿçƒ</a></p><blockquote><p>é—®ï¼šç™¾å®¶å·é¡µé¢å¾ˆå¹²å‡€ï¼Œåªæœ‰å³ä¸‹è§’ä¸€ä¸ªå¹¿å‘Šä½ï¼Œè¿˜è¦åˆ†é’±ç»™ä½œè€…ï¼Œç™¾åº¦ä¸æ˜¯äºæ­»äº†ï¼Ÿ<br>ç­”ï¼šè¯´ä¸€ä¸ªå¾ˆé¢ è¦†å¤§å®¶è®¤çŸ¥çš„ï¼Œä¹Ÿæ˜¯æœ€è¿‘äº†è§£äº†å¹¿å‘Šè¡Œä¸šæ‰çŸ¥é“çš„äº‹æƒ…ã€‚<br>ä¿¡æ¯æµçš„å¹¿å‘Šä½æ˜¯æœ€å€¼é’±çš„ï¼Œå› ä¸ºè½¬åŒ–æ•ˆæœæœ€å¥½ï¼Œå¤§å¤šæ•°å¹¿å‘Šä¸»æŠ•æ”¾ï¼Œéƒ½æ˜¯æŠ•ä¿¡æ¯æµå¹¿å‘Šï¼Œæ¯”å¦‚å¤´æ¡ä¿¡æ¯æµã€ç™¾åº¦ä¿¡æ¯æµç­‰ç­‰ã€‚<br>è¯¦æƒ…é¡µçš„å¹¿å‘Šä½æ›´ä¾¿å®œï¼Œä½†æ˜¯è½¬åŒ–æ•ˆæœæ²¡é‚£ä¹ˆå¥½ï¼Œæ‰€ä»¥å¹¿å‘Šä¸»æŠ•æ”¾çš„æ¯”è¾ƒå°‘ã€‚<br>å¯¹äºå¤´æ¡å’Œç™¾åº¦æ¥è¯´ï¼Œä¿¡æ¯æµå¹¿å‘Šä½æ‰æ˜¯æœ€èµšé’±çš„ï¼Œç„¶è€Œé¸¡è´¼çš„æ˜¯ï¼Œä»–ä»¬ä¸ä¼šåˆ†ä¿¡æ¯æµçš„é’±ç»™ä½ ï¼Œåªä¼šåˆ†å†…é¡µçš„é’±ç»™ä½ ã€‚#å¹¿å‘ŠçŸ¥è¯†</p></blockquote><h4 id="9-SCQA"><a href="#9-SCQA" class="headerlink" title="9. SCQA"></a>9. SCQA</h4><p>fromÂ <a href="https://mp.weixin.qq.com/s/j3-g1t1R9wF9RlhlN387ew">å…¬ä¼—å·</a></p><blockquote><p>SCQA å™äº‹æ¨¡å¼å„ä¸ªå­—æ¯æ˜¯æŒ‡ï¼š<br>S ï¼šSituation(èƒŒæ™¯)Â <br>C ï¼šComplication(å†²çª)</p></blockquote><blockquote><p>Q ï¼šQuestion(ç–‘é—®)</p></blockquote><blockquote><p>A ï¼šAnswer(è§£ç­”)</p></blockquote><blockquote></blockquote><blockquote><p>SCQA å™äº‹æ¨¡å¼èƒ½ç»™è¯»è€…æˆ–è€…è§‚ä¼—ä¸€ä¸ªç¯å¢ƒã€èƒŒæ™¯ï¼Œè®©å…¶ç½®èº«å…¶ä¸­ï¼Œæ˜ç™½ä¸‹é¢è¦å…³æ³¨çš„æ˜¯ä»€ä¹ˆï¼Œéœ€è¦åšçš„æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·ä»–æ‰èƒ½æ›´å¥½åœ°å»æ¥æ”¶ä½ ä¹‹åçš„ä¿¡æ¯ã€‚</p></blockquote><blockquote></blockquote><blockquote><p>æ¯”å¦‚è¯´ä¸€ä¸ªæ•…äº‹æ˜¯è¿™æ ·è®²çš„ï¼š</p></blockquote><blockquote></blockquote><blockquote></blockquote><blockquote><p>â€œç‹å­è¯´æœäº†å›½ç‹ï¼Œè¿å¨¶äº†é‚»å›½çš„å…¬ä¸»ï¼Œä»–ä»¬è¿‡ä¸Šäº†å¹¸ç¦ç¾æ»¡çš„ç”Ÿæ´»ã€‚å‡ ä¸ªæœˆå‰ï¼Œç‹å­è·Ÿå¥³å·«è¿›è¡Œäº†æ—·ä¸–çš„å†³æ–—ï¼Œæœ€ç»ˆæ€æ­»äº†å¥³å·«ã€‚åœ¨è¿™ä¹‹å‰ï¼Œç‹å­æ¯å¤©è¾›è‹¦ç»ƒä¹ å‰‘æ³•ï¼Œç”¨å‰‘çš„èƒ½åŠ›ä¸æ–­æå‡ï¼Œå› ä¸ºä¹‹å‰è¿™ä¸ªå¥³å·«ä¸å…è®¸ç‹å­å’Œå…¬ä¸»çš„æ‹çˆ±ï¼Œè¿™è®©ç‹å­æƒ³è¦é™¤æ‰è¿™ä¸ªå¥³å·«ã€‚å¯¹äº†ï¼Œè¿™ä¸ªæ•…äº‹å‘ç”Ÿåœ¨ä¸€ä¸ªå¤è€çš„ç‹å›½ã€‚â€</p></blockquote><blockquote><p>ä½¿ç”¨ SCQA æ¨¡å¼ä¹‹åï¼Œæ•…äº‹ä¼šå˜å¾—æ¸…æ™°ã€æ¡ä¾‹ï¼Œå¬ä¼—ä¼šè§‰å¾—æ›´æœ‰å¸å¼•åŠ›ï¼š</p></blockquote><blockquote></blockquote><blockquote><p>**S:Â **ä»å‰æœ‰ä¸€ä¸ªå¤è€çš„ç‹å›½ï¼Œç‹å­çˆ±ä¸Šäº†é‚»å›½å…¬ä¸»ã€‚</p></blockquote><blockquote></blockquote><blockquote><p><strong>C:</strong>Â  ä½†æ˜¯é‚ªæ¶çš„å¥³å·«ä¸å…è®¸ç‹å­å’Œå…¬ä¸»åœ¨ä¸€èµ·ã€‚</p></blockquote><blockquote></blockquote><blockquote><p><strong>Q:</strong>Â  é‚£æ€ä¹ˆåŠï¼Ÿç‹å­æƒ³äº†å„ç§åŠæ³•ï¼š</p></blockquote><blockquote></blockquote><blockquote><p><strong>A:</strong></p></blockquote><blockquote><p>é¦–å…ˆï¼Œç‹å­åŠªåŠ›æé«˜è‡ªå·±çš„å‰‘æœ¯ï¼Œè·å¾—äº†å’Œå¥³å·«å†³æ–—çš„èƒ½åŠ›</p></blockquote><blockquote><p>ç„¶åï¼Œä»–ç”¨æ¿€å°†æ³•åˆºæ¿€äº†å¥³å·«ï¼Œå¹¶ä¸å¥¹å†³æˆ˜ï¼Œç»ˆäºæ€æ­»äº†å¥³å·«</p></blockquote><blockquote><p>æœ€åï¼Œä»–è¯´æœäº†å›½ç‹å¹¶æœ€ç»ˆè¿å¨¶äº†é‚»å›½çš„å…¬ä¸»</p></blockquote><blockquote></blockquote><blockquote><p>å°† SCQA è¿ç”¨åˆ°æŠ€æœ¯æ–¹æ¡ˆè®²è§£ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå…ˆæè¿°èƒŒæ™¯ï¼Œç„¶åè¯´ä¸‹é‡åˆ°ä»€ä¹ˆå›°éš¾ï¼Œå…³é”®æ˜¯æå‡ºå¥½é—®é¢˜è®©äººå®¶æ€è€ƒï¼Œæœ€åäº®å‡ºè‡ªå·±æ¨èçš„è§£å†³æ–¹æ¡ˆï¼Œæ€è·¯é¡ºç•…è€Œè‡ªç„¶ã€‚</p></blockquote><h4 id="10-é«˜è€ƒç§»æ°‘"><a href="#10-é«˜è€ƒç§»æ°‘" class="headerlink" title="10. é«˜è€ƒç§»æ°‘"></a>10. é«˜è€ƒç§»æ°‘</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1557644336231-6afb4500-48d7-4709-9a1a-05c1af1369d6.png#align=left&display=inline&height=447&name=image.png&originHeight=893&originWidth=1038&size=754254&status=done&width=519" alt="image.png"></p><h4 id="11-è®©ä½ å¼ºå¤§çš„ï¼Œç»ˆå°†åŸ‹è‘¬ä½ ã€‚"><a href="#11-è®©ä½ å¼ºå¤§çš„ï¼Œç»ˆå°†åŸ‹è‘¬ä½ ã€‚" class="headerlink" title="11.Â  è®©ä½ å¼ºå¤§çš„ï¼Œç»ˆå°†åŸ‹è‘¬ä½ ã€‚"></a>11.Â  è®©ä½ å¼ºå¤§çš„ï¼Œç»ˆå°†åŸ‹è‘¬ä½ ã€‚</h4><p>fromÂ <a href="https://juejin.im/entry/5cd67b5bf265da039d32a138">æ˜é‡‘</a></p><blockquote><p>è®©ä½ å¼ºå¤§çš„ï¼Œç»ˆå°†åŸ‹è‘¬ä½ ã€‚</p></blockquote><h4 id="12-æµæ„Ÿ"><a href="#12-æµæ„Ÿ" class="headerlink" title="12. æµæ„Ÿ"></a>12. æµæ„Ÿ</h4><p>fromÂ  å°¤ç“¦å°”â€¢èµ«æ‹‰åˆ©</p><blockquote><p>AI çœ¼é‡Œçš„çˆ±æƒ…ï¼Œè·Ÿä¸€åœºæµæ„Ÿæ²¡æœ‰åŒºåˆ«ã€‚</p></blockquote><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> ç¢ç¢å¿µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¢ç¢å¿µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMH ç®€å•å…¥é—¨</title>
      <link href="/posts/b8755310/"/>
      <url>/posts/b8755310/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1545838278500-0e333b6c-2ca5-4a0a-a7d6-59799f11ff91.png#align=left&display=inline&height=480&originHeight=480&originWidth=720&status=done&width=720"></p><h2 id="ä»€ä¹ˆæ˜¯-JMH"><a href="#ä»€ä¹ˆæ˜¯-JMH" class="headerlink" title="ä»€ä¹ˆæ˜¯ JMH"></a>ä»€ä¹ˆæ˜¯ JMH</h2><p>JMH æ˜¯ Java Microbenchmark Harness çš„ç¼©å†™ã€‚ä¸­æ–‡æ„æ€å¤§è‡´æ˜¯ â€œJAVA å¾®åŸºå‡†æµ‹è¯•å¥—ä»¶â€ã€‚é¦–å…ˆå…ˆæ˜ç™½ä»€ä¹ˆæ˜¯â€œåŸºå‡†æµ‹è¯•â€ã€‚ç™¾åº¦ç™¾ç§‘ç»™çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><blockquote><p><a href="https://baike.baidu.com/item/%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95/5876292">åŸºå‡†æµ‹è¯•</a>æ˜¯æŒ‡é€šè¿‡è®¾è®¡ç§‘å­¦çš„æµ‹è¯•æ–¹æ³•ã€æµ‹è¯•å·¥å…·å’Œæµ‹è¯•ç³»ç»Ÿï¼Œå®ç°å¯¹ä¸€ç±»æµ‹è¯•å¯¹è±¡çš„æŸé¡¹æ€§èƒ½æŒ‡æ ‡è¿›è¡Œå®šé‡çš„å’Œå¯å¯¹æ¯”çš„æµ‹è¯•ã€‚</p></blockquote><p>å¯ä»¥ç®€å•çš„ç±»æ¯”æˆæˆ‘ä»¬ç”µè„‘å¸¸ç”¨çš„é²å¤§å¸ˆï¼Œæˆ–è€…æ‰‹æœºå¸¸ç”¨çš„è·‘åˆ†è½¯ä»¶å®‰å…”å…”ä¹‹ç±»çš„æ€§èƒ½æ£€æµ‹è½¯ä»¶ã€‚éƒ½æ˜¯æŒ‰ä¸€å®šçš„åŸºå‡†æˆ–è€…åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å»æµ‹è¯•æŸä¸€å¯¹è±¡çš„çš„æ€§èƒ½ï¼Œæ¯”å¦‚æ˜¾å¡ã€IOã€CPU ä¹‹ç±»çš„ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-JMH"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-JMH" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ JMH"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ JMH</h2><p>åŸºå‡†æµ‹è¯•çš„ç‰¹è´¨æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><blockquote><p><strong>â‘ ã€å¯é‡å¤æ€§</strong>ï¼šå¯è¿›è¡Œé‡å¤æ€§çš„æµ‹è¯•ï¼Œè¿™æ ·åšæœ‰åˆ©äºæ¯”è¾ƒæ¯æ¬¡çš„æµ‹è¯•ç»“æœï¼Œå¾—åˆ°æ€§èƒ½ç»“æœçš„é•¿æœŸå˜åŒ–è¶‹åŠ¿ï¼Œä¸ºç³»ç»Ÿè°ƒä¼˜å’Œä¸Šçº¿å‰çš„å®¹é‡è§„åˆ’åšå‚è€ƒã€‚</p></blockquote><blockquote><p><strong>â‘¡ã€å¯è§‚æµ‹æ€§</strong>ï¼šé€šè¿‡å…¨æ–¹ä½çš„ç›‘æ§ï¼ˆåŒ…æ‹¬æµ‹è¯•å¼€å§‹åˆ°ç»“æŸï¼Œæ‰§è¡Œæœºã€æœåŠ¡å™¨ã€æ•°æ®åº“ï¼‰ï¼ŒåŠæ—¶äº†è§£å’Œåˆ†ææµ‹è¯•è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p></blockquote><blockquote><p><strong>â‘¢ã€å¯å±•ç¤ºæ€§</strong>ï¼šç›¸å…³äººå‘˜å¯ä»¥ç›´è§‚æ˜äº†çš„äº†è§£æµ‹è¯•ç»“æœï¼ˆweb ç•Œé¢ã€ä»ªè¡¨ç›˜ã€æŠ˜çº¿å›¾æ ‘çŠ¶å›¾ç­‰å½¢å¼ï¼‰ã€‚</p></blockquote><blockquote><p><strong>â‘£ã€çœŸå®æ€§</strong>ï¼šæµ‹è¯•çš„ç»“æœåæ˜ äº†å®¢æˆ·ä½“éªŒåˆ°çš„çœŸå®çš„æƒ…å†µï¼ˆçœŸå®å‡†ç¡®çš„ä¸šåŠ¡åœºæ™¯+ä¸ç”Ÿäº§ä¸€è‡´çš„é…ç½®+åˆç†æ­£ç¡®çš„æµ‹è¯•æ–¹æ³•ï¼‰ã€‚</p></blockquote><blockquote><p><strong>â‘¤ã€å¯æ‰§è¡Œæ€§</strong>ï¼šç›¸å…³äººå‘˜å¯ä»¥å¿«é€Ÿçš„è¿›è¡Œæµ‹è¯•éªŒè¯ä¿®æ”¹è°ƒä¼˜ï¼ˆå¯å®šä½å¯åˆ†æï¼‰ã€‚</p></blockquote><p>å¯è§è¦åšä¸€æ¬¡ç¬¦åˆç‰¹è´¨çš„åŸºå‡†æµ‹è¯•ï¼Œæ˜¯å¾ˆç¹çä¹Ÿå¾ˆå›°éš¾çš„ã€‚å¤–ç•Œå› ç´ å¾ˆå®¹æ˜“å½±å“åˆ°æœ€ç»ˆçš„æµ‹è¯•ç»“æœã€‚ç‰¹åˆ«å¯¹äº JAVA çš„åŸºå‡†æµ‹è¯•ã€‚</p><p>æœ‰äº›æ–‡ç« ä¼šå‘Šè¯‰æˆ‘ä»¬ JAVA æ˜¯ C++ç¼–å†™çš„ï¼Œä¸€èˆ¬æ¥è¯´ JAVA ç¼–å†™çš„ç¨‹åºä¸å¤ªå¯èƒ½æ¯” C++ç¼–å†™çš„ä»£ç è¿è¡Œæ•ˆç‡æ›´å¥½ã€‚ä½†æ˜¯ JAVA åœ¨æŸäº›åœºæ™¯çš„ç¡®è¦æ¯” C++è¿è¡Œçš„æ›´é«˜æ•ˆã€‚ä¸è¦è§‰å¾—å¤©æ–¹å¤œè°­ã€‚å…¶å® JVM éšç€è¿™äº›å¹´çš„å‘å±•å·²ç»å˜å¾—å¾ˆæ™ºèƒ½ï¼Œå®ƒä¼šåœ¨è¿è¡ŒæœŸé—´ä¸æ–­çš„å»ä¼˜åŒ–ã€‚</p><p>è¿™å¯¹äºæˆ‘ä»¬ç¨‹åºæ¥è¯´æ˜¯å¥½äº‹ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æµ‹è¯•å°±å¤´ç–¼çš„ã€‚ä½ è¿è¡Œçš„æ¬¡æ•°ä¸æ—¶é—´ä¸åŒå¯èƒ½è·å¾—çš„ç»“æœä¹Ÿä¸åŒï¼Œå¾ˆéš¾è·å¾—ä¸€ä¸ªæ¯”è¾ƒç¨³å®šçš„ç»“æœã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæœ‰ä¸€ä¸ªè§£å†³åŠæ³•å°±æ˜¯å¤§é‡çš„é‡å¤è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨çœŸæ­£æµ‹è¯•å‰è¿˜è¦è¿›è¡Œä¸€å®šçš„é¢„çƒ­ï¼Œä½¿ç»“æœå°½å¯èƒ½çš„å‡†ç¡®ã€‚</p><p>é™¤äº†è¿™äº›ï¼Œå¯¹äºç»“æœæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå¾ˆå¥½çš„å±•ç¤ºï¼Œå¯ä»¥è®©æˆ‘ä»¬é€šè¿‡è¿™äº›å±•ç¤ºç»“æœåˆ¤æ–­æ€§èƒ½çš„å¥½åã€‚</p><p><strong>è€Œè¿™äº› JMH éƒ½æœ‰ï¼</strong>ğŸ˜Š</p><h2 id="å¦‚ä½•ä½¿ç”¨-JMH"><a href="#å¦‚ä½•ä½¿ç”¨-JMH" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ JMH"></a>å¦‚ä½•ä½¿ç”¨ JMH</h2><p>ä¸‹é¢æˆ‘ä»¬ä»¥å­—ç¬¦ä¸²æ‹¼æ¥çš„å‡ ç§æ–¹æ³•ä¸ºä¾‹å­ä½¿ç”¨ JMH åšåŸºå‡†æµ‹è¯•ã€‚</p><h3 id="1-å¯¼å…¥ä¾èµ–"><a href="#1-å¯¼å…¥ä¾èµ–" class="headerlink" title="1. å¯¼å…¥ä¾èµ–"></a>1. å¯¼å…¥ä¾èµ–</h3><blockquote><p>JMH æ˜¯ JDK9 è‡ªå¸¦çš„ï¼Œå¦‚æœä½ æ˜¯ JDK9 ä¹‹å‰çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥é€šè¿‡å¯¼å…¥ openjdk</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjdk.jmh<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jmh-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.19<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjdk.jmh<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jmh-generator-annprocess<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.19<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-ç›®å½•ç»“æ„"><a href="#2-ç›®å½•ç»“æ„" class="headerlink" title="2. ç›®å½•ç»“æ„"></a>2. ç›®å½•ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">   â”œâ”€â”€ main</span><br><span class="line">   â”‚  â””â”€â”€ java</span><br><span class="line">   â”‚     â””â”€â”€ cn</span><br><span class="line">   â”‚        â””â”€â”€ coder4j</span><br><span class="line">   â”‚           â””â”€â”€ study</span><br><span class="line">   â”‚              â””â”€â”€ demo</span><br><span class="line">   â”‚                 â””â”€â”€ jmh</span><br><span class="line">   â”‚                    â”œâ”€â”€ benchmark</span><br><span class="line">   â”‚                    â”‚  â””â”€â”€ StringConnectBenchmark.java</span><br><span class="line">   â”‚                    â””â”€â”€ runner</span><br><span class="line">   â”‚                       â””â”€â”€ StringBuilderRunner.java</span><br><span class="line">   â””â”€â”€ <span class="built_in">test</span></span><br><span class="line">      â””â”€â”€ java</span><br><span class="line">         â””â”€â”€ cn</span><br><span class="line">            â””â”€â”€ coder4j</span><br><span class="line">               â””â”€â”€ study</span><br><span class="line">                  â””â”€â”€ demo</span><br></pre></td></tr></table></figure><h3 id="3-å…·ä½“ä»£ç "><a href="#3-å…·ä½“ä»£ç " class="headerlink" title="3. å…·ä½“ä»£ç "></a>3. å…·ä½“ä»£ç </h3><ul><li>StringBuilderRunner.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * coder4j.cn</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2013-2018 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.demo.jmh.runner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.coder4j.study.demo.jmh.benchmark.StringConnectBenchmark;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.annotations.Mode;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.Runner;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.RunnerException;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.Options;</span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.runner.options.OptionsBuilder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> StringBuilderRunner.java, v 0.1 2018-12-25 09:53 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringBuilderRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">( String[] args )</span> <span class="keyword">throws</span> RunnerException </span>&#123;</span><br><span class="line">        Options opt = <span class="keyword">new</span> OptionsBuilder()</span><br><span class="line">                <span class="comment">// å¯¼å…¥è¦æµ‹è¯•çš„ç±»</span></span><br><span class="line">                .include(StringConnectBenchmark.class.getSimpleName())</span><br><span class="line">                <span class="comment">// é¢„çƒ­5è½®</span></span><br><span class="line">                .warmupIterations(<span class="number">5</span>)</span><br><span class="line">                <span class="comment">// åº¦é‡10è½®</span></span><br><span class="line">                .measurementIterations(<span class="number">10</span>)</span><br><span class="line">                .mode(Mode.Throughput)</span><br><span class="line">                .forks(<span class="number">3</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Runner(opt).run();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>StringConnectBenchmark.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * coder4j.cn</span></span><br><span class="line"><span class="comment"> * Copyright (C) 2013-2018 All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.study.demo.jmh.benchmark;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.openjdk.jmh.annotations.Benchmark;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> StringConnectBenchmark.java, v 0.1 2018-12-25 09:29 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringConnectBenchmark</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²æ‹¼æ¥ä¹‹ StringBuilder åŸºå‡†æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStringBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="keyword">new</span> StringBuilder().append(<span class="number">1</span>).append(<span class="number">2</span>).append(<span class="number">3</span>).toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²æ‹¼æ¥ä¹‹ç›´æ¥ç›¸åŠ åŸºå‡†æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStringAdd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="keyword">new</span> String()+ <span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²æ‹¼æ¥ä¹‹String ConcatåŸºå‡†æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStringConcat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="keyword">new</span> String().concat(<span class="string">&quot;1&quot;</span>).concat(<span class="string">&quot;2&quot;</span>).concat(<span class="string">&quot;3&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²æ‹¼æ¥ä¹‹ StringBuffer åŸºå‡†æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStringBuffer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="keyword">new</span> StringBuffer().append(<span class="number">1</span>).append(<span class="number">2</span>).append(<span class="number">3</span>).toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²æ‹¼æ¥ä¹‹ StringFormat åŸºå‡†æµ‹è¯•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Benchmark</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStringFormat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(String.format(<span class="string">&quot;%s%s%s&quot;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-è¿è¡Œç»“æœ"><a href="#4-è¿è¡Œç»“æœ" class="headerlink" title="4. è¿è¡Œç»“æœ"></a>4. è¿è¡Œç»“æœ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run progress: 93.33% complete, ETA 00:00:15</span></span><br><span class="line"><span class="comment"># Fork: 3 of 3</span></span><br><span class="line">objc[12440]: Class JavaLaunchHelper is implemented <span class="keyword">in</span> both /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre/bin/java (0x106a7d4c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x106af74e0). One of the two will be used. Which one is undefined.</span><br><span class="line"><span class="comment"># Warmup Iteration   1: 747281.755 ops/s</span></span><br><span class="line"><span class="comment"># Warmup Iteration   2: 924220.081 ops/s</span></span><br><span class="line"><span class="comment"># Warmup Iteration   3: 1129741.585 ops/s</span></span><br><span class="line"><span class="comment"># Warmup Iteration   4: 1135268.541 ops/s</span></span><br><span class="line"><span class="comment"># Warmup Iteration   5: 1062994.936 ops/s</span></span><br><span class="line">Iteration   1: 1142834.160 ops/s</span><br><span class="line">Iteration   2: 1143207.472 ops/s</span><br><span class="line">Iteration   3: 1178363.827 ops/s</span><br><span class="line">Iteration   4: 1156408.897 ops/s</span><br><span class="line">Iteration   5: 1123123.829 ops/s</span><br><span class="line">Iteration   6: 1086029.992 ops/s</span><br><span class="line">Iteration   7: 1108795.147 ops/s</span><br><span class="line">Iteration   8: 1125522.731 ops/s</span><br><span class="line">Iteration   9: 1120021.744 ops/s</span><br><span class="line">Iteration  10: 1119916.181 ops/s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Result <span class="string">&quot;cn.coder4j.study.demo.jmh.benchmark.StringConnectBenchmark.testStringFormat&quot;</span>:</span><br><span class="line">  1132633.183 Â±(99.9%) 16252.303 ops/s [Average]</span><br><span class="line">  (min, avg, max) = (1082146.355, 1132633.183, 1182418.648), stdev = 24325.684</span><br><span class="line">  CI (99.9%): [1116380.879, 1148885.486] (assumes normal distribution)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Run complete. Total time: 00:03:57</span></span><br><span class="line"></span><br><span class="line">Benchmark                                  Mode  Cnt          Score         Error  Units</span><br><span class="line">StringConnectBenchmark.testStringAdd      thrpt   30   63728919.269 Â±  906608.141  ops/s</span><br><span class="line">StringConnectBenchmark.testStringBuffer   thrpt   30  112423521.098 Â± 1157072.848  ops/s</span><br><span class="line">StringConnectBenchmark.testStringBuilder  thrpt   30  110558976.274 Â±  654163.111  ops/s</span><br><span class="line">StringConnectBenchmark.testStringConcat   thrpt   30   44820009.200 Â±  524305.660  ops/s</span><br><span class="line">StringConnectBenchmark.testStringFormat   thrpt   30    1132633.183 Â±   16252.303  ops/s</span><br></pre></td></tr></table></figure><h3 id="5-ä»£ç è§£æ"><a href="#5-ä»£ç è§£æ" class="headerlink" title="5. ä»£ç è§£æ"></a>5. ä»£ç è§£æ</h3><ul><li>StringBuilderRunner</li></ul><p>è¿™ä¸ª runner ç±»çš„ä½œç”¨ï¼Œå°±æ˜¯å¯åŠ¨åŸºå‡†æµ‹è¯•ã€‚</p><p>JMH é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼å¯åŠ¨ï¼Œä¸€ç§å°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ maven å‘½ä»¤æ‰§è¡Œã€‚è¿™ç§é€‚åˆå¯¹äºå¤§å‹åŸºå‡†æµ‹è¯•ï¼Œåƒé‚£äº›è¦è¿è¡Œå¾ˆå¤šå¾ˆå¤šæ¬¡ï¼Œå¹¶ä¸”è¿è¡Œçš„æ—¶é—´ä¹Ÿå¾ˆé•¿çš„æƒ…å†µä¸‹ã€‚ä½ å¯ä»¥ç›´æ¥æ‰“ä¸ª jar åŒ…ï¼Œå‘åˆ°æœåŠ¡å™¨ä¸Šï¼Œæ•²ä¸ªå‘½ä»¤å°±ä¸ç”¨ç®¡å®ƒï¼Œè¿‡å‡ ååˆ†é’Ÿã€å‡ å°æ—¶ã€å‡ å¤©çš„æ—¶é—´å†å›æ¥çœ‹ç»“æœã€‚</p><p>ä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³ç®€å•æµ‹è¯•ä¸€ä¸ªå°åŠŸèƒ½ï¼Œæ²¡å¿…è¦è¿˜è¦æå°æœåŠ¡å™¨å»è·‘ã€‚æ‰€ä»¥ JMH è¿˜æä¾›äº†ä¸€ç§é€šè¿‡ Main æ–¹æ³•è¿è¡Œçš„æ–¹å¼ï¼Œå°±å¦‚ä¸Šé¢ä»£ç æ‰€ç¤ºã€‚</p><p>åœ¨ Main æ–¹æ³•ä¸­ï¼Œé€šè¿‡ org.openjdk.jmh.runner.Runner ç±»å»è¿è¡Œ org.openjdk.jmh.runner.options.Options å®ä¾‹å³å¯ã€‚è¿™é‡Œçš„é‡ç‚¹åœ¨äº Options å¯¹è±¡çš„æ„å»ºã€‚å®˜æ–¹æä¾›äº†ä¸€ä¸ª OptionsBuilder å¯¹è±¡å»æ„å»ºã€‚è¿™ä¸ª Builder å¯¹è±¡æ˜¯æµå¼çš„ã€‚å®ƒçš„å¸¸ç”¨æ–¹æ³•åŠå¯¹åº”çš„æ³¨è§£å½¢å¼å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ–¹æ³•å</th><th>å‚æ•°</th><th>ä½œç”¨</th><th>å¯¹åº”æ³¨è§£</th></tr></thead><tbody><tr><td>include</td><td>è¦è¿è¡ŒåŸºå‡†æµ‹è¯•ç±»çš„ç®€å•åç§° eg. StringConnectBenchmark</td><td>æŒ‡å®šè¦è¿è¡Œçš„åŸºå‡†æµ‹è¯•ç±»</td><td>-</td></tr><tr><td>exclude</td><td>ä¸è¦è¿è¡ŒåŸºå‡†æµ‹è¯•ç±»çš„ç®€å•åç§° eg. StringConnectBenchmark</td><td>æŒ‡å®šä¸è¦è¿è¡Œçš„åŸºå‡†æµ‹è¯•ç±»</td><td>-</td></tr><tr><td>warmupIterations</td><td>é¢„çƒ­çš„è¿­ä»£æ¬¡æ•°</td><td>æŒ‡å®šé¢„çƒ­çš„è¿­ä»£æ¬¡æ•°</td><td>@Warmup</td></tr><tr><td>warmupBatchSize</td><td>é¢„çƒ­æ‰¹é‡çš„å¤§å°</td><td>æŒ‡å®šé¢„çƒ­æ‰¹é‡çš„å¤§å°</td><td>@Warmup</td></tr><tr><td>warmupForks</td><td>é¢„çƒ­æ¨¡å¼ï¼šINDIï¼ŒBULKï¼ŒBULK_INDI</td><td>æŒ‡å®šé¢„çƒ­æ¨¡å¼</td><td>@Warmup</td></tr><tr><td>warmupMode</td><td>é¢„çƒ­çš„æ¨¡å¼</td><td>æŒ‡å®šé¢„çƒ­çš„æ¨¡å¼</td><td>@Warmup</td></tr><tr><td>warmupTime</td><td>é¢„çƒ­çš„æ—¶é—´</td><td>æŒ‡å®šé¢„çƒ­çš„æ—¶é—´</td><td>@Warmup</td></tr><tr><td>measurementIterations</td><td>æµ‹è¯•çš„è¿­ä»£æ¬¡æ•°</td><td>æŒ‡å®šæµ‹è¯•çš„è¿­ä»£æ¬¡æ•°</td><td>@Measurement</td></tr><tr><td>measurementBatchSize</td><td>æµ‹è¯•æ‰¹é‡çš„å¤§å°</td><td>æŒ‡å®šæµ‹è¯•æ‰¹é‡çš„å¤§å°</td><td>@Measurement</td></tr><tr><td>measurementTime</td><td>æµ‹è¯•çš„æ—¶é—´</td><td>æŒ‡å®šæµ‹è¯•çš„æ—¶é—´</td><td>@Measurement</td></tr><tr><td>mode</td><td>æµ‹è¯•æ¨¡å¼ï¼š Throughputï¼ˆååé‡ï¼‰ï¼Œ AverageTimeï¼ˆå¹³å‡æ—¶é—´ï¼‰ï¼ŒSampleTimeï¼ˆåœ¨æµ‹è¯•ä¸­ï¼Œéšæœºè¿›è¡Œé‡‡æ ·æ‰§è¡Œçš„æ—¶é—´ï¼‰ï¼ŒSingleShotTimeï¼ˆåœ¨æ¯æ¬¡æ‰§è¡Œä¸­è®¡ç®—è€—æ—¶ï¼‰ï¼ŒAll</td><td>æŒ‡å®šæµ‹è¯•çš„æ¨¡å¼</td><td>@BenchmarkMode</td></tr></tbody></table><ul><li>StringConnectBenchmark</li></ul><p>è¿™ä¸ªå°±æ˜¯çœŸæ­£æ‰§è¡ŒåŸºå‡†æµ‹è¯•çš„ç±»ï¼Œè¿™ä¸ªç±»å¾ˆåƒå•å…ƒæµ‹è¯•çš„ç±»ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸­å†™ä¸Šä½ è¦æ‰§è¡Œçš„æµ‹è¯•ä»£ç ã€‚åªä¸è¿‡è¿™é‡ŒæŠŠ@Test æ¢æˆäº†@Benchmark æ³¨è§£ã€‚</p><p>è€ŒåŠ ä¸Šäº†è¿™ä¸ªå°±æŒ‡æ˜è¿™ä¸ªæ–¹æ³•æ˜¯åŸºå‡†æµ‹è¯•æ–¹æ³•ï¼Œå½“ Runner ç±»çš„ Main æ–¹æ³•è¿è¡Œæ—¶ï¼Œå®ƒå°±ä¼šæ‰¾è¿™äº›è¢«æ³¨è§£ä¿®é¥°çš„æ–¹æ³•ï¼Œå†æŒ‰æŒ‡å®šçš„è§„åˆ™å»è¿›è¡ŒåŸºå‡†æµ‹è¯•ã€‚å½“ç„¶å¯èƒ½ä¸åŒçš„æ–¹æ³•æœ‰æ—¶å€™éœ€è¦ä¸åŒçš„è§„åˆ™ï¼Œè¿™ä¸ªæ—¶é—´å¯ä»¥é€šè¿‡ä¸Šé¢æ–¹æ³•å¯¹åº”çš„æ³¨è§£å½¢å¼å»å•ç‹¬æŒ‡å®šæŸä¸ªæ–¹æ³•çš„è§„åˆ™å³å¯ã€‚</p><h3 id="6-ç»“æœè§£æ"><a href="#6-ç»“æœè§£æ" class="headerlink" title="6. ç»“æœè§£æ"></a>6. ç»“æœè§£æ</h3><p>ç»“æœä¸»è¦åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><p>ç¬¬ä¸€éƒ¨åˆ†ä»¥ â€œ#Warmup Iterationã€‚ã€‚ã€‚ã€‚â€è¿™ç§å½¢å¼çš„å†…å®¹ã€‚è¿™è¡¨æ˜æ¯æ¬¡é¢„çƒ­è¿­ä»£çš„ç»“æœã€‚</p><p>å¦ä¸€éƒ¨åˆ†ä»¥â€œIterationã€‚ã€‚ã€‚â€å½¢å¼å†…å®¹ï¼Œè¿™è¡¨æ˜æ¯æ¬¡åŸºå‡†æµ‹è¯•è¿­ä»£çš„ç»“æœã€‚</p><p>æœ€åä¸€éƒ¨åˆ†ä»¥â€œResultã€‚ã€‚ã€‚â€å½¢å¼çš„å†…å®¹ï¼Œè¿™å°±æ˜¯æ‰€æœ‰è¿­ä»£è·‘å®Œæœ€ç»ˆçš„ç»“æœã€‚ç¬¬ä¸€æ®µç»“æœå‘Šè¯‰äº†æˆ‘ä»¬æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼çš„ä¿¡æ¯ã€‚</p><p>è€Œæœ€æœ€åçš„è¡¨æ ¼ç»“æ„çš„ä¿¡æ¯æ‰æ˜¯æˆ‘ä»¬åˆ†æçš„é‡ç‚¹ï¼Œä½†æ˜¯å®ƒè¾“å‡ºçš„ç»“æœæœ‰ç‚¹é”™ä½ï¼Œåˆšå¼€å§‹æˆ‘ä¸€ç›´åœ¨çº ç»“ Error æ˜¯ Â± Â 906608.141 ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œgoogle äº†ä¸€åœˆå‘ç°ï¼ŒError å®ƒå…¶å®ä»€ä¹ˆéƒ½æ²¡è¾“å‡ºï¼Œè€Œä¸” Score æ˜¯ 63728919.269 Â± Â 906608.141ã€‚æˆ‘ç”¨è¡¨æ ¼æ’æ¿äº†ä¸€ä¸‹ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p><table><thead><tr><th>Benchmark</th><th>Mode</th><th>Cnt</th><th>Score</th><th>Error</th><th>Units</th></tr></thead><tbody><tr><td>åŸºå‡†æµ‹è¯•æ‰§è¡Œçš„æ–¹æ³•</td><td>æµ‹è¯•æ¨¡å¼ï¼Œè¿™é‡Œæ˜¯ååé‡</td><td>è¿è¡Œå¤šå°‘æ¬¡</td><td>åˆ†æ•°</td><td>é”™è¯¯</td><td>å•ä½</td></tr><tr><td>StringConnectBenchmark.testStringAdd</td><td>thrpt</td><td>30</td><td>63728919.269 Â± Â 906608.141</td><td></td><td>ops/s</td></tr><tr><td>StringConnectBenchmark.testStringBuffer</td><td>thrpt</td><td>30</td><td>112423521.098 Â± 1157072.848</td><td></td><td>ops/s</td></tr><tr><td>StringConnectBenchmark.testStringBuilder</td><td>thrpt</td><td>30</td><td>110558976.274 Â± Â 654163.111</td><td></td><td>ops/s</td></tr><tr><td>StringConnectBenchmark.testStringConcat</td><td>thrpt</td><td>30</td><td>44820009.200 Â± Â 524305.660</td><td></td><td>ops/s</td></tr><tr><td>StringConnectBenchmark.testStringFormat</td><td>thrpt</td><td>30</td><td>1132633.183 Â± Â  16252.303</td><td></td><td>ops/s</td></tr></tbody></table><p>ç»“è®ºï¼š</p><p>StringBuffer Â &gt;= StringBuilder &gt; String ç›´æ¥ç›¸åŠ  &gt; StringConcat &gt;&gt; StringFormat</p><p>å¯è§ StringBuffer ä¸ StringBuilder å¤§è‡´æ€§èƒ½ç›¸åŒï¼Œéƒ½æ¯”ç›´æ¥ç›¸åŠ é«˜å‡ ä¸ªæ•°é‡çº§ï¼Œè€Œä¸”ç›´æ¥ç›¸åŠ ä¸ Concat æ–¹æ³•ç›¸åŠ å·®ä¸å¤šã€‚ä½†æ˜¯è¿™é‡Œä¸ç®¡å“ªç§éƒ½æ¯” StringFormat é«˜ N ä¸ªæ•°é‡çº§ã€‚<strong>æ‰€ä»¥ String çš„ Format æ–¹æ³•ä¸€å®šè¦æ…ç”¨ã€ä¸ç”¨ã€ç¦ç”¨ï¼ï¼ï¼</strong></p><h2 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h2><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><ol><li><p><a href="http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/">openjdk å®˜æ–¹ DEMO</a></p></li><li><p><a href="https://github.com/Childe-Chen/goodGoodStudy/tree/master/src/main/java/com/cxd/benchmark">openjdk å®˜æ–¹ DEMO ï¼ˆç¿»è¯‘ç‰ˆï¼‰</a></p></li><li><p><a href="https://www.cnblogs.com/imyalost/p/9630843.html">æµ…è°ˆåŸºå‡†æµ‹è¯•</a></p></li><li><p><a href="http://www.blogjava.net/qileilove/archive/2012/07/05/382241.html">ä»€ä¹ˆæ˜¯åŸºå‡†æµ‹è¯•</a></p></li><li><p><a href="https://blog.csdn.net/myjcxd/article/details/83501333">JMH å­¦ä¹ ç¬”è®°</a> Â  â† å¾ˆä¸é”™</p></li><li><p><a href="https://www.jianshu.com/p/bcb0b60c7ca7">ä½¿ç”¨ JMH åš JAVA åŸºå‡†æµ‹è¯•</a></p></li><li><p><a href="http://irfen.me/java-jmh-simple-microbenchmark/">JMH åš JAVA åŸºå‡†æµ‹è¯•</a></p></li></ol><h3 id="ä»£ç é“¾æ¥"><a href="#ä»£ç é“¾æ¥" class="headerlink" title="ä»£ç é“¾æ¥"></a>ä»£ç é“¾æ¥</h3><ol><li><a href="https://github.com/kiwiflydream/study-demo/tree/master/study-jmh-demo">DEMO ä»£ç é“¾æ¥</a></li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç¢ç¢å¿µã€‘01(20190504)</title>
      <link href="/posts/1df65e03/"/>
      <url>/posts/1df65e03/</url>
      
        <content type="html"><![CDATA[<h4 id="1-ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä»»ä½•äº‹æƒ…çš„ç»ˆæç­”æ¡ˆ"><a href="#1-ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä»»ä½•äº‹æƒ…çš„ç»ˆæç­”æ¡ˆ" class="headerlink" title="1. ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä»»ä½•äº‹æƒ…çš„ç»ˆæç­”æ¡ˆ"></a>1. ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä»»ä½•äº‹æƒ…çš„ç»ˆæç­”æ¡ˆ</h4><blockquote><p>ç­”æ¡ˆæ˜¯ 42ã€‚è¿™å…¶å®æ˜¯ä¸€ä¸ªæ¢—<br>ç›¸å…³é“¾æ¥ï¼š&gt; <a href="https://www.yuque.com/buhao/blog/to1mkz/edit">é“¾æ¥</a></p></blockquote><p>####</p><h4 id="2-ç”Ÿå­˜ä½™åŠ›ç†è®ºæ¨¡å‹"><a href="#2-ç”Ÿå­˜ä½™åŠ›ç†è®ºæ¨¡å‹" class="headerlink" title="2. ç”Ÿå­˜ä½™åŠ›ç†è®ºæ¨¡å‹"></a>2. ç”Ÿå­˜ä½™åŠ›ç†è®ºæ¨¡å‹</h4><p><img src="https://cdn.nlark.com/yuque/__latex/e79364826b9d0bda3038bb618df3a06b.svg#card=math&code=%E7%94%9F%E5%AD%98%E4%BD%99%E5%8A%9B%3D%E7%94%9F%E5%AD%98%E5%8A%9B%E9%87%8F%2F%E7%94%9F%E5%AD%98%E8%B4%9F%E8%BD%BD&height=26&width=222"></p><blockquote><p>ç›¸å…³é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/a404ea58ea15">é“¾æ¥</a></p></blockquote><h4 id="3-å¥½äººä¸åäºº"><a href="#3-å¥½äººä¸åäºº" class="headerlink" title="3. å¥½äººä¸åäºº"></a>3. å¥½äººä¸åäºº</h4><blockquote><p>ç”µè§†èŠ‚ç›®ä¹ æƒ¯æŠŠä¸€ä¸ªäººå¡‘é€ ä¸ºå¥½äººï¼Œå¦ä¸€ä¸ªæ˜¯åäººï¼Œå®é™…ä¸Šè¿™ä¸ªä¸–ç•Œä¸Šæ²¡æœ‰å¥½äººå’Œåäººï¼Œåªæœ‰åšäº†å¥½äº‹çš„äººï¼Œå’Œåšäº†åäº‹çš„äººã€‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â <br>â€“ã€Šçœ‹è§ã€‹</p></blockquote><h4 id="4-åºå±±çƒŸé›¨æµ™æ±Ÿæ½®"><a href="#4-åºå±±çƒŸé›¨æµ™æ±Ÿæ½®" class="headerlink" title="4. åºå±±çƒŸé›¨æµ™æ±Ÿæ½®"></a>4. åºå±±çƒŸé›¨æµ™æ±Ÿæ½®</h4><blockquote><p>åºå±±çƒŸé›¨æµ™æ±Ÿæ½®ï¼Œ<br>æœªåˆ°åƒèˆ¬æ¨ä¸æ¶ˆã€‚<br>åˆ°å¾—è¿˜æ¥åˆ«æ— äº‹ï¼Œ<br>åºå±±çƒŸé›¨æµ™æ±Ÿæ½®ã€‚</p></blockquote><h4 id="5-ç¤¾ä¼šæƒ°æ€§"><a href="#5-ç¤¾ä¼šæƒ°æ€§" class="headerlink" title="5. ç¤¾ä¼šæƒ°æ€§"></a>5. ç¤¾ä¼šæƒ°æ€§</h4><blockquote><p>ç¤¾ä¼šä¸Šè¿™ä¹ˆå¤šé—®é¢˜ï¼Œæ”¹èµ·æ¥æœ‰å¾ˆå¤šæƒ°æ€§ï¼Œæ€ä¹ˆæ”¹ï¼Ÿä»–è¯´ï¼Œè®©é—®é¢˜æµ®å‡ºæ°´é¢ï¼Œè®©å®ƒâ€œä¸å¾—ä¸â€æ”¹å˜ã€‚<br>â€“ã€Šçœ‹è§ã€‹</p></blockquote><h4 id="6-ä¸­å›½äººçš„æ€§æ ¼ç¼ºä¹ç²¾ç¡®æ€§"><a href="#6-ä¸­å›½äººçš„æ€§æ ¼ç¼ºä¹ç²¾ç¡®æ€§" class="headerlink" title="6. ä¸­å›½äººçš„æ€§æ ¼ç¼ºä¹ç²¾ç¡®æ€§"></a>6. ä¸­å›½äººçš„æ€§æ ¼ç¼ºä¹ç²¾ç¡®æ€§</h4><blockquote><p>ç¾å›½ä¼ æ•™å£«äºšç‘ŸÂ·å²å¯†æ–¯å†™è¿‡ä¸€æœ¬ä¹¦å«ã€Šä¸­å›½äººçš„æ€§æ ¼ã€‹ã€‚ä»–è§‚å¯Ÿåˆ°å½“æ—¶çš„å›½äººæœ‰ä¸€ä¸ªå¼ºçƒˆçš„ç‰¹ç‚¹æ˜¯ç¼ºä¹ç²¾ç¡®æ€§ï¼šâ€œåˆ†å¸ƒåœ¨åŸå¸‚è¾¹çš„å‡ ä¸ªæ‘å­ï¼Œè·ŸåŸç›¸è·ä¸€åˆ°å…­é‡Œï¼Œä½†æ¯ä¸ªæ‘å­éƒ½å«ä¸‰é‡Œå±¯ã€‚â€ä¸­å›½çš„â€œä¸€ä¸²é’±â€æ°¸è¿œä¸å¯èƒ½æ˜¯é¢„æƒ³çš„ä¸€ç™¾æ–‡ï¼Œé™•è¥¿çœæ˜¯å…«åä¸‰æ–‡ï¼Œç›´éš¶æ˜¯ä¸‰åä¸‰æ–‡ï¼Œâ€œè¿™ç»™è¯šå®çš„äººå¸¦æ¥æ— ç©·çš„çƒ¦æ¼â€ã€‚<br>â€“ã€Šçœ‹è§ã€‹</p></blockquote><h4 id="7-å¸æ³•å¼¹æ€§"><a href="#7-å¸æ³•å¼¹æ€§" class="headerlink" title="7. å¸æ³•å¼¹æ€§"></a>7. å¸æ³•å¼¹æ€§</h4><blockquote><p>å¸æ³•å¼¹æ€§è¿™ä¹ˆå¤§ï¼Œè¿˜æ€ä¹ˆæ ‘ç«‹æƒå¨å•Š<br>â€“ã€Šçœ‹è§ã€‹</p></blockquote><h4 id="8-æ·˜å®çš„çŒ¥çå‘è‚²"><a href="#8-æ·˜å®çš„çŒ¥çå‘è‚²" class="headerlink" title="8. æ·˜å®çš„çŒ¥çå‘è‚²"></a>8. æ·˜å®çš„çŒ¥çå‘è‚²</h4><blockquote><p>ä¸ºäº†ä¸å¼•èµ· eBay çš„æ³¨æ„ï¼Œæ·˜å®ç½‘åœ¨ 2003 å¹´é‡Œä¸€ç›´å£°ç§°è‡ªå·±æ˜¯ä¸€ä¸ªâ€œä¸ªäººç½‘ç«™â€ã€‚ç”±äºè¿™ä¸ªåˆ›ä¸šå›¢é˜Ÿå¼ºå¤§çš„å¸‚åœºå¼€æ‹“å’Œè¿è¥èƒ½åŠ›ï¼Œæ·˜å®ç½‘çš„å‘å±•éå¸¸è¿…çŒ›ï¼Œ2003 å¹´å¹´åº•å°±å¸å¼•äº†æ³¨å†Œç”¨æˆ· 23 ä¸‡ä¸ªï¼Œæ¯æ—¥ 31 ä¸‡ä¸ª PVï¼Œä» 2003 å¹´ 5 æœˆåˆ°åŒå¹´å¹´åº•æˆäº¤é¢è¾¾ 3371 ä¸‡å…ƒã€‚è¿™æ²¡æœ‰å¼•èµ· eBay çš„æ³¨æ„ï¼Œå´å¼•èµ·äº†é˜¿é‡Œå·´å·´å†…éƒ¨å¾ˆå¤šå‘˜å·¥çš„æ³¨æ„ï¼Œä»–ä»¬è§‰å¾—è¿™ä¸ªç½‘ç«™ä»¥åä¼šæˆä¸ºé˜¿é‡Œå·´å·´å¼ºåŠ²çš„å¯¹æ‰‹ï¼Œç”šè‡³æœ‰äººåœ¨å†…ç½‘å‘å¸–ï¼Œå¿ å‘Šç®¡ç†å±‚è¦è­¦æƒ•è¿™ä¸ªåˆšåˆšèµ·æ­¥çš„ç½‘ç«™ï¼Œä½†ç®¡ç†å±‚ä¼¼ä¹æ— åŠ¨äºè¡·ã€‚ï¼ˆè¿™ä¸ªå›¢é˜Ÿçš„ä¿å¯†å·¥ä½œåšå¾—çœŸå¥½ï¼ï¼‰<br>â€“ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹</p></blockquote><h4 id="9-IOE"><a href="#9-IOE" class="headerlink" title="9. IOE"></a>9. IOE</h4><blockquote><p>IBM å°å‹æœºã€Oracleã€EMC å­˜å‚¨</p></blockquote><h4 id="10-æ ‡ç­¾ä¸ç±»ç›®"><a href="#10-æ ‡ç­¾ä¸ç±»ç›®" class="headerlink" title="10. æ ‡ç­¾ä¸ç±»ç›®"></a>10. æ ‡ç­¾ä¸ç±»ç›®</h4><blockquote><p>ä»–è¯´å“ç‰Œã€æ¬¾å¼ã€æè´¨ç­‰éƒ½å¯ä»¥å«åšâ€œå±æ€§â€ï¼Œå±æ€§æ˜¯ç±»ä¼¼ Tagï¼ˆæ ‡ç­¾ï¼‰çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä¸ç±»ç›®ç›¸æ¯”æ›´åŠ ç¦»æ•£ã€çµæ´»ï¼Œè¿™æ ·ä¹Ÿç¼©å‡äº†ç±»ç›®çš„æ·±åº¦ã€‚<br>â€“ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹</p></blockquote><h4 id="11-ç«è½¦æ¨¡å‹"><a href="#11-ç«è½¦æ¨¡å‹" class="headerlink" title="11. ç«è½¦æ¨¡å‹"></a>11. ç«è½¦æ¨¡å‹</h4><blockquote><p>ä»–å‘Šè¯‰æˆ‘ä»¬ä¸€åˆ‡è¦ä»¥ç¨³å®šä¸ºä¸­å¿ƒï¼Œæ‰€æœ‰å½±å“ç³»ç»Ÿç¨³å®šçš„å› ç´ éƒ½è¦è§£å†³æ‰ã€‚ä¾‹å¦‚ï¼Œæ¯åšä¸€ä¸ªæ—¥å¸¸ä¿®æ”¹ï¼Œéƒ½å¿…é¡»å¯¹æ•´ä¸ªç³»ç»Ÿå›å½’æµ‹è¯•ä¸€éï¼›å¤šä¸ªæ—¥å¸¸ä¿®æ”¹å¦‚æœæ”¾åœ¨ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œè¦æ˜¯ä¸€ä¸ªåŠŸèƒ½æ²¡æœ‰æµ‹è¯•é€šè¿‡ï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½ä¸èƒ½å‘å¸ƒã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªå«åšâ€œç«è½¦æ¨¡å‹â€ï¼Œå³ä»»ä½•ä¸€ä¸ªä¹˜å®¢æ²¡æœ‰ä¸Šè½¦ï¼Œéƒ½ä¸è®¸å‘è½¦ã€‚è¿™æ ·åšæœ€ç›´æ¥çš„åæœå°±æ˜¯ç«è½¦ä¸€ç›´æ™šç‚¹ã€‚<br>â€“ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹</p></blockquote><h4 id="12-å·¥ç¨‹å¸ˆåˆ†ç±»"><a href="#12-å·¥ç¨‹å¸ˆåˆ†ç±»" class="headerlink" title="12. å·¥ç¨‹å¸ˆåˆ†ç±»"></a>12. å·¥ç¨‹å¸ˆåˆ†ç±»</h4><blockquote><p>å·¥ç¨‹å¸ˆå¤§è‡´åˆ†äº†ç±»ï¼šæ™®é€šå·¥ç¨‹å¸ˆè·Ÿç€ä¸šåŠ¡è·‘ï¼Œæ¥å•¥éœ€æ±‚åšå•¥äº‹ï¼›æ–‡è‰ºå·¥ç¨‹å¸ˆä¸“æ³¨äºè‡ªå·±çš„é¢†åŸŸï¼Œç ”ç©¶å¾—éå¸¸ç²¾æ·±ï¼›2B å·¥ç¨‹å¸ˆè·³æ¥è·³å»ï¼Œå•¥éƒ½å¹²ï¼Œå•¥éƒ½æµ…å°è¾„æ­¢ï¼›è¿˜æœ‰ä¸€ç§å·¥ç¨‹å¸ˆå«ç‰› B å·¥ç¨‹å¸ˆï¼Œå•¥éƒ½èƒ½å¹²ï¼Œå•¥éƒ½ç²¾é€šï¼ˆè¿™ç§äººåœ¨å·¥ç¨‹å¸ˆå¿ƒä¸­å«â€œç¥â€ï¼‰ã€‚<br>â€“ã€Šæ·˜å®æŠ€æœ¯è¿™åå¹´ã€‹</p></blockquote><h4 id="13-ä¸€æ¡é“èµ°åˆ°é»‘"><a href="#13-ä¸€æ¡é“èµ°åˆ°é»‘" class="headerlink" title="13. ä¸€æ¡é“èµ°åˆ°é»‘"></a>13. ä¸€æ¡é“èµ°åˆ°é»‘</h4><blockquote><p>è¿™ä¸ªä¸–ç•Œï¼ŒåšæŒä¹Ÿå¯èƒ½æ˜¯ä¸€ç§ä¸€æ¡é“èµ°åˆ°é»‘å•Šã€‚<br>â€“ã€Šä½ çš„äººç”Ÿè¿˜å¯ä»¥å†æŠ¢æ•‘ä¸€ä¸‹ã€‹</p></blockquote><h4 id="14-æ”¶è—"><a href="#14-æ”¶è—" class="headerlink" title="14. æ”¶è—"></a>14. æ”¶è—</h4><blockquote><p>ä½ åˆ«ä»¥ä¸ºæ˜¯æˆ‘å¿˜äº†ï¼Œæˆ‘ä»€ä¹ˆä¹Ÿæ²¡å¿˜ï¼Œä½†æ˜¯æœ‰äº›äº‹åªé€‚åˆæ”¶è—ã€‚ä¸èƒ½è¯´ï¼Œä¹Ÿä¸èƒ½æƒ³ï¼Œå´åˆä¸èƒ½å¿˜ã€‚å®ƒä»¬ä¸èƒ½å˜æˆè¯­è¨€ï¼Œå®ƒä»¬æ— æ³•å˜æˆè¯­è¨€ï¼Œä¸€æ—¦å˜æˆè¯­è¨€å°±ä¸å†æ˜¯å®ƒä»¬äº†ã€‚<br>â€“ã€Šæˆ‘ä¸åœ°å›ã€‹</p></blockquote><h4 id="15-ä¸€æ­¥ç™»å¤©"><a href="#15-ä¸€æ­¥ç™»å¤©" class="headerlink" title="15. ä¸€æ­¥ç™»å¤©"></a>15. ä¸€æ­¥ç™»å¤©</h4><blockquote><p>1 å·å’Œ 2 å·æ˜¯ç—…å±å®¤ï¼Œæ˜¯ä¸€æ­¥ç™»å¤©çš„åœ°æ–¹<br>â€“ã€Šæˆ‘ä¸åœ°å›ã€‹</p></blockquote><h4 id="16-ç”Ÿå‘½æœ¬è½»ç›ˆ"><a href="#16-ç”Ÿå‘½æœ¬è½»ç›ˆ" class="headerlink" title="16. ç”Ÿå‘½æœ¬è½»ç›ˆ"></a>16. ç”Ÿå‘½æœ¬è½»ç›ˆ</h4><blockquote><p>æˆ‘ä»¬çš„ç”Ÿå‘½æœ¬æ¥å¤šè½»ç›ˆï¼Œéƒ½æ˜¯è¢«è¿™è‚‰ä½“å’Œå„ç§æ¬²æœ›çš„æ±¡æµŠç»™æ‹–ä½ã€‚<br>â€“ã€Šçš®å›Šã€‹</p></blockquote><h4 id="17-å¸Œæœ›"><a href="#17-å¸Œæœ›" class="headerlink" title="17. å¸Œæœ›"></a>17. å¸Œæœ›</h4><blockquote><p>äººç”Ÿçš„ä¸å¯é¢„æµ‹ï¼Œå‘Šè¯‰æˆ‘ä»¬åœ¨ä»»ä½•æ—¶å€™éƒ½è¦æŠ±ç€ä¸€ä»½å¸Œæœ›ã€‚<br>Â  Â  Â  â€“ã€Šæœ—è¯»è€…ã€‹</p></blockquote><h4 id="18-äººç”Ÿ"><a href="#18-äººç”Ÿ" class="headerlink" title="18. äººç”Ÿ"></a>18. äººç”Ÿ</h4><blockquote><p>æˆ‘ä»¬çš„äººç”Ÿï¼Œå°±æ˜¯ä¸€æ¬¡åˆä¸€æ¬¡é€‰æ‹©çš„ç»“æœã€‚<br>â€“ã€Šæœ—è¯»è€…ã€‹</p></blockquote><h4 id="19-å†å²"><a href="#19-å†å²" class="headerlink" title="19. å†å²"></a>19. å†å²</h4><blockquote><p>å†å²ï¼Œè¦ç”¨è®¸å¤šä¸å¹¸å’Œé”™è¯¯å»é“ºè·¯ï¼Œäººç±»æ‰å˜å¾—æ¯”é‚£äº›èš‚èšæ›´èªæ˜ã€‚äººç±»æµ©è¡å‰è¡Œï¼Œåœ¨è¿™æ¡è·¯ä¸Šï¼Œä¸æ˜¯é çš„æ¨ï¼Œè€Œæ˜¯é çš„çˆ±â€¦â€¦<br>â€“ã€Šæœ—è¯»è€…ã€‹</p></blockquote><h4 id="20-æ°´å’Œç”µ"><a href="#20-æ°´å’Œç”µ" class="headerlink" title="20. æ°´å’Œç”µ"></a>20. æ°´å’Œç”µ</h4><blockquote><p>å½“æ—¶ï¼Œäºšé©¬é€Šåˆ›å§‹äººè´ä½æ–¯å¯¹ 2001 å¹´å‡ºç‰ˆçš„ä¸€æœ¬åä¸ºã€Šåˆ›é€ ã€‹çš„ä¹¦éå¸¸ç—´è¿·ï¼Œè®©å…¬å¸é«˜ç®¡äººäººå¿…è¯»ã€‚è¿™æœ¬ä¹¦æœ‰ä¸ªç†å¿µï¼šæœ€æœ‰ä»·å€¼å’Œç«äº‰å£å’ã€æœ€ä¸å¯æˆ–ç¼ºçš„å…¬å¸ï¼Œæ˜¯é‚£äº›èƒ½å¤Ÿæä¾›ç±»ä¼¼äºæ°´ç”µä¸€æ ·çš„åŸºç¡€è®¾æ–½æœåŠ¡çš„å…¬å¸ã€‚<br>â€“ã€Šäº‘ç«¯æˆ˜äº‰ 20 å¹´ã€‹</p></blockquote><h4 id="21-xx-å³æœåŠ¡"><a href="#21-xx-å³æœåŠ¡" class="headerlink" title="21. xx å³æœåŠ¡"></a>21. xx å³æœåŠ¡</h4><blockquote><p>IaaSï¼šInfrastructure-as-a-Service(åŸºç¡€è®¾æ–½å³æœåŠ¡)<br>PaaSï¼šPlatform-as-a-Service(å¹³å°å³æœåŠ¡)<br>SaaSï¼šSoftware-as-a-Service(è½¯ä»¶å³æœåŠ¡)<br>è¯¦è§ï¼š<a href="https://zhuanlan.zhihu.com/p/43216852">é“¾æ¥</a></p></blockquote><h4 id="22-å¯¹å¯¹å¯¹ï¼Œæ‚¨è¯´çš„éƒ½å¯¹"><a href="#22-å¯¹å¯¹å¯¹ï¼Œæ‚¨è¯´çš„éƒ½å¯¹" class="headerlink" title="22. å¯¹å¯¹å¯¹ï¼Œæ‚¨è¯´çš„éƒ½å¯¹"></a>22. å¯¹å¯¹å¯¹ï¼Œæ‚¨è¯´çš„éƒ½å¯¹</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1556934536040-c3a35491-90d3-422f-9842-ed0570784763.png#align=left&display=inline&height=574&name=image.png&originHeight=1148&originWidth=1173&size=1439086&status=done&width=586.5" alt="image.png"></p><h4 id="23-æœ‰ç‚¹å¨˜"><a href="#23-æœ‰ç‚¹å¨˜" class="headerlink" title="23. æœ‰ç‚¹å¨˜"></a>23. æœ‰ç‚¹å¨˜</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1556934582328-24d74b3a-d8ac-48ef-bd42-3b1c2bfa8406.png#align=left&display=inline&height=640&name=image.png&originHeight=1280&originWidth=720&size=310014&status=done&width=360" alt="image.png">Â  ã€Šä½ ä»Šå¤©çœŸå¯çˆ±ã€‹</p><h4 id="24-ç†è§£ç­éœ¸"><a href="#24-ç†è§£ç­éœ¸" class="headerlink" title="24. ç†è§£ç­éœ¸"></a>24. ç†è§£ç­éœ¸</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1556934659141-61e5705f-e946-4072-b090-737c08522c2e.png#align=left&display=inline&height=278&name=image.png&originHeight=556&originWidth=1080&size=255428&status=done&width=540" alt="image.png"></p><h4 id="25-ä»éœ€æ±‚æ‰“é€ è§£å†³æ–¹æ¡ˆ"><a href="#25-ä»éœ€æ±‚æ‰“é€ è§£å†³æ–¹æ¡ˆ" class="headerlink" title="25. ä»éœ€æ±‚æ‰“é€ è§£å†³æ–¹æ¡ˆ"></a>25. ä»éœ€æ±‚æ‰“é€ è§£å†³æ–¹æ¡ˆ</h4><blockquote><p>ä»åŸºå› å’Œæ°”è´¨æ¥è¯´ï¼Œäºšé©¬é€Šçš„æŠ€æœ¯è™½ç„¶ä¹Ÿå¾ˆå¼ºï¼Œä½†èµ·äºç”µå•†çš„äºšé©¬é€Šæ›´ä¹ æƒ¯ç›´æ¥ä»å¸‚åœºéœ€æ±‚æ‰“é€ è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯é æŠ€æœ¯æˆ–äº§å“åˆ›é€ å¸‚åœºéœ€æ±‚ã€‚<br>â€“ã€Šäº‘ç«¯æˆ˜äº‰ 20 å¹´ã€‹</p></blockquote><h4 id="26-è§„æ¨¡æ¸¸æˆ"><a href="#26-è§„æ¨¡æ¸¸æˆ" class="headerlink" title="26. è§„æ¨¡æ¸¸æˆ"></a>26. è§„æ¨¡æ¸¸æˆ</h4><blockquote><p>äºšé©¬é€Šåœ¨è¿™ç§è§„æ¨¡çš„æ¸¸æˆä¸­ï¼Œæ¯”æˆ‘ä»¬è¿™æ ·çš„ç«äº‰è€…è£…å¤‡å¾—æ›´å¥½ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥é€šè¿‡æ ¸å¿ƒä¸šåŠ¡æ¥ç­¹é›†èµ„é‡‘ã€‚ä»–ä»¬è®¾å®šäº†ä¸€æ®µå¾ˆé•¿çš„ä¸èµšé’±çš„æ—¶é—´â€”â€”ä»–ä»¬æ˜¯ä¸ºäº†å¢é•¿è¿›è¡Œå†æŠ•èµ„ã€‚è€Œæˆ‘ä»¬çš„åˆ›æ–°æ— æ³•è·Ÿä¸Šè¿™ç§è„šæ­¥ã€‚<br>â€“ã€Šäº‘ç«¯æˆ˜äº‰ 20 å¹´ã€‹</p></blockquote><h4 id="27-è¿æ°”å¥½"><a href="#27-è¿æ°”å¥½" class="headerlink" title="27. è¿æ°”å¥½"></a>27. è¿æ°”å¥½</h4><blockquote><p>äº‹æƒ…åšä¸å®Œå°±æ˜å¤©å†åšå§ï¼Œè¿æ°”å¥½çš„è¯ï¼Œæ˜å¤©æ­»äº†å°±ä¸ç”¨åšäº†ï¼<br>â€“ å†·å…”</p></blockquote><h4 id="28-æ—©èµ·ä¹Ÿæ˜¯ä¸€ç§èƒœåˆ©"><a href="#28-æ—©èµ·ä¹Ÿæ˜¯ä¸€ç§èƒœåˆ©" class="headerlink" title="28. æ—©èµ·ä¹Ÿæ˜¯ä¸€ç§èƒœåˆ©"></a>28. æ—©èµ·ä¹Ÿæ˜¯ä¸€ç§èƒœåˆ©</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1556934967743-4bf251ec-16b2-4196-9e77-b9598c6c8754.png#align=left&display=inline&height=302&name=image.png&originHeight=604&originWidth=690&size=476647&status=done&width=345" alt="image.png"></p><h4 id="29-å¥½æƒ³åšä¸€ä¸ªç¨‹åºå‘˜å‘€"><a href="#29-å¥½æƒ³åšä¸€ä¸ªç¨‹åºå‘˜å‘€" class="headerlink" title="29. å¥½æƒ³åšä¸€ä¸ªç¨‹åºå‘˜å‘€"></a>29. å¥½æƒ³åšä¸€ä¸ªç¨‹åºå‘˜å‘€</h4><p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1556935047132-68135701-7f32-4983-ac76-aede90171764.png#align=left&display=inline&height=855&name=image.png&originHeight=1710&originWidth=598&size=575317&status=done&width=299" alt="image.png"></p><h4 id="30-ç”µå½±é™¢æ•ˆåº”-å‰§åœºæ•ˆåº”"><a href="#30-ç”µå½±é™¢æ•ˆåº”-å‰§åœºæ•ˆåº”" class="headerlink" title="30. ç”µå½±é™¢æ•ˆåº” / å‰§åœºæ•ˆåº”"></a>30. ç”µå½±é™¢æ•ˆåº” / å‰§åœºæ•ˆåº”</h4><blockquote><p>è¯´æ³• 1ï¼š<br>å‡å¦‚åœ¨ä¸€ä¸ªåº§ä½æŒ‰ä¼ ç»Ÿæ–¹å¼å®‰æ’çš„ç”µå½±é™¢é‡Œï¼Œå¤§å®¶éƒ½åœ¨çœ‹ç”µå½±ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªäººè¦å»æ´—æ‰‹é—´ï¼Œå¦‚æœè¿™ä¸ªäººæ˜¯ååœ¨é è¾¹çš„ä½ç½®ï¼Œä»–åªè¦ç«™èµ·æ¥æ‚„æ‚„ç¦»å¼€å°±å¯ä»¥äº†ï¼Œä½†å¦‚æœè¿™ä¸ªäººæ˜¯ååœ¨ä¸­é—´çš„ä½ç½®ï¼Œä»–ç«™èµ·æ¥å¾€å¤–èµ°ï¼Œåˆ™ä»–æ—è¾¹çš„äººå°±è¦ç»™ä»–è®©è·¯ï¼Œæ•´æ’çš„äººéƒ½è¦ç«™èµ·æ¥ã€‚<br>åŒæ ·çš„äººåšåŒæ ·çš„äº‹ï¼Œå½±å“çš„äººå’Œå¼•å‘çš„åœºé¢å´ä¸ä¸€æ ·ï¼Œè¿™å¹¶ä¸æ˜¯å› ä¸ºä»–è‡ªèº«çš„å½±å“åŠ›æˆ–ç´ è´¨å‘ç”Ÿäº†å˜åŒ–ï¼Œåªæ˜¯å› ä¸ºä»–æ‰€å¤„çš„ä½ç½®ä¸åŒã€‚æ­£æ˜¯å› ä¸ºä½ç½®ä¸åŒï¼Œæ‰€ä»¥ä»–åšåŒä¸€ä»¶äº‹æ‰€å½±å“çš„èŒƒå›´å’Œåœºé¢å°±å‘ç”Ÿäº†å®Œå…¨ä¸åŒçš„å˜åŒ–ã€‚</p></blockquote><blockquote><p>è¯´æ³• 2ï¼š<br>ä¸€ä¸ªå‰§åœºï¼Œå¤§å®¶éƒ½åœ¨çœ‹æˆã€‚æ¯ä¸ªäººéƒ½æœ‰åº§ä½ï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°æ¼”å‘˜çš„æ¼”å‡ºã€‚å¿½ç„¶ï¼Œæœ‰ä¸€ä¸ªè§‚ä¼—ç«™èµ·æ¥çœ‹æˆï¼ˆå¯èƒ½æ˜¯ä¸ºäº†çœ‹çš„æ›´æ¸…æ¥šï¼Œä¹Ÿå¯èƒ½å› ä¸ºèº«é«˜è¾ƒçŸ®ï¼‰ï¼Œå‘¨å›´çš„äººåŠä»–åä¸‹ï¼Œä»–ç½®è‹¥ç½”é—»ï¼Œæ±‚åŠ©å‰§åœºç®¡ç†å‘˜ï¼Œç®¡ç†å‘˜å´ä¸åœ¨å²—ä½ã€‚äºæ˜¯ï¼Œå‘¨å›´çš„äººä¸ºäº†çœ‹åˆ°æ¼”å‡ºï¼Œä¹Ÿè¢«è¿«ç«™èµ·æ¥çœ‹æˆã€‚æœ€åå…¨åœºçš„è§‚ä¼—éƒ½ä»åç€çœ‹æˆå˜æˆäº†ç«™ç€çœ‹æˆã€‚<br>è¯¦è§ï¼š<a href="http://blog.sina.com.cn/s/blog_65a246c70102x00i.html">é“¾æ¥</a>Â <a href="https://kknews.cc/zh-my/news/3jv6j5g.html">é“¾æ¥</a></p></blockquote><h4 id="31-è¾¹é™…æ•ˆåº”"><a href="#31-è¾¹é™…æ•ˆåº”" class="headerlink" title="31. è¾¹é™…æ•ˆåº”"></a>31. è¾¹é™…æ•ˆåº”</h4><blockquote><p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6">å¾®è§‚ç»æµå­¦</a>ä¸­ï¼Œè¾¹é™…æ•ˆç”¨ï¼ˆè‹±è¯­ï¼šmarginal utilityï¼‰ï¼Œåˆè¯‘ä¸ºè¾¹é™…æ•ˆåº”ï¼Œæ˜¯æŒ‡æ¯æ–°å¢ï¼ˆæˆ–å‡å°‘ï¼‰ä¸€ä¸ªå•ä½çš„<a href="https://zh.wikipedia.org/wiki/%E5%95%86%E5%93%81">å•†å“</a>æˆ–<a href="https://zh.wikipedia.org/wiki/%E6%9C%8D%E5%8A%A1">æœåŠ¡</a>ï¼Œå®ƒå¯¹å•†å“æˆ–æœåŠ¡çš„æ”¶ç›Šå¢åŠ ï¼ˆæˆ–å‡å°‘ï¼‰çš„<a href="https://zh.wikipedia.org/wiki/%E6%95%88%E7%94%A8">æ•ˆç”¨</a>ï¼Œä¹Ÿå³æ˜¯â€œæ•ˆç”¨ â”€â”€ å•†å“æˆ–æœåŠ¡é‡â€å›¾çš„<a href="https://zh.wikipedia.org/wiki/%E6%96%9C%E7%8E%87">æ–œç‡</a>ã€‚ç»æµå­¦é€šå¸¸è®¤ä¸ºï¼Œéšç€å•†å“æˆ–æœåŠ¡çš„é‡å¢åŠ ï¼Œè¾¹é™…æ•ˆç”¨å°†ä¼šé€æ­¥å‡å°‘ï¼Œç§°ä¸º<a href="https://zh.wikipedia.org/wiki/%E8%BE%B9%E9%99%85%E6%95%88%E5%BA%94%E9%80%92%E5%87%8F%E5%AE%9A%E5%BE%8B">è¾¹é™…æ•ˆåº”é€’å‡å®šå¾‹</a>ã€‚</p></blockquote><p>â€“ wikipedia</p><blockquote><p>é¥¿äº†ä½ ä¼šæƒ³åƒé¥¼<br>ä¸€ä¸ªé¥¼è¦èŠ±ä½ ä¸€å—é’±ï¼Œè¿™ä¸€å—é’±å’Œåƒé¥¼èŠ±å»çš„æ—¶é—´æ˜¯ä½ çš„æˆæœ¬ï¼ˆCost)</p></blockquote><blockquote><p>åƒåˆ°é¥¼å¸¦æ¥çš„æ„‰å¿«æ„Ÿï¼Œæ˜¯ä½ çš„æ”¶ç›Šï¼ˆBenefitï¼‰</p></blockquote><blockquote><p>æ”¶ç›Šå‡å»æˆæœ¬</p></blockquote><blockquote><p>å°±æ˜¯ä½ çš„å‡€æ”¶ç›Š</p></blockquote><blockquote><p>æ‰€è°“è¾¹é™…æ”¶ç›Š</p></blockquote><blockquote><p>å³æ˜¯ä½ æ¯å¤šåƒä¸€ä¸ªé¥¼å¸¦æ¥çš„æ”¶ç›Š</p></blockquote><blockquote><p>åƒä¸€ä¸ªä½ å¾ˆå¼€å¿ƒ</p></blockquote><blockquote><p>ä¸€å—é’±èŠ±çš„å¾ˆå€¼</p></blockquote><blockquote><p>å‡€è¾¹é™…æ”¶ç›Šå¾ˆé«˜</p></blockquote><blockquote><p>åƒç¬¬äºŒä¸ªæ—¶å˜å¾—ä¸é‚£ä¹ˆå¼€å¿ƒ</p></blockquote><blockquote><p>ä¸€å—é’±èŠ±çš„æ²¡é‚£ä¹ˆå€¼äº†</p></blockquote><blockquote><p>å‡€è¾¹é™…æ”¶ç›Šå‡å°‘</p></blockquote><blockquote><p>ä½ å·²ç»æœ‰ç‚¹é¥±äº†</p></blockquote><blockquote><p>ä½†æ˜¯ä½ è¿˜æ˜¯åƒäº†ç¬¬ä¸‰ä¸ª</p></blockquote><blockquote><p>èŠ±å»çš„é’±å’Œä¹°æ¥çš„æ„‰å¿«æ„Ÿå·²åŸºæœ¬æŠµæ¶ˆ</p></blockquote><blockquote><p>å‡€è¾¹é™…æ”¶ç›Šä¸ºé›¶</p></blockquote><blockquote><p>ç¡¬è¦åƒç¬¬å››ä¸ªçš„è¯</p></blockquote><blockquote><p>å¯èƒ½å°±ä¼šæ’‘æ¶å¿ƒäº†</p></blockquote><blockquote><p>ä¸€å—é’±èŠ±äº†ä¸å¦‚ä¸èŠ±</p></blockquote><blockquote><p>è¿™æ—¶å€™å‡€è¾¹é™…æ”¶ç›Šå°±æ˜¯è´Ÿå€¼äº†</p></blockquote><blockquote><p>ç„¶åä½ å°±ä¸ä¼šç»§ç»­åƒäº†</p></blockquote><blockquote></blockquote><blockquote><p>ä½œè€…ï¼šåŒ¿åç”¨æˆ·</p></blockquote><blockquote><p>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/26415450/answer/32698819">https://www.zhihu.com/question/26415450/answer/32698819</a></p></blockquote><blockquote><p>æ¥æºï¼šçŸ¥ä¹</p></blockquote><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      <categories>
          
          <category> ç¢ç¢å¿µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¢ç¢å¿µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ›å»º Java å¯¹è±¡æœ‰å‡ ç§å†™æ³•ï¼Ÿ</title>
      <link href="/posts/e292c612/"/>
      <url>/posts/e292c612/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2019/png/119443/1555856125208-739fc957-7fd1-4fbf-b076-736f03247fb5.png#align=left&display=inline&height=198&name=image.png&originHeight=198&originWidth=307&size=42238&status=done&width=307" alt="image.png"></p><blockquote><p>åˆ›å»º Java å¯¹è±¡ï¼Œè·Ÿâ€å›â€å­—ä¸€æ ·ä¹Ÿæœ‰å¥½å‡ ç§å†™æ³•ã€‚è™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä¹Ÿæ¶‰åŠåˆ°äº†å‡ ä¸ª Java å…³é”®çš„åŸºç¡€çŸ¥è¯†ï¼Œæ¯”å¦‚åå°„ã€å…‹éš†ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œæ‰€ä»¥é¢è¯•ä¹Ÿç»å¸¸ä¼šé‡åˆ°ï¼Œç„¶åä¸æ–­æ‰©å±•çš„é—®ã€‚</p></blockquote><h3 id="ç¬¬ä¸€ç§ï¼šé€šè¿‡-new-å…³é”®å­—åˆ›å»º"><a href="#ç¬¬ä¸€ç§ï¼šé€šè¿‡-new-å…³é”®å­—åˆ›å»º" class="headerlink" title="ç¬¬ä¸€ç§ï¼šé€šè¿‡ new å…³é”®å­—åˆ›å»º"></a>ç¬¬ä¸€ç§ï¼šé€šè¿‡ new å…³é”®å­—åˆ›å»º</h3><blockquote><p>è¿™ä¸€ç§æ²¡å•¥å¥½è¯´çš„ï¼Œä»å­¦ Java ç¬¬ä¸€å¤©å°±ä¸åœçš„è·Ÿä¸¤æ ·ä¸œè¥¿æ‰“äº¤é“ï¼Œä¸€ä¸ªçš„æ˜¯ new å…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯<strong>NullPointerException ğŸ˜‚ã€‚ä»£ç å¦‚ä¸‹</strong></p></blockquote><h4 id="æµ‹è¯•å¯¹è±¡ä»£ç -Person-java"><a href="#æµ‹è¯•å¯¹è±¡ä»£ç -Person-java" class="headerlink" title="æµ‹è¯•å¯¹è±¡ä»£ç  Person.java"></a>æµ‹è¯•å¯¹è±¡ä»£ç  Person.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.coder4j.blog.demo.code.crete.object.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.builder.ReflectionToStringBuilder;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.builder.ToStringStyle;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äººå‘˜ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¹´é¾„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Integer age, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> property value of age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age value to be assigned to property age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> property value of name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name value to be assigned to property name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ReflectionToStringBuilder.reflectionToString(<span class="keyword">this</span>,</span><br><span class="line">                ToStringStyle.SHORT_PREFIX_STYLE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå¯¹è±¡ä»£ç "><a href="#åˆ›å»ºå¯¹è±¡ä»£ç " class="headerlink" title="åˆ›å»ºå¯¹è±¡ä»£ç "></a>åˆ›å»ºå¯¹è±¡ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ new å…³é”®å­—å»åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testNew</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Person person = <span class="keyword">new</span> Person();</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line">    person.setName(<span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒç§ï¼šé€šè¿‡-class-çš„-newInstance-æ–¹æ³•"><a href="#ç¬¬äºŒç§ï¼šé€šè¿‡-class-çš„-newInstance-æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç§ï¼šé€šè¿‡ Â class çš„ Â newInstance*() æ–¹æ³•*"></a>ç¬¬äºŒç§ï¼šé€šè¿‡ Â class çš„ Â newInstance*() æ–¹æ³•*</h3><blockquote><p>è¿™é‡Œå°±æ¶‰åŠåˆ°äº† Java åŸºç¡€é‡Œé¢çš„åå°„çŸ¥è¯†äº†ï¼Œå¤§å¤šæ•°æ¡†æ¶ä¹Ÿæ˜¯é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ï¼Œæ¯”å¦‚è¯´ springã€‚é€šè¿‡åå°„æ‹¿åˆ° class å¯¹è±¡ï¼Œå†ç›´æ¥è°ƒç”¨ newInstance() æ–¹æ³•å°±å¯ä»¥ç›´æ¥åˆ›å»ºå‡ºä¸€ä¸ªå¯¹è±¡ã€‚è·å¾— class å¯¹è±¡çš„æ–¹æ³•ä¹Ÿæœ‰å¥½å‡ ç§ï¼Œè¿™é‡Œç›´æ¥é€šè¿‡ç±»æ¥è·å¾—ã€‚ä»£ç å¦‚ä¸‹ï¼š</p></blockquote><h4 id="åˆ›å»ºå¯¹è±¡ä»£ç -1"><a href="#åˆ›å»ºå¯¹è±¡ä»£ç -1" class="headerlink" title="åˆ›å»ºå¯¹è±¡ä»£ç "></a>åˆ›å»ºå¯¹è±¡ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ç±»åå°„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testClassReflect</span><span class="params">()</span> <span class="keyword">throws</span> IllegalAccessException, InstantiationException </span>&#123;</span><br><span class="line">    Person person = Person.class.newInstance();</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line">    person.setName(<span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰ç§ï¼šé€šè¿‡-constructor-çš„-newInstance-æ–¹æ³•"><a href="#ç¬¬ä¸‰ç§ï¼šé€šè¿‡-constructor-çš„-newInstance-æ–¹æ³•" class="headerlink" title="ç¬¬ä¸‰ç§ï¼šé€šè¿‡ Â constructor çš„ Â newInstance() æ–¹æ³•"></a>ç¬¬ä¸‰ç§ï¼šé€šè¿‡ Â constructor çš„ Â newInstance() æ–¹æ³•</h3><blockquote><p>ä¸ç¬¬äºŒç§æ–¹æ³•ä¸€æ ·ï¼ŒåŒæ ·æ˜¯é€šè¿‡åå°„ã€‚ä¹Ÿæ˜¯æ‹¿åˆ° class å¯¹è±¡ï¼Œä¸è¿‡è¿™é‡Œï¼Œæ‹¿åˆ°å¯¹è±¡åï¼Œåˆå¤šäº†ä¸€æ­¥å»æ‹¿æ„é€ å‡½æ•°ã€‚å¯èƒ½æœ‰äººè§‰å¾—ç–‘é—®äº†ï¼Œä¸ç¬¬äºŒç§è¾¾åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿˜è¦å¤šå†™ä¸€äº›ä»£ç ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨ä»–ã€‚å…¶å®å¯¹äºæœ‰æ— å‚æ„é€ å‡½æ•°çš„ç±»æ¥è¯´ï¼Œä¸¤ç§æ–¹æ³•éƒ½ä¸€æ ·ï¼Œå“ªä¸ªéƒ½å¯ä»¥ä½¿ç”¨ã€‚ä½†æ˜¯æ˜¯å¯¹äºåªæœ‰æœ‰å‚æ„é€ å‡½æ•°çš„ç±»æ¥è¯´ï¼Œåªèƒ½ä½¿ç”¨ç¬¬ä¸‰ç§ã€‚å› ä¸ºç¬¬äºŒç§æ— æ³•æŒ‡å®šæ„å»ºå‡½æ•°ã€‚æ‰€ä»¥å› ä¸ºå¤§å¤šæ•°æ¡†æ¶ä½¿ç”¨çš„éƒ½æ˜¯ç¬¬äºŒç§åŒ…æ‹¬ springï¼Œæ‰€ä»¥å½“ä½ çš„ bean æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°æ—¶ï¼Œæ¡†æ¶å°±ä¼šæŠ¥é”™ï¼Œä»–æ˜¯ä¸ä¼šå¸®ä½ ç”¨ç¬¬ä¸‰ç§çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p></blockquote><h4 id="åˆ›å»ºå¯¹è±¡ä»£ç -2"><a href="#åˆ›å»ºå¯¹è±¡ä»£ç -2" class="headerlink" title="åˆ›å»ºå¯¹è±¡ä»£ç "></a>åˆ›å»ºå¯¹è±¡ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡æ„å»ºå‡½æ•°åå°„åˆ›å»º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> NoSuchMethodException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InvocationTargetException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InstantiationException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConstructReflect</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException </span>&#123;</span><br><span class="line">    Constructor&lt;Person&gt; constructor = Person.class.getConstructor();</span><br><span class="line">    Person person = constructor.newInstance();</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line">    person.setName(<span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡æœ‰å‚æ„é€ å‡½æ•°åå°„åˆ›å»º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> NoSuchMethodException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InvocationTargetException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InstantiationException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testConstructWithParamReflect</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException </span>&#123;</span><br><span class="line">    Constructor&lt;Person&gt; constructor = Person.class.getConstructor(Integer.class, String.class);</span><br><span class="line">    Person person = constructor.newInstance(<span class="number">18</span>, <span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å››ç§ï¼šé€šè¿‡-clone"><a href="#ç¬¬å››ç§ï¼šé€šè¿‡-clone" class="headerlink" title="ç¬¬å››ç§ï¼šé€šè¿‡ clone"></a>ç¬¬å››ç§ï¼šé€šè¿‡ clone</h3><blockquote><p>å¯ä»¥çœ‹åˆ° Person.java å®ç°äº†æ¥å£ Cloneable å¹¶è¦†ç›–äº† clone æ–¹æ³•ï¼ˆå…¶å®åªæ˜¯è°ƒç”¨äº†çˆ¶ç±»æ–¹æ³•ï¼‰ï¼Œç„¶åè°ƒç”¨å¯¹è±¡çš„ clone æ–¹æ³•å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸€æ¯›ä¸€æ ·çš„å¯¹è±¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™æ˜¯æ˜¯æµ…å…‹éš†ï¼Œå•¥æ˜¯æµ…å…‹éš†ï¼Ÿæµ…å…‹éš†æ˜¯æŒ‡å¤åˆ¶å‡ºæ¥çš„å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ä¿®æ”¹å…‹éš†åçš„å¯¹è±¡ä¸­çš„å¼•ç”¨å˜é‡ï¼Œä¹Ÿä¼šå¯¼è‡´åŸå¯¹è±¡ä¹Ÿäº§ç”Ÿå˜åŒ–ã€‚æ·±å…‹éš†åä¹‹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p></blockquote><h4 id="åˆ›å»ºå¯¹è±¡ä»£ç -3"><a href="#åˆ›å»ºå¯¹è±¡ä»£ç -3" class="headerlink" title="åˆ›å»ºå¯¹è±¡ä»£ç "></a>åˆ›å»ºå¯¹è±¡ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡å…‹éš†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testClone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">    Person person = <span class="keyword">new</span> Person();</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line">    person.setName(<span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    Person personClone = (Person)person.clone();</span><br><span class="line">    System.out.println(personClone);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äº”ç§ï¼šé€šè¿‡ååºåˆ—åŒ–"><a href="#ç¬¬äº”ç§ï¼šé€šè¿‡ååºåˆ—åŒ–" class="headerlink" title="ç¬¬äº”ç§ï¼šé€šè¿‡ååºåˆ—åŒ–"></a>ç¬¬äº”ç§ï¼šé€šè¿‡ååºåˆ—åŒ–</h3><blockquote><p>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æœ‰å¾ˆå¤šç§ï¼ŒåŒ…æ‹¬ json,xml å…¶å®éƒ½æ˜¯ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ java åŸç”Ÿçš„ Â Serializable å®ç°çš„åºåˆ—åŒ–ã€‚å¾ˆå¤š rpc æ¡†æ¶ï¼Œæ¯”å¦‚ dubbo ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼ï¼Œè¿™é‡Œéœ€è¦ç±»å®ç° jdk çš„ Â Serializable æ¥å£ï¼Œå¹¶ä¸”ç»™ä»–ä¸€ä¸ª Â <em>serialVersionUID å±æ€§ã€‚ä»£ç å¦‚ä¸‹ï¼š</em></p></blockquote><h4 id="æµ‹è¯•å¯¹è±¡ä»£ç -PersonDto-java"><a href="#æµ‹è¯•å¯¹è±¡ä»£ç -PersonDto-java" class="headerlink" title="æµ‹è¯•å¯¹è±¡ä»£ç  PersonDto.java"></a>æµ‹è¯•å¯¹è±¡ä»£ç  PersonDto.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.coder4j.blog.demo.code.crete.object.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.builder.ReflectionToStringBuilder;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.builder.ToStringStyle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äººå‘˜ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonDto</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">3911118195380172132L</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¹´é¾„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonDto</span><span class="params">(Integer age, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PersonDto</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> property value of age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;age&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age value to be assigned to property age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Getter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> property value of name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Setter method for property &lt;tt&gt;name&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name value to be assigned to property name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ReflectionToStringBuilder.reflectionToString(<span class="keyword">this</span>,</span><br><span class="line">                ToStringStyle.SHORT_PREFIX_STYLE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå¯¹è±¡ä»£ç -4"><a href="#åˆ›å»ºå¯¹è±¡ä»£ç -4" class="headerlink" title="åˆ›å»ºå¯¹è±¡ä»£ç "></a>åˆ›å»ºå¯¹è±¡ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ååºåˆ—åŒ–</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSerializable</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">    PersonDto person = <span class="keyword">new</span> PersonDto();</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line">    person.setName(<span class="string">&quot;kiwi&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠå¯¹è±¡åºåˆ—åŒ–</span></span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;person&quot;</span>));</span><br><span class="line">    oos.writeObject(person);</span><br><span class="line">    oos.close();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">    ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;person&quot;</span>));</span><br><span class="line">    PersonDto personSeri = (PersonDto) ois.readObject();</span><br><span class="line">    System.out.println(personSeri);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œå°±è¯´å®Œäº†ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å‡ ç§ Java å¯¹è±¡åˆ›å»ºæ–¹æ³•äº†ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºå•ä¾‹æ¨¡å¼æ˜¯æ— æ³•ä¿è¯ç³»ç»Ÿä¸­åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„ã€‚</p></blockquote><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dubbo è¿‡æ»¤å™¨ä½¿ç”¨</title>
      <link href="/posts/e57e2db9/"/>
      <url>/posts/e57e2db9/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1537282396426-96544e5f-a1b7-49e0-a244-850912ebbd96.png#width=458"></p><h3 id="ä»€ä¹ˆæ˜¯-dubbo-è¿‡æ»¤å™¨"><a href="#ä»€ä¹ˆæ˜¯-dubbo-è¿‡æ»¤å™¨" class="headerlink" title="ä»€ä¹ˆæ˜¯ dubbo è¿‡æ»¤å™¨"></a>ä»€ä¹ˆæ˜¯ dubbo è¿‡æ»¤å™¨</h3><p>å­¦è¿‡ servlet æˆ– spring mvc çš„åŒå­¦éƒ½çŸ¥é“æœ‰ä¸€ä¸ªå«ä½œè¿‡æ»¤å™¨çš„ä¸œè¥¿ã€‚é¡¾åæ€ä¹‰ä»–å°±æ˜¯ç”¨äºè¿‡æ»¤çš„ã€‚å®ƒæœ¬èº«ä¸äº§ç”Ÿè¯·æ±‚æˆ–è€…å“åº”ï¼Œå®ƒåªæ˜¯ä¿®æ”¹å¯¹æŸä¸€èµ„æºçš„è¯·æ±‚ï¼Œæˆ–è€…ä¿®æ”¹æŸä¸€èµ„æºçš„å“åº”ã€‚</p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦-dubbo-è¿‡æ»¤å™¨"><a href="#ä¸ºä»€ä¹ˆéœ€è¦-dubbo-è¿‡æ»¤å™¨" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ dubbo è¿‡æ»¤å™¨"></a>ä¸ºä»€ä¹ˆéœ€è¦ dubbo è¿‡æ»¤å™¨</h3><p>å¯¹äºæœ‰äº›æ“ä½œï¼Œæˆ‘ä»¬å¯èƒ½æ¯ä¸ªæ¥å£éƒ½éœ€è¦ä½¿ç”¨ã€‚æ¯”å¦‚æ‰“å°æ¥å£è°ƒç”¨çš„è¯·æ±‚ä¸å“åº”ä¿¡æ¯ï¼Œè®¡ç®—æ¥å£è°ƒç”¨çš„æ—¶é—´ã€‚æˆ–è€…å­—ç¬¦ç¼–ç çš„è½¬æ¢ã€‚å†æˆ–è€…å°±æ¥å£çš„æƒé™åˆ¤æ–­ã€‚ã€‚ã€‚ä¸èƒœæšä¸¾ã€‚å¯¹äºè¿™äº›é€šç”¨ä¸”æ˜¯å¤§å¤šæ•°æ¥å£éƒ½ä¼šä½¿ç”¨çš„å†…å®¹ã€‚å¦‚æœåœ¨ç¬¬ä¸€ä¸ªæ¥å£é‡Œé¢å»å®ç°æˆ–è€…è°ƒç”¨ï¼Œå°±å¤ªè¿‡äºéº»çƒ¦ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥æŠŠå®ƒæŠ½åˆ°ä¸€ä¸ªè°ƒç”¨æ¥å£æ—¶éƒ½ä¼šç»è¿‡çš„åœ°æ–¹å»ã€‚è¿™ä¸ªåœ°æ–¹å°±æ˜¯è¿‡æ»¤å™¨ã€‚å…¶å®å¯ä»¥ç®€å•ç†è§£æˆæ¥å£å±‚é¢çš„ AOPã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™è¿è¡Œ"><a href="#ä»€ä¹ˆæ—¶å€™è¿è¡Œ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™è¿è¡Œ"></a>ä»€ä¹ˆæ—¶å€™è¿è¡Œ</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹è¿‡æ»¤å™¨ä¸åªä¸€ä¸ªã€‚æ¯”å¦‚è¯´æœ‰ä¸€ä¸ªç¼–ç è½¬æ¢çš„è¿‡æ»¤å™¨ï¼Œä¸€ä¸ªæ¥å£è°ƒç”¨æ—¥å¿—çš„è¿‡æ»¤å™¨ï¼Œä¸¤ä¸ªåŒæ—¶å­˜åœ¨ã€‚å› ä¸ºæ‰“å°æ—¥å¿—æ—¶æ˜¯ä½¿ç”¨ä¸€ä¸ªå›ºå®šç¼–ç çš„ã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢æ‰“å°æ—¶ä¸äº§ç”Ÿä¹±ç ï¼Œå¿…é¡»è¦åœ¨ç¼–ç è½¬æ¢è¿‡æ»¤å™¨ä¹‹åè¿è¡Œã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé¡ºåºã€‚è¿™ä¹Ÿå°±å½¢æˆäº†å¸¸è¯´çš„è¿‡æ»¤å™¨é“¾ã€‚è‡³äºå¦‚ä½•æ§åˆ¶é¡ºåºï¼Œä¼šåœ¨ä¸‹æ–‡ä»‹ç»ã€‚</p><h3 id="åœ¨å“ªç§åœºæ™¯ä¸‹ä½¿ç”¨"><a href="#åœ¨å“ªç§åœºæ™¯ä¸‹ä½¿ç”¨" class="headerlink" title="åœ¨å“ªç§åœºæ™¯ä¸‹ä½¿ç”¨"></a>åœ¨å“ªç§åœºæ™¯ä¸‹ä½¿ç”¨</h3><blockquote><p>ä¸»è¦æ˜¯ä¸€äº›é€šç”¨çš„æ“ä½œ</p></blockquote><ol><li><p>æ¥å£çš„è°ƒç”¨æ—¥å¿—æ‰“å°</p></li><li><p>æ¥å£æƒé™åˆ¤æ–­</p></li><li><p>ç¼–ç è½¬æ¢</p></li></ol><h3 id="ç›¸å…³è§’è‰²æœ‰å“ªäº›"><a href="#ç›¸å…³è§’è‰²æœ‰å“ªäº›" class="headerlink" title="ç›¸å…³è§’è‰²æœ‰å“ªäº›"></a>ç›¸å…³è§’è‰²æœ‰å“ªäº›</h3><p>å¯¹äº servlet æ¥è¯´ï¼Œä¸€ä¸ªæ˜¯æ¥å£çš„è°ƒç”¨æ–¹æ¯”å¦‚æµè§ˆå™¨ï¼Œçˆ¬è™«ã€‚ã€‚ã€‚ã€‚ï¼Œä¸€ä¸ªæ˜¯æä¾›çš„æ¥å£ã€‚å¯¹äº dubbo æ¥è¯´ï¼Œä¸€ä¸ªæ˜¯ç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ˜¯æ¶ˆè´¹è€…ã€‚</p><h3 id="æ€ä¹ˆå»ä½¿ç”¨-dubbo-è¿‡æ»¤å™¨"><a href="#æ€ä¹ˆå»ä½¿ç”¨-dubbo-è¿‡æ»¤å™¨" class="headerlink" title="æ€ä¹ˆå»ä½¿ç”¨ dubbo è¿‡æ»¤å™¨"></a>æ€ä¹ˆå»ä½¿ç”¨ dubbo è¿‡æ»¤å™¨</h3><ol><li>ç»§æ‰¿<strong>com.alibaba.dubbo.rpc.Filter</strong>å¹¶ä¸”å®ç°å®ƒçš„ <strong>invoke æ–¹æ³•ã€‚</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fshows.fsframework.extend.dubbo.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.rpc.Filter;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.rpc.Invocation;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.rpc.Invoker;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.rpc.Result;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.rpc.RpcException;</span><br><span class="line"><span class="keyword">import</span> com.fshows.fsframework.core.utils.SystemClock;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> buhao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> LogFilter.java, v 0.1 2018-09-18 20:40 buhao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result <span class="title">invoke</span><span class="params">(Invoker&lt;?&gt; invoker, Invocation invocation)</span> <span class="keyword">throws</span> RpcException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å¾— RPC æ–¹æ³•å</span></span><br><span class="line">        String methodName = invoker.getUrl().getPath();</span><br><span class="line">        <span class="comment">// è·å¾—å¼€å§‹æ—¶é—´</span></span><br><span class="line">        <span class="keyword">long</span> startTime = SystemClock.millisClock().now();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°è°ƒç”¨å‰æ—¥å¿—</span></span><br><span class="line">        <span class="comment">// è·å¾—å‚æ•°</span></span><br><span class="line">        Object[] arguments = invocation.getArguments();</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;RPC æ¥å£å¼€å§‹ methodName = &#123;&#125;, agruments = &#123;&#125;&quot;</span>, methodName, arguments);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨æ¥å£</span></span><br><span class="line">        Result result = invoker.invoke(invocation);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°è°ƒç”¨åæ—¥å¿—</span></span><br><span class="line">        <span class="comment">// æŠ›å‡ºçš„å¼‚å¸¸</span></span><br><span class="line">        Throwable exception = result.getException();</span><br><span class="line">        <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">        Object value = result.getValue();</span><br><span class="line">        <span class="comment">// æ‰“å°ç»“æŸæ—¥å¿—</span></span><br><span class="line">        <span class="keyword">if</span> (exception != <span class="keyword">null</span>) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;RPC æ¥å£å¼‚å¸¸ç»“æŸ methodName = &#123;&#125;,  exception = &#123;&#125;, time = &#123;&#125;ms &quot;</span>, methodName, exception, SystemClock.millisClock().now() - startTime);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            log.info(<span class="string">&quot;RPC æ¥å£ç»“æŸ methodName = &#123;&#125;,  result =&#123;&#125;, time = &#123;&#125;ms &quot;</span>, methodName, value, SystemClock.millisClock().now() - startTime);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>é…ç½®è¿‡æ»¤å™¨</p><ol><li><p>åœ¨ resources ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º META-INF çš„ç›®å½•</p></li><li><p>åœ¨ META-INF çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º dubbo ç›®å½•</p></li><li><p>åœ¨ dubbo ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <strong>com.alibaba.dubbo.rpc.Filter</strong> çš„æ–‡æœ¬æ–‡ä»¶</p></li><li><p>åœ¨æ–‡æœ¬ä¸­é…ç½®è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨</p></li></ol></li></ol><p>æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1537274909108-5f7e2642-b813-432d-95d9-6ee786c57adc.png#width=608"></p><p><strong>com.alibaba.dubbo.rpc.Filter</strong>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><blockquote><p>å†…å®¹ï¼š è¿‡æ»¤å™¨åç§°=è¿‡æ»¤å™¨å…¨é™å®šå</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logFilter=com<span class="selector-class">.fshows</span><span class="selector-class">.fsframework</span><span class="selector-class">.extend</span><span class="selector-class">.dubbo</span><span class="selector-class">.filter</span>.LogFilter</span><br></pre></td></tr></table></figure><blockquote><p>è‡³äºä¸ºä»€ä¹ˆè¦è¿™äº›å†™ï¼Ÿå› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯ SPI æœºåˆ¶ã€‚ç±»ä¼¼äº spring çš„ IOC,è¯¦æƒ…å¯ä»¥çœ‹<a href="https://juejin.im/post/5b9b1c115188255c5e66d18c">ç†è§£çš„ Java ä¸­ SPI æœºåˆ¶</a></p></blockquote><ol><li>æŒ‡å®šè¿‡æ»¤å™¨çš„æ‹¦æˆªå¯¹è±¡ä¸è¿‡æ»¤å™¨é¡ºåº</li></ol><blockquote><p>é€šè¿‡@Adaptive å»æŒ‡å®š</p></blockquote><ul><li>Adaptive æºç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Activate &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Groupè¿‡æ»¤æ¡ä»¶ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     * åŒ…å«&#123;<span class="doctag">@link</span> ExtensionLoader#getActivateExtension&#125;çš„groupå‚æ•°ç»™çš„å€¼ï¼Œåˆ™è¿”å›æ‰©å±•ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     * å¦‚æ²¡æœ‰Groupè®¾ç½®ï¼Œåˆ™ä¸è¿‡æ»¤ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] group() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Keyè¿‡æ»¤æ¡ä»¶ã€‚åŒ…å«&#123;<span class="doctag">@link</span> ExtensionLoader#getActivateExtension&#125;çš„URLçš„å‚æ•°Keyä¸­æœ‰ï¼Œåˆ™è¿”å›æ‰©å±•ã€‚</span></span><br><span class="line"><span class="comment">     * &lt;p/&gt;</span></span><br><span class="line"><span class="comment">     * ç¤ºä¾‹ï¼š&lt;br/&gt;</span></span><br><span class="line"><span class="comment">     * æ³¨è§£çš„å€¼ &lt;code&gt;<span class="doctag">@Activate</span>(&quot;cache,validatioin&quot;)&lt;/code&gt;ï¼Œ</span></span><br><span class="line"><span class="comment">     * åˆ™&#123;<span class="doctag">@link</span> ExtensionLoader#getActivateExtension&#125;çš„URLçš„å‚æ•°æœ‰&lt;code&gt;cache&lt;/code&gt;Keyï¼Œæˆ–æ˜¯&lt;code&gt;validatioin&lt;/code&gt;åˆ™è¿”å›æ‰©å±•ã€‚</span></span><br><span class="line"><span class="comment">     * &lt;br/&gt;</span></span><br><span class="line"><span class="comment">     * å¦‚æ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä¸è¿‡æ»¤ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’åºä¿¡æ¯ï¼Œå¯ä»¥ä¸æä¾›ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] before() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’åºä¿¡æ¯ï¼Œå¯ä»¥ä¸æä¾›ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] after() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’åºä¿¡æ¯ï¼Œå¯ä»¥ä¸æä¾›ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">order</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ç”¨æ³•</p><ul><li><p>æŒ‡å®šè¿‡æ»¤å™¨ä½¿ç”¨æ–¹</p><pre><code>- group   - ä¾‹å­ - æŒ‡å®šç”Ÿäº§è€…ä½¿ç”¨      - ```</code></pre><p>@Activate(group = {Constants.PROVIDER})</p></li></ul></li></ul><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> -<span class="ruby"> æŒ‡å®šç‰¹å®šå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">    - value</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">       - ä¾‹å­ - æŒ‡å®šå‚æ•° accessToken=<span class="number">123</span>çš„å‚æ•°ä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">          - <span class="string">``</span><span class="string">`java</span></span></span><br><span class="line"><span class="ruby">@Activate(<span class="string">&quot;accessToken=123&quot;</span>)</span></span><br></pre></td></tr></table></figure><pre><code>     - ä¾‹å­ - æŒ‡å®šæœ‰ accessTokenå‚æ•°ä½¿ç”¨        - ```java</code></pre><p>@Activate(â€œaccessTokenâ€)</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> - æŒ‡å®šè¿‡æ»¤å™¨é¡ºåº</span><br><span class="line"></span><br><span class="line">    - order</span><br><span class="line"></span><br><span class="line">       - ä¾‹å­ - æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</span><br><span class="line"></span><br><span class="line">          - ```java</span><br><span class="line">@Activate(<span class="keyword">order</span> <span class="title">= -1</span>)</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://juejin.im/post/5ab0699f6fb9a028c42e0517">Dubbo è¿‡æ»¤å™¨ Filter çš„ä½¿ç”¨åŠåº”ç”¨åœºæ™¯</a><br><a href="https://juejin.im/post/5b9b1c115188255c5e66d18c">ç†è§£çš„ Java ä¸­ SPI æœºåˆ¶</a><br><a href="http://dubbo.apache.org/zh-cn/docs/dev/SPI.html">dubbo å®˜æ–¹æ–‡æ¡£-æ‰©å±•ç‚¹åŠ è½½</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é»‘å®¢é©¬æ‹‰æ¾æ¯”èµ›æœ‰æ„Ÿ</title>
      <link href="/posts/396c71bd/"/>
      <url>/posts/396c71bd/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1535213291218-8052f245-122f-4adc-be6d-a0222a8e7d68.png#width=747"></p><p>ä»Šå¤©æœ‰å¹¸å‚åŠ äº†å…¬å¸ä¸¾åŠçš„é»‘å®¢é©¬æ‹‰æ¾ï¼Œå¹¶ä¸”å–å¾—äº†ç¬¬ä¸€åçš„æˆç»©ã€‚å½“ç„¶æˆ‘å¯¹è¿™ä¸ªç¬¬ä¸€çš„æˆç»©è¿˜æ˜¯æ¯”è¾ƒå¿ƒè™šçš„ã€‚å› ä¸ºæ¯ä¸€ç»„éƒ½å¾ˆä¼˜ç§€ã€‚æœ¬æ¥å·²ç»åšå¥½äº†å†²ç¬¬ä¸‰ä¿ç¬¬å››çš„å‡†å¤‡ï¼ˆä¸€å…±å››ç»„å‚èµ› ğŸ˜‚ï¼‰ã€‚æœ€åèƒ½èµ¢çœŸçš„æ„Ÿåˆ°å®åœ¨å¤ªæ„å¤–äº†ã€‚å¿ƒæƒ…åªèƒ½ç”¨ä¸‹å›¾å»è¡¨è¾¾</p><p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1535213679393-fe8889d6-e3e7-4ffa-849b-45be3f96922d.png#width=492"></p><p>ä½†æ˜¯æ€»ä½“ä¸‹æ¥è¿˜æ˜¯æœ‰ä¸€äº›ä¸ªäººçš„æ„Ÿæ‚Ÿã€‚è¯„å§”ç»™çš„è¯„ä»·æ˜¯ï¼Œæˆ‘ä»¬è¿™ä¸€ç»„æ˜¯å‚èµ›ç»„å†…å®Œæˆåº¦æœ€é«˜çš„ä¸€ç»„ï¼Œä¹Ÿæ˜¯ ppt æ¼”è®²è¿‡ç¨‹ä¸­é€»è¾‘æœ€æ¸…æ¥šçš„ä¸€ä¸ªã€‚<br>å½“ç„¶ ppt æ¼”è®²é€»è¾‘æ¸…æ™°è¿™ä¸ªæœ€å¤§çš„åŠŸåŠ³å½“ç„¶æ˜¯ MVP å¼ è´¤ï¼Œäººç§°é¦–å±•è´¾è·ƒäº­ã€‚è€ŒåŠŸèƒ½å®Œæˆåº¦æœ€é«˜ï¼Œæˆ‘æƒ³å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯æˆ‘ä»¬æ›´åœ¨æ„æ•ˆç‡ã€‚<br>å› ä¸ºä»ä¸€å¼€å§‹æˆ‘ä»¬å°±çŸ¥é“æˆ‘ä»¬æ ¹æœ¬ä¸å ä¼˜åŠ¿ã€‚å‚åŠ æ¯”èµ›æ²¡æœ‰è¯­è¨€é™åˆ¶ï¼Œè€Œä¸”åœ¨åªæœ‰ 8 ä¸ªå°æ—¶çš„æ—¶é—´å†…å¼€å‘ã€‚æ‰€ä»¥æˆ‘ä»¬è·Ÿä¸€åŒå‚èµ›çš„ PHPer æ¯”ï¼Œå·²ç»è¾“åœ¨äº†èµ·è·‘çº¿ä¸Šã€‚æ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰æŒ‰å‡è¡¡çš„è§’è‰²å»ç»„é˜Ÿã€‚è€Œæ˜¯ 2 å java å¼€å‘ 1 åå‰ç«¯ 1 åæµ‹è¯• 1 å UIã€‚2 å java æ˜¯ä¸ºäº†èƒ½ç”¨äººæ•°å¼¥è¡¥è¯­è¨€å¼€å‘æ•ˆç‡ä¸Šçš„ä¸è¶³ã€‚è€Œæµ‹è¯•è·Ÿ UI ä¹Ÿæ˜¯æ¯”è¾ƒåäº§å“çš„åŒå­¦ã€‚<br>å¦ä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª java å¼€å‘è„šæ‰‹æ¶ï¼Œå¹¶åŒæ—¶ä½¿ç”¨äº†ä¸€äº›ä»£ç çš„è‡ªåŠ¨ç”Ÿæˆã€‚è¿™ä½¿å¾—æ•ˆç‡å¤§å¤§çš„æé«˜ã€‚è¿™å¯ä»¥ä½¿å¾—å¼€å‘æœ‰æ›´å¤šçš„æ—¶é—´å»ä¼˜åŒ–ï¼Œæ¯”å¦‚åœ¨å‰ç«¯æ¥ä¸åŠçš„æƒ…å†µä¸‹ï¼Œæµ©ç¿”ä¸€ä¸ªäººå†™å®Œäº†æ•´ä¸ªåå°ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1535215540578-2f5ce0fe-c11f-49ad-bf46-11fb746e08d3.png#width=747"><br>è¿˜æœ‰ä¸€ä¸ªå…³é”®ç‚¹æˆ‘è§‰å¾—æ˜¯æˆ‘ä»¬æ–¹å‘æ¯”è¾ƒæ¸…æ™°ä¸æ˜ç¡®ã€‚å› ä¸ºä»ä¸€å¼€å§‹æˆ‘ä»¬å°±æœ‰äº†æ ‡å‡†ç­”æ¡ˆâ€“èš‚èšå¾®å®¢ã€‚è€Œä¸”çŸ¥é“èš‚èšå¾®å®¢ä¹Ÿæ˜¯åœ¨ä¸€æ¬¡å¾ˆå¶ç„¶çš„æœºä¼šæ”¶åˆ°æ”¯ä»˜å®çš„æ¨é€ã€‚ç„¶åå½“æ—¶ä¹Ÿæ²¡åœ¨æ„ã€‚ç„¶åä¸Šé¢è¯´çš„ java è„šæ‰‹æ¶ä¹Ÿæ˜¯å¶ç„¶çœ‹åˆ°ï¼Œä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡ã€‚ä½†æ˜¯æ­£å¦‚ä¹”å¸®ä¸»æ‰€è¯´ç”Ÿæ´»ä¸­çš„ç‚¹æ»´ä¼šåœ¨ä½ æœªæ¥çš„æŸä¸€å¤©äº§ç”Ÿè”ç³»ã€‚<br>æ‰€ä»¥è¶ç€å¹´è½»ï¼Œå¤šå­¦ç‚¹çŸ¥è¯†ï¼Œå¤šè®¤è¯†ç‚¹äººï¼Œå¤šå»ä¸€äº›åœ°æ–¹ã€‚å¯èƒ½å°±åœ¨æœªæ¥çš„æŸä¸€åˆ»ï¼Œä»–ä»¬å°±åƒçç ä¸€æ ·ç‚¹ç‚¹æ»´æ»´çš„ä¸²è”èµ·æ¥æˆä¸ºä½ ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„è®°å¿†ã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>jvm è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</title>
      <link href="/posts/3c225cb5/"/>
      <url>/posts/3c225cb5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®šï¼ŒJava è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜å°†ä¼šåŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªè¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</p></blockquote><h3 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h3><p><img src="https://cdn.nlark.com/yuque/0/2018/png/119443/1534660000696-28eff01e-7db1-4bef-8900-5afa0e1fb00f.png"></p><h3 id="ç¨‹åºè®¡æ•°å™¨"><a href="#ç¨‹åºè®¡æ•°å™¨" class="headerlink" title="ç¨‹åºè®¡æ•°å™¨"></a>ç¨‹åºè®¡æ•°å™¨</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><ul><li>å­—èŠ‚ç è¡Œå·æŒ‡ç¤ºå™¨</li></ul><blockquote><p>ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå®ƒç­‰åŒäºå½“å‰æ‰§è¡Œå­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŠŸèƒ½éƒ½ä¾èµ–äºè®¡æ•°å™¨ã€‚</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨"><a href="#çº¿ç¨‹å­˜å‚¨" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹ç§æœ‰</li></ul><blockquote><p>å› ä¸º JAVA çš„å¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹çš„è½®æµåˆ‡æ¢å¹¶åˆ†é…å¤„ç†å™¨æ—¶é—´çš„æ–¹å¼æ¥å®ç°çš„ï¼Œå› æ­¤ï¼Œä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½è¦ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚</p></blockquote><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>å¦‚æœçº¿ç¨‹æ‰§è¡Œçš„æ˜¯ JAVA æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨ä¿å­˜çš„å°±æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ã€‚å¦‚æœæ‰§è¡Œçš„æ˜¯ Native æ–¹æ³•ï¼Œè®¡æ•°å™¨ä¿å­˜å€¼ä¸ºç©ºã€‚</p></blockquote><h4 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li>æ— </li></ul><blockquote><p>æ˜¯å”¯ä¸€ä¸€ä¸ªè§„èŒƒä¸­æ²¡æœ‰è§„å®šçš„ä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸã€‚</p></blockquote><h3 id="JAVA-è™šæ‹Ÿæœºæ ˆ"><a href="#JAVA-è™šæ‹Ÿæœºæ ˆ" class="headerlink" title="JAVA è™šæ‹Ÿæœºæ ˆ"></a>JAVA è™šæ‹Ÿæœºæ ˆ</h3><h4 id="ä½œç”¨-1"><a href="#ä½œç”¨-1" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><blockquote><p>è™šæ‹Ÿæœºæ ˆæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•ä»è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæˆçš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚<br>å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§åŸºæœ¬æ•°æ®ç±»å‹ã€å¯¹è±¡å¼•ç”¨å’Œ returnAddress ç±»å‹ï¼ˆæŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼‰</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨-1"><a href="#çº¿ç¨‹å­˜å‚¨-1" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹ç§æœ‰</li></ul><h4 id="æ³¨æ„-1"><a href="#æ³¨æ„-1" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å†…å­˜ç©ºé—´åœ¨ç¼–è¯‘æœŸé—´å®Œæˆåˆ†é…ï¼Œå½“è¿›å…¥ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦åœ¨å¸§ä¸­åˆ†é…å¤šå¤§çš„å±€éƒ¨å˜é‡ç©ºé—´æ˜¯å®Œå…¨ç¡®å®šçš„ï¼Œåœ¨æ–¹æ³•è¿è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°ã€‚</p></blockquote><h4 id="å¼‚å¸¸-1"><a href="#å¼‚å¸¸-1" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li><p>StackOverflowError</p><ul><li>åŸå› <blockquote><p>å¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ï¼Œå°±ä¼šæŠ›å‡º</p></blockquote></li></ul></li><li><p>OutOfMemoryError</p><ul><li>åŸå› <blockquote><p>å¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šæŠ›å‡º</p></blockquote></li></ul></li></ul><h3 id="æœ¬åœ°æ–¹æ³•æ ˆ"><a href="#æœ¬åœ°æ–¹æ³•æ ˆ" class="headerlink" title="æœ¬åœ°æ–¹æ³•æ ˆ"></a>æœ¬åœ°æ–¹æ³•æ ˆ</h3><h4 id="ä½œç”¨-2"><a href="#ä½œç”¨-2" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><blockquote><p>ä¸ Java è™šæ‹Ÿæœºæ ˆåŠŸèƒ½å‡ ä¹ä¸€è‡´ï¼Œåªæ˜¯ä¸€ä¸ªæ˜¯è¿è¡Œ JAVA æ–¹æ³•ï¼Œä¸€ä¸ªè¿è¡Œ Native æ–¹æ³•ã€‚æœ‰äº›è™šæ‹Ÿæœºä¼šç›´æ¥æŠŠè¿™ä¸¤ä¸ªæ ˆåˆäºŒä¸ºä¸€ï¼ˆHotSpotï¼‰</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨-2"><a href="#çº¿ç¨‹å­˜å‚¨-2" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹ç§æœ‰</li></ul><h4 id="æ³¨æ„-2"><a href="#æ³¨æ„-2" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å†…å­˜ç©ºé—´åœ¨ç¼–è¯‘æœŸé—´å®Œæˆåˆ†é…ï¼Œå½“è¿›å…¥ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦åœ¨å¸§ä¸­åˆ†é…å¤šå¤§çš„å±€éƒ¨å˜é‡ç©ºé—´æ˜¯å®Œå…¨ç¡®å®šçš„ï¼Œåœ¨æ–¹æ³•è¿è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°ã€‚</p></blockquote><h4 id="å¼‚å¸¸-2"><a href="#å¼‚å¸¸-2" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li><p>StackOverflowError</p><ul><li>åŸå› <blockquote><p>å¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ï¼Œå°±ä¼šæŠ›å‡º</p></blockquote></li></ul></li><li><p>OutOfMemoryError</p><ul><li>åŸå› <blockquote><p>å¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šæŠ›å‡º</p></blockquote></li></ul></li></ul><h3 id="JAVA-å †"><a href="#JAVA-å †" class="headerlink" title="JAVA å †"></a>JAVA å †</h3><h4 id="ä½œç”¨-3"><a href="#ä½œç”¨-3" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><blockquote><p>æ˜¯è™šæ‹Ÿæœºç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ã€‚å”¯ä¸€çš„ä½œç”¨å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ã€‚</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨-3"><a href="#çº¿ç¨‹å­˜å‚¨-3" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹å…±æœ‰</li></ul><h4 id="æ³¨æ„-3"><a href="#æ³¨æ„-3" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>ç”±äºæ”¶é›†å™¨åŸºæœ¬ä¸Šéƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œæ‰€ä»¥ JAVA å †ä¸­è¿˜å¯ä»¥ç»†åˆ†ä¸ºï¼šæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼›å†ç»†è‡´ä¸€ç‚¹çš„æœ‰ Eden ç©ºé—´ã€From Surviror ç©ºé—´ã€To Surviror ç©ºé—´</p></blockquote><h4 id="å¼‚å¸¸-3"><a href="#å¼‚å¸¸-3" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li><p>OutOfMemoryError</p><ul><li>åŸå› </li></ul></li></ul><blockquote><p>å¦‚æœåœ¨å †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…ï¼Œå¹¶ä¸”å †ä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼Œå°†ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p></blockquote><h3 id="æ–¹æ³•åŒº"><a href="#æ–¹æ³•åŒº" class="headerlink" title="æ–¹æ³•åŒº"></a>æ–¹æ³•åŒº</h3><h4 id="ä½œç”¨-4"><a href="#ä½œç”¨-4" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><blockquote><p>ç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½ çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨åçš„ä»£ç ç­‰æ•°æ®ã€‚</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨-4"><a href="#çº¿ç¨‹å­˜å‚¨-4" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹å…±æœ‰</li></ul><h4 id="æ³¨æ„-4"><a href="#æ³¨æ„-4" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>ä¹Ÿæœ‰äººç§°ä¹‹ä¸ºã€æ°¸ä¹…ä»£ã€ï¼Œæœ¬è´¨ä¸Šä¸¤è€…å¹¶ä¸ç­‰ä»·ï¼Œåªæ˜¯æœ‰äº›è™šæ‹Ÿæœºå®ç°æ—¶æŠŠç”¨æ°¸ä¹…ä»£å®ç°æ–¹æ³•åŒºè€Œå·²ã€‚</p></blockquote><h4 id="å¼‚å¸¸-4"><a href="#å¼‚å¸¸-4" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li><p>OufOfMemoryError</p><ul><li>åŸå› </li></ul></li></ul><blockquote><p>å½“æ–¹æ³•åŒºæ— æ³•æ»¡è¶³å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼Œå°†æŠ›å‡º</p></blockquote><h3 id="è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼‰"><a href="#è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼‰" class="headerlink" title="è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼‰"></a>è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼‰</h3><h4 id="ä½œç”¨-5"><a href="#ä½œç”¨-5" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><blockquote><p>æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯æ˜¯å¸¸é‡æ± ï¼Œç”¨äºå­˜å…¥ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œè¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç±»åŠ è½½åè¿›å…¥æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­å­˜å…¥ã€‚</p></blockquote><h4 id="çº¿ç¨‹å­˜å‚¨-5"><a href="#çº¿ç¨‹å­˜å‚¨-5" class="headerlink" title="çº¿ç¨‹å­˜å‚¨"></a>çº¿ç¨‹å­˜å‚¨</h4><ul><li>çº¿ç¨‹å…±æœ‰</li></ul><h4 id="æ³¨æ„-5"><a href="#æ³¨æ„-5" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><blockquote><p>Java è¯­è¨€å¹¶ä¸è¦å¸¸é‡ä¸€å®šåªæœ‰ç¼–è¯‘æœŸæ‰èƒ½äº§ç”Ÿï¼Œä¹Ÿå°±æ˜¯å¹¶éé¢„ç½®å…¥ Class æ–‡ä»¶ä¸­å¸¸é‡æ± çš„å†…å®¹æ‰èƒ½è¿›å…¥æ–¹æ³•åŒºè¿è¡Œæ—¶å¸¸é‡æ± ï¼Œè¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥ï¼Œæ¯”å¦‚ String ç±»çš„ intern()æ–¹æ³•</p></blockquote><h4 id="å¼‚å¸¸-5"><a href="#å¼‚å¸¸-5" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h4><ul><li><p>OutOfMemoryError</p><ul><li>åŸå› </li></ul></li></ul><blockquote><p>å½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶å°±ä¼šæŠ›å‡º</p></blockquote><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>spring-boot é›†æˆ redis</title>
      <link href="/posts/e1ce5e4c/"/>
      <url>/posts/e1ce5e4c/</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é›†æˆredis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">######################redisé…ç½®#########################</span><br><span class="line"># REDIS (RedisProperties)</span><br><span class="line"># Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º<span class="number">0</span>ï¼‰</span><br><span class="line">spring.redis.database=<span class="number">0</span></span><br><span class="line"># RedisæœåŠ¡å™¨åœ°å€</span><br><span class="line">spring.redis.host=localhost</span><br><span class="line"># RedisæœåŠ¡å™¨è¿æ¥ç«¯å£</span><br><span class="line">spring.redis.port=<span class="number">6379</span></span><br><span class="line"># RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰</span><br><span class="line">spring.redis.password=</span><br><span class="line"># è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span><br><span class="line">spring.redis.pool.max-active=<span class="number">8</span></span><br><span class="line"># è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span><br><span class="line">spring.redis.pool.max-wait=<span class="number">-1</span></span><br><span class="line"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span><br><span class="line">spring.redis.pool.max-idle=<span class="number">8</span></span><br><span class="line"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span><br><span class="line">spring.redis.pool.min-idle=<span class="number">0</span></span><br><span class="line"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">spring.redis.timeout=<span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;<span class="built_in">String</span>, Users&gt; redisTemplate;</span><br></pre></td></tr></table></figure><blockquote><p>ç„¶åå°±å¯ä»¥åœ¨ç±»é‡Œä½¿ç”¨äº†ï¼Œä½¿ç”¨æ³›å‹çš„æ—¶å€™å¦‚æœç”¨@Autowired æŒ‰ç±»å‹æ³¨å…¥ä¼šæŠ¥é”™ï¼Œè¦ç”¨@Resource</p></blockquote><p><em>å¦‚æœæ–¹æ³•æƒ³ç”¨ç¼“å­˜ï¼Œè¦åœ¨é…ç½®ç±»ä¸ŠåŠ ä¸Š@EnableCaching æ‰“å¼€ç¼“å­˜ï¼Œå¹¶ä¸”è¦åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Cacheable(value = â€œgetByUsernameâ€)</em></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>spring-boot ä¸ä½¿ç”¨parent POM</title>
      <link href="/posts/66a29cf2/"/>
      <url>/posts/66a29cf2/</url>
      
        <content type="html"><![CDATA[<ul><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨ parent æ ‡ç­¾å»ç»§æ‰¿</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!--è¿™é‡Œä¸èƒ½ä½¿ç”¨æ ‡ç­¾å¼•ç”¨ï¼Œå¿…é¡»å†™æ­»ï¼Œmavençš„bug?--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä¸æƒ³ç”¨ç»§æ‰¿çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ import</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;sprint.boot.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>spring boot ç”Ÿæˆ war åŒ…</title>
      <link href="/posts/69a2a230/"/>
      <url>/posts/69a2a230/</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--spring boot å†…ç½®äº†tomcatï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰tomcatä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡jarè¿è¡Œï¼Œå¦‚æœæƒ³é€šè¿‡å¸¸è§„çš„waræ¥éƒ¨ç½²å°±åœ¨è¿™é‡Œç§»é™¤tomcatå°±å¯ä»¥äº†--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &lt;exclusion&gt;</span></span><br><span class="line"><span class="comment">                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</span></span><br><span class="line"><span class="comment">                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></span><br><span class="line"><span class="comment">                &lt;/exclusion&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--spring boot å†…ç½®çš„æ—¥å¿—æ˜¯slf4jä¸logback,å¦‚æœæƒ³ç”¨log4jå°±ç§»é™¤ï¼Œå¹¶æ·»åŠ ç›¸åº”ä¾èµ–å°±å¯ä»¥äº†--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux ssh ç›¸å…³æ“ä½œ</title>
      <link href="/posts/d500547b/"/>
      <url>/posts/d500547b/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ssh ç›¸å…³çš„ï¼Œéƒ½æ˜¯ä¿®æ”¹/etc/ssh/sshd_config<br>æ–‡ä»¶ä¿®æ”¹è¦é‡å¯ sshd ç”Ÿæ•ˆ<br>/etc/init.d/sshd restart</p></blockquote><h3 id="ä¿®æ”¹-SSH-é»˜è®¤ç«¯å£"><a href="#ä¿®æ”¹-SSH-é»˜è®¤ç«¯å£" class="headerlink" title="ä¿®æ”¹ SSH é»˜è®¤ç«¯å£"></a>ä¿®æ”¹ SSH é»˜è®¤ç«¯å£</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Port xxxx</span></span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šç”¨æˆ·è¿æ¥"><a href="#æŒ‡å®šç”¨æˆ·è¿æ¥" class="headerlink" title="æŒ‡å®šç”¨æˆ·è¿æ¥"></a>æŒ‡å®šç”¨æˆ·è¿æ¥</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">AllowUsers</span> user<span class="number">1</span>,user<span class="number">2</span>,user<span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="ç¦æ­¢-root-è¿æ¥"><a href="#ç¦æ­¢-root-è¿æ¥" class="headerlink" title="ç¦æ­¢ root è¿æ¥"></a>ç¦æ­¢ root è¿æ¥</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PermitRootLogin</span> <span class="literal">no</span></span><br></pre></td></tr></table></figure><h3 id="ip-ç™½åå•"><a href="#ip-ç™½åå•" class="headerlink" title="ip ç™½åå•"></a>ip ç™½åå•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹ <span class="regexp">/etc/</span>hosts.allow</span><br></pre></td></tr></table></figure><h3 id="é‡å¯-ssh"><a href="#é‡å¯-ssh" class="headerlink" title="é‡å¯ ssh"></a>é‡å¯ ssh</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service sshd restart</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>idea å¸¸ç”¨é…ç½®</title>
      <link href="/posts/5789550e/"/>
      <url>/posts/5789550e/</url>
      
        <content type="html"><![CDATA[<h3 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h3><blockquote><p>File â€“&gt; Other Settings â€“&gt; Default Settings</p></blockquote><h3 id="è®¾ç½®ä»£ç ç¼–è¾‘è§†å›¾çš„è¡Œå·æ˜¾ç¤º"><a href="#è®¾ç½®ä»£ç ç¼–è¾‘è§†å›¾çš„è¡Œå·æ˜¾ç¤º" class="headerlink" title="è®¾ç½®ä»£ç ç¼–è¾‘è§†å›¾çš„è¡Œå·æ˜¾ç¤º"></a>è®¾ç½®ä»£ç ç¼–è¾‘è§†å›¾çš„è¡Œå·æ˜¾ç¤º</h3><blockquote><p>Editor -&gt; General -&gt; Appearanceï¼Œå‹¾é€‰ show line numbersã€‚</p></blockquote><h3 id="ä»£ç è‡ªåŠ¨è¡¥å…¨å¿½ç•¥å¤§å°å†™"><a href="#ä»£ç è‡ªåŠ¨è¡¥å…¨å¿½ç•¥å¤§å°å†™" class="headerlink" title="ä»£ç è‡ªåŠ¨è¡¥å…¨å¿½ç•¥å¤§å°å†™"></a>ä»£ç è‡ªåŠ¨è¡¥å…¨å¿½ç•¥å¤§å°å†™</h3><blockquote><p>Editor -&gt; General -&gt; Code Completion -&gt; Case sensitive completion -&gt; ä¸‹æ‹‰é€‰æ‹© None</p></blockquote><h3 id="å…³é—­å•è¯æ‹¼å†™æ£€æŸ¥"><a href="#å…³é—­å•è¯æ‹¼å†™æ£€æŸ¥" class="headerlink" title="å…³é—­å•è¯æ‹¼å†™æ£€æŸ¥"></a>å…³é—­å•è¯æ‹¼å†™æ£€æŸ¥</h3><blockquote><p>Editor -&gt; Spelling -&gt; Typoï¼Œè®¾ç½® Optionsï¼Œå»æ‰å»æ‰å‹¾é€‰ Process codeã€Procss literalsã€Process commentsã€‚</p></blockquote><h3 id="è®¾ç½®å­—ä½“"><a href="#è®¾ç½®å­—ä½“" class="headerlink" title="è®¾ç½®å­—ä½“"></a>è®¾ç½®å­—ä½“</h3><blockquote><p>é¦–å…ˆï¼Œ Editor -&gt; Colors &amp; Fontsï¼ŒScheme ç‚¹å‡» Save Asâ€¦æŒ‰é’®ï¼Œè¾“å…¥å¦å­˜ä¸ºå­—ä½“é…ç½®çš„åç§°ï¼Œç‚¹å‡» OK æŒ‰é’®ã€‚<br>å†è®¾ç½®ï¼ŒEditor -&gt; Colors &amp; Fonts -&gt; Fontï¼Œå–æ¶ˆå‹¾é€‰ show only monospaced fontsï¼ŒPrimary font è®¾ç½®ä¸º Monaco(Monaco å­—ä½“éœ€è¦ç³»ç»Ÿå·²å®‰è£…è¯¥å­—ä½“)ï¼ŒSize è®¾ç½®ä¸º 14ã€‚ç‚¹å‡» OK æŒ‰é’®å®Œæˆå­—ä½“æ ·å¼åŠå¤§å°è®¾ç½®ã€‚</p></blockquote><h3 id="ç¼–ç è®¾ç½®"><a href="#ç¼–ç è®¾ç½®" class="headerlink" title="ç¼–ç è®¾ç½®"></a>ç¼–ç è®¾ç½®</h3><blockquote><p>ç”±äºéœ€è¦é¿å…ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸æƒ…å†µä¼šå°†ç¼–ç ç»Ÿä¸€ä¸º UTF-8ã€‚<br>Editor -&gt; File Encodingsï¼Œå°† IDE Encodingã€Project Encodingã€Default Encoding for properties filesï¼Œå…¨éƒ¨è®¾ç½®ä¸º UTF-8ã€‚å¹¶ä¸”å‹¾é€‰ Default Encoding for properties files åé¢çš„ Transparent natice-to-ascii conversionï¼Œç‚¹å‡» OK æŒ‰é’®å®Œæˆè®¾ç½®ã€‚</p></blockquote><h3 id="è¿‡æ»¤æ–‡ä»¶å¤¹åŠç›®å½•ç±»å‹"><a href="#è¿‡æ»¤æ–‡ä»¶å¤¹åŠç›®å½•ç±»å‹" class="headerlink" title="è¿‡æ»¤æ–‡ä»¶å¤¹åŠç›®å½•ç±»å‹"></a>è¿‡æ»¤æ–‡ä»¶å¤¹åŠç›®å½•ç±»å‹</h3><blockquote><p>Editor -&gt; File Typesï¼ŒIgnore files and folders è¿‡æ»¤åˆ—è¡¨è¾“å…¥æ¡†ä¸­æ·»åŠ .iml;.idea;_.gradle;_build;<br>å„ä¸ªè¿‡æ»¤é¡¹ä¹‹é—´ä»¥åˆ†å·( ; )éš”å¼€ã€‚</p></blockquote><h3 id="ç”Ÿæˆåºåˆ—åŒ–-serialVersionUID"><a href="#ç”Ÿæˆåºåˆ—åŒ–-serialVersionUID" class="headerlink" title="ç”Ÿæˆåºåˆ—åŒ– serialVersionUID"></a>ç”Ÿæˆåºåˆ—åŒ– serialVersionUID</h3><blockquote><p>Editor -&gt; Inspections -&gt; Java -&gt; Serialization issuesï¼Œå‹¾é€‰ Serializable class without â€˜serialVersionUIDâ€™ï¼Œè‡³æ­¤ä»¥åï¼Œåœ¨ä½ çš„ Java ç±»å®ç° java.io.Serializable æ¥å£æ—¶ï¼Œä½¿ç”¨å¿«æ·é”® Alt+Enter å°±ä¼šæç¤º add â€˜serialVersionUIDâ€™ fieldï¼Œè‡ªåŠ¨åˆ›å»º serialVersionUID äº†ã€‚</p></blockquote><h3 id="é…ç½®-Java-ç¼–è¯‘ç‰ˆæœ¬"><a href="#é…ç½®-Java-ç¼–è¯‘ç‰ˆæœ¬" class="headerlink" title="é…ç½® Java ç¼–è¯‘ç‰ˆæœ¬"></a>é…ç½® Java ç¼–è¯‘ç‰ˆæœ¬</h3><blockquote><p>Buildï¼ŒExecutionï¼ŒDeployment -&gt; Compiler -&gt; Java Compilerï¼Œè®¾ç½® Use Cimpiler ä¸º javacï¼ŒProject bytecode version(leave blank for JDK default)ä¸‹æ‹‰åˆ—è¡¨é€‰ä¸­ 1.8(éœ€è¦è®¾ç½®çš„ JDK ç¼–è¯‘ç‰ˆæœ¬)ï¼Œç‚¹å‡» OK æŒ‰é’®å®Œæˆè®¾ç½®ã€‚</p></blockquote><h3 id="å¤‡ä»½-IDEA-å…¨å±€é…ç½®"><a href="#å¤‡ä»½-IDEA-å…¨å±€é…ç½®" class="headerlink" title="å¤‡ä»½ IDEA å…¨å±€é…ç½®"></a>å¤‡ä»½ IDEA å…¨å±€é…ç½®</h3><blockquote><p>IDEA ä¸»ç•Œé¢ï¼Œç‚¹å‡»èœå• Fileï¼Œé€‰æ‹© Export Settingsï¼Œé€‰æ‹©å¯¼å‡ºå…¨éƒ¨é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œç‚¹å‡» OK æŒ‰é’®å®Œæˆå¯¼å‡ºã€‚</p></blockquote><h3 id="å¯¼å…¥å¤‡ä»½çš„-IDEA-å…¨å±€é…ç½®"><a href="#å¯¼å…¥å¤‡ä»½çš„-IDEA-å…¨å±€é…ç½®" class="headerlink" title="å¯¼å…¥å¤‡ä»½çš„ IDEA å…¨å±€é…ç½®"></a>å¯¼å…¥å¤‡ä»½çš„ IDEA å…¨å±€é…ç½®</h3><blockquote><p>IDEA ä¸»ç•Œé¢ï¼Œç‚¹å‡»èœå• Fileï¼Œé€‰æ‹© Import Settingsï¼Œé€‰æ‹©å¯¼å‡ºå…¨éƒ¨é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•çš„ settings.jar é…ç½®å¤‡ä»½æ–‡ä»¶ï¼Œç‚¹å‡» OK æŒ‰é’®å®Œæˆå¯¼å…¥ã€‚</p></blockquote><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p><a href="http://www.oschina.net/question/948439_243781">intellij IDEA å¦‚ä½•è®¾ç½®é»˜è®¤çš„ maven é…ç½®ï¼Ÿ</a><br><a href="http://blog.csdn.net/eugeneheen/article/details/50370334">IntelliJ IDEA15 ç®€è¦ä½¿ç”¨æ‰‹å†Œ</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>git å¸¸ç”¨å‘½ä»¤</title>
      <link href="/posts/48e28a7b/"/>
      <url>/posts/48e28a7b/</url>
      
        <content type="html"><![CDATA[<h3 id="æ·»åŠ è¿œç¨‹åº“"><a href="#æ·»åŠ è¿œç¨‹åº“" class="headerlink" title="æ·»åŠ è¿œç¨‹åº“"></a>æ·»åŠ è¿œç¨‹åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add xxx</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸€æ¬¡æäº¤"><a href="#ç¬¬ä¸€æ¬¡æäº¤" class="headerlink" title="ç¬¬ä¸€æ¬¡æäº¤"></a>ç¬¬ä¸€æ¬¡æäº¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h3 id="å¼ºåˆ¶æäº¤"><a href="#å¼ºåˆ¶æäº¤" class="headerlink" title="å¼ºåˆ¶æäº¤"></a>å¼ºåˆ¶æäº¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f origin master</span><br></pre></td></tr></table></figure><h3 id="åŒæ—¶æäº¤ä¸¤ä¸ªè¿œç¨‹åº“"><a href="#åŒæ—¶æäº¤ä¸¤ä¸ªè¿œç¨‹åº“" class="headerlink" title="åŒæ—¶æäº¤ä¸¤ä¸ªè¿œç¨‹åº“"></a>åŒæ—¶æäº¤ä¸¤ä¸ªè¿œç¨‹åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim .git/config</span><br><span class="line">&gt; [remote <span class="string">&quot;web&quot;</span>]</span><br><span class="line">&gt; url = ssh://server.example.org/home/ams/website.git</span><br><span class="line">&gt; url = ssh://other.exaple.org/home/foo/website.git</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æœ¬åœ°é…ç½®çš„è¿œç¨‹ä»“åº“"><a href="#æŸ¥çœ‹æœ¬åœ°é…ç½®çš„è¿œç¨‹ä»“åº“" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°é…ç½®çš„è¿œç¨‹ä»“åº“"></a>æŸ¥çœ‹æœ¬åœ°é…ç½®çš„è¿œç¨‹ä»“åº“</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git remote -v</span></span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤åŸæ¥çš„è¿œç¨‹åˆ†æ”¯"><a href="#åˆ é™¤åŸæ¥çš„è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ é™¤åŸæ¥çš„è¿œç¨‹åˆ†æ”¯"></a>åˆ é™¤åŸæ¥çš„è¿œç¨‹åˆ†æ”¯</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">remove</span> <span class="built_in">origin</span></span><br></pre></td></tr></table></figure><h3 id="å…³è”æ–°çš„è¿œç¨‹ä»“åº“"><a href="#å…³è”æ–°çš„è¿œç¨‹ä»“åº“" class="headerlink" title="å…³è”æ–°çš„è¿œç¨‹ä»“åº“"></a>å…³è”æ–°çš„è¿œç¨‹ä»“åº“</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add</span><span class="bash"> origin url</span></span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯"><a href="#æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯"></a>æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯</h3><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --<span class="keyword">set</span>-upstream-<span class="keyword">to</span>=origin/xxx</span><br></pre></td></tr></table></figure><h3 id="æ–°åº“æ“ä½œ"><a href="#æ–°åº“æ“ä½œ" class="headerlink" title="æ–°åº“æ“ä½œ"></a>æ–°åº“æ“ä½œ</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">Git global setup</span><br><span class="line"></span><br><span class="line">git config --global user.name &quot;KiwiFly&quot;</span><br><span class="line">git config --global user.email &quot;xx@qq.com&quot;</span><br><span class="line"></span><br><span class="line">Create a new repository</span><br><span class="line"></span><br><span class="line">git clone git@xx.com:Java/abc.git</span><br><span class="line">cd fs_saledian_lovelife</span><br><span class="line">touch README.md</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;add README&quot;</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">Existing folder or Git repository</span><br><span class="line"></span><br><span class="line">cd existing_folder</span><br><span class="line">git init</span><br><span class="line">git remote add origin git@xx.com:Java/abc.git</span><br><span class="line">git add .</span><br><span class="line">git commit</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå…¬é’¥"><a href="#åˆ›å»ºå…¬é’¥" class="headerlink" title="åˆ›å»ºå…¬é’¥"></a>åˆ›å»ºå…¬é’¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@youremail.com&quot;</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><ol><li>error: failed to push some refs to</li></ol><ul><li><p>åŸå› </p><ul><li><blockquote><p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºè¿œç¨‹åº“ä¸æœ¬åœ°åº“ä¸ä¸€è‡´é€ æˆçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠè¿œç¨‹åº“åŒæ­¥åˆ°æœ¬åœ°åº“å°±å¯ä»¥äº†ã€‚</p></blockquote></li></ul></li><li><p>è§£å†³</p></li></ul><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull <span class="comment">--rebase origin master</span></span><br></pre></td></tr></table></figure><ul><li>å¼•ç”¨</li></ul><p><a href="https://blog.csdn.net/MBuger/article/details/70197532">é“¾æ¥</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æœåŠ¡å®‰è£…(åŸç”Ÿ)</title>
      <link href="/posts/37c69c79/"/>
      <url>/posts/37c69c79/</url>
      
        <content type="html"><![CDATA[<h3 id="centos-7-å®‰è£…-docker"><a href="#centos-7-å®‰è£…-docker" class="headerlink" title="centos 7 å®‰è£… docker"></a>centos 7 å®‰è£… docker</h3><ol><li>å®‰è£… docker</li></ol><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> docker</span><br></pre></td></tr></table></figure><ol start="2"><li>å¯åŠ¨å¹¶å¼€æœºè‡ªå¯ docker</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">systemctl</span>  <span class="selector-tag">start</span> <span class="selector-tag">docker</span><span class="selector-class">.service</span></span><br><span class="line"><span class="selector-tag">systemctl</span>  <span class="selector-tag">enable</span> <span class="selector-tag">docker</span><span class="selector-class">.service</span></span><br></pre></td></tr></table></figure><p><a href="https://linux.cn/article-4340-1.html">centos å®‰è£… docker</a></p><h3 id="å®‰è£…-docker-compose"><a href="#å®‰è£…-docker-compose" class="headerlink" title="å®‰è£… docker-compose"></a>å®‰è£… docker-compose</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install docker-compose</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-JDK"><a href="#å®‰è£…-JDK" class="headerlink" title="å®‰è£… JDK"></a>å®‰è£… JDK</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget</span><br><span class="line">http://111.1.14.201/files/6036000006C14836/download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-linux-x64.rpm</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ RPM åŒ…</span></span><br><span class="line">rpm -i xx.rpm</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-GIT"><a href="#å®‰è£…-GIT" class="headerlink" title="å®‰è£… GIT"></a>å®‰è£… GIT</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install git-core</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-MAVEN"><a href="#å®‰è£…-MAVEN" class="headerlink" title="å®‰è£… MAVEN"></a>å®‰è£… MAVEN</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget</span><br><span class="line">http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo</span><br><span class="line"> -O /etc/yum.repos.d/epel-apache-maven.repo</span><br><span class="line">yum -y install apache-maven</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-ftp-å®¢æˆ·ç«¯"><a href="#å®‰è£…-ftp-å®¢æˆ·ç«¯" class="headerlink" title="å®‰è£… ftp å®¢æˆ·ç«¯"></a>å®‰è£… ftp å®¢æˆ·ç«¯</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install ftp</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-rz"><a href="#å®‰è£…-rz" class="headerlink" title="å®‰è£… rz"></a>å®‰è£… rz</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install lrzsz</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/helloxz/nginx-cdn/master/nginx.sh &amp;&amp; bash nginx.sh</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-redis"><a href="#å®‰è£…-redis" class="headerlink" title="å®‰è£… redis"></a>å®‰è£… redis</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">sudo yum -y install redis</span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">sudo systemctl start redis</span><br><span class="line"><span class="comment"># ä¿®æ”¹é…ç½®</span></span><br><span class="line">vi /etc/redis.conf</span><br><span class="line"><span class="comment"># æ³¨é‡Šæœ¬åœ°è®¿é—®</span></span><br><span class="line"><span class="comment">#bind 127.0.0.1</span></span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç </span></span><br><span class="line">requirepass å¯†ç </span><br><span class="line"><span class="comment"># å…¶å®ƒå¸¸ç”¨å‘½ä»¤</span></span><br><span class="line">systemctl start redis.service <span class="comment">#å¯åŠ¨redisæœåŠ¡å™¨</span></span><br><span class="line">systemctl stop redis.service <span class="comment">#åœæ­¢redisæœåŠ¡å™¨</span></span><br><span class="line">systemctl restart redis.service <span class="comment">#é‡æ–°å¯åŠ¨redisæœåŠ¡å™¨</span></span><br><span class="line">systemctl status redis.service <span class="comment">#è·å–redisæœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">systemctl <span class="built_in">enable</span> redis.service <span class="comment">#å¼€æœºå¯åŠ¨redisæœåŠ¡å™¨</span></span><br><span class="line">systemctl <span class="built_in">disable</span> redis.service <span class="comment">#å¼€æœºç¦ç”¨redisæœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æœåŠ¡å®‰è£…(docker)</title>
      <link href="/posts/b1229581/"/>
      <url>/posts/b1229581/</url>
      
        <content type="html"><![CDATA[<ol><li>mariadb</li></ol><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> --name db --env <span class="attribute">MYSQL_PASSWORD</span>=example -d mariadb</span><br></pre></td></tr></table></figure><ol><li>wordpress</li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --MyWordPress --link db:mysql -p <span class="number">8080</span>:<span class="number">80</span> -d wordpress</span><br></pre></td></tr></table></figure><ol><li>postgresql</li></ol><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker </span><span class="string">run </span><span class="built_in">--postgresql</span> -d \</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;DB_NAME=gitlabhq_production&#x27;</span> \</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;DB_USER=gitlab&#x27;</span> \</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;DB_PASS=password&#x27;</span> \</span><br><span class="line"><span class="string">sameersbn/</span><span class="string">postgresql:9.</span><span class="string">4-12</span></span><br></pre></td></tr></table></figure><ol><li>redis</li></ol><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> <span class="comment">--name redis -d sameersbn/redis:latest</span></span><br></pre></td></tr></table></figure><ol><li>gitlab</li></ol><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker </span><span class="string">run </span><span class="built_in">--name</span> <span class="string">gitlab </span>-d \</span><br><span class="line"><span class="built_in">--link</span> <span class="string">postgresql:postgresql </span>\</span><br><span class="line"><span class="built_in">--link</span> <span class="string">redis:redisio </span>\</span><br><span class="line"><span class="built_in">--publish</span> <span class="string">10022:22 </span>\</span><br><span class="line"><span class="built_in">--publish</span> <span class="string">10080:80 </span>\</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;GITLAB_PORT=10080&#x27;</span> \</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;GITLAB_SSH_PORT=10022&#x27;</span> \</span><br><span class="line"><span class="built_in">--env</span> <span class="string">&#x27;GITLAB_SECRETS_DB_KEY_BASE-long-and-random-alpha-numeric-string&#x27;</span>\</span><br><span class="line"><span class="string">sameersbn/</span><span class="string">gitlab:8.</span>4.4</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker composeä½¿ç”¨</title>
      <link href="/posts/10c8507f/"/>
      <url>/posts/10c8507f/</url>
      
        <content type="html"><![CDATA[<ol><li>å®‰è£…(<a href="https://get.daocloud.io/">https://get.daocloud.io/</a>)</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://get.daocloud.io/docker/compose/releases/download/1.15.0/docker-compose-`uname -s`-`uname -m` &gt; /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line">chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><ol><li>é…ç½®æ–‡ä»¶ docker-compose.yml</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordpress:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">wordpress</span></span><br><span class="line">  <span class="attr">links:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">db:mysql</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="number">8080</span><span class="string">:80</span></span><br><span class="line"><span class="attr">db:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">mariadb</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">example</span></span><br></pre></td></tr></table></figure><ol><li>å¯åŠ¨</li></ol><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># åˆ›å»ºä¸å¯åŠ¨</span></span><br><span class="line">docker-compose up</span><br><span class="line"><span class="meta"># -f æŒ‡å®šé…ç½®æ–‡ä»¶åï¼Œé»˜è®¤docker-compose.yml</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å¯åŠ¨</span></span><br><span class="line">docker-compose start</span><br></pre></td></tr></table></figure><ol><li>å…³é—­</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker-compose stod</span></span><br></pre></td></tr></table></figure><ol><li>æŸ¥è¯¢</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker-compose ps</span></span><br></pre></td></tr></table></figure><ol><li>åˆ é™¤</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker-compose down</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker å¸¸ç”¨å‘½ä»¤</title>
      <link href="/posts/d76bceb7/"/>
      <url>/posts/d76bceb7/</url>
      
        <content type="html"><![CDATA[<ol><li>åŸºç¡€å‘½ä»¤</li></ol><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‘½ä»¤æ ¼å¼</span></span><br><span class="line">docker å‘½ä»¤å…³é”®å­—(<span class="keyword">command</span>) ä¸€ç³»åˆ—å‚æ•°([<span class="title">args</span>...])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢å‘½ä»¤å¸®åŠ©</span></span><br><span class="line">docker <span class="keyword">command</span> --<span class="title">help</span></span><br></pre></td></tr></table></figure><ol><li><p>å¯åŠ¨å®¹å™¨<br><code>docker start id/name</code></p></li><li><p>å…³é—­å®¹å™¨<br><code>docker stop id/name</code></p></li><li><p>æŸ¥è¯¢åœ¨çº¿å®¹å™¨</p></li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> ps<span class="meta"> [-a]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -a æ˜¾ç¤ºæ‰€æœ‰ï¼ŒåŒ…æ‹¬å·²ç»å…³é—­çš„</span></span><br></pre></td></tr></table></figure><ol><li><p>æŸ¥è¯¢å®¹å™¨ä¿¡æ¯<br><code>docker inspect id/name</code></p></li><li><p>æŸ¥çœ‹å®¹å™¨æ—¥å¿—<br><code>docker logs [-f] id/name</code></p></li><li><p>æŸ¥çœ‹å®¹å™¨èµ„æºå ç”¨<br><code>docker stats</code></p></li><li><p>å®¹å™¨å†…éƒ¨å‘½ä»¤</p></li></ol><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker exec <span class="built_in">id</span>/<span class="built_in">name</span> æ‰§è¡Œå‘½ä»¤</span><br><span class="line"><span class="comment"># ä»¥rootç”¨æˆ·æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker exec -<span class="keyword">it</span> <span class="built_in">id</span>/<span class="built_in">name</span> æ‰§è¡Œå‘½ä»¤</span><br><span class="line"><span class="comment"># ä»¥rootç”¨æˆ·æ‰“å¼€ä¸€ä¸ªç»ˆç«¯,exité€€å‡º</span></span><br><span class="line">docker exec -<span class="keyword">it</span> <span class="built_in">id</span>/<span class="built_in">name</span> /bin/bash</span><br></pre></td></tr></table></figure><ol><li>é•œåƒæŸ¥è¯¢</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker search xx</span></span><br></pre></td></tr></table></figure><ol><li>é•œåƒä¸‹è½½</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker pull xx</span></span><br></pre></td></tr></table></figure><ol><li>æœ¬åœ°é•œåƒåˆ—è¡¨</li></ol><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker images</span></span><br></pre></td></tr></table></figure><ol><li>å¯åŠ¨å®¹å™¨</li></ol><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run [--name] [--link] é•œåƒid/name</span><br><span class="line"></span><br><span class="line"><span class="meta"># --link å®¹å™¨è¿æ¥</span></span><br><span class="line"><span class="meta"># --name å®¹å™¨èµ·çš„åç§°</span></span><br><span class="line"><span class="meta"># --p ç«¯å£æ˜ å°„ 8080:80</span></span><br><span class="line"><span class="meta"># --e ç¯å¢ƒå˜é‡è®¾ç½®</span></span><br></pre></td></tr></table></figure><ol><li>åˆ é™¤å®¹å™¨</li></ol><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm <span class="built_in">id</span>/<span class="built_in">name</span></span><br></pre></td></tr></table></figure><ol><li>åˆ›å»ºé•œåƒ</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">commit</span> <span class="keyword">id</span> imageName</span><br></pre></td></tr></table></figure><ol><li>å…³é—­æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</li></ol><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop <span class="constructor">$(<span class="params">docker</span> <span class="params">ps</span> -<span class="params">q</span>)</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>lombok åŸºç¡€æ•™ç¨‹</title>
      <link href="/posts/e36fd55e/"/>
      <url>/posts/e36fd55e/</url>
      
        <content type="html"><![CDATA[<h1 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h1><h4 id="ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç "><a href="#ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç " class="headerlink" title="ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç "></a>ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç </h4><h4 id="åŸç†ï¼šASM-åŠ¨æ€ä¿®æ”¹-class-æ–‡ä»¶"><a href="#åŸç†ï¼šASM-åŠ¨æ€ä¿®æ”¹-class-æ–‡ä»¶" class="headerlink" title="åŸç†ï¼šASM Â  åŠ¨æ€ä¿®æ”¹ class æ–‡ä»¶"></a>åŸç†ï¼šASM Â  åŠ¨æ€ä¿®æ”¹ class æ–‡ä»¶</h4><hr><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><h4 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h3><ul><li>å®‰è£…æ’ä»¶<br><img src="http://ww2.sinaimg.cn/large/68f7efe0gw1fb0hl2gmyzj20su0kagqg.jpg#align=left&display=inline&height=730&margin=%5Bobject%20Object%5D&originHeight=730&originWidth=1038&status=done&style=none&width=1038"></li></ul><hr><h1 id="å¸¸ç”¨æ³¨è§£ï¼š"><a href="#å¸¸ç”¨æ³¨è§£ï¼š" class="headerlink" title="å¸¸ç”¨æ³¨è§£ï¼š"></a>å¸¸ç”¨æ³¨è§£ï¼š</h1><h2 id="java-bean-ç›¸å…³"><a href="#java-bean-ç›¸å…³" class="headerlink" title="java bean ç›¸å…³"></a>java bean ç›¸å…³</h2><h3 id="Setter"><a href="#Setter" class="headerlink" title="@Setter"></a>@Setter</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç”Ÿæˆ setter æ–¹æ³•</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Setter</span></span><br><span class="line">       <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">private</span> Integer id;</span><br><span class="line">           <span class="keyword">private</span> String name;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Getter"><a href="#Getter" class="headerlink" title="@Getter"></a>@Getter</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç”Ÿæˆ getter æ–¹æ³•</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">String</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ToString"><a href="#ToString" class="headerlink" title="@ToString"></a>@ToString</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç”Ÿæˆ toString æ–¹æ³•</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@ToString</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">String</span> <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.id + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.name + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Getter-lazy-true"><a href="#Getter-lazy-true" class="headerlink" title="@Getter(lazy = true)"></a>@Getter(lazy = true)</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>æ‡’åŠ è½½å±æ€§</p></blockquote><ul><li><code>æ³¨æ„:</code></li></ul><blockquote><p>è¿™ä¸ªä¸ä¸Šé¢@Getter ä¸åŒï¼Œé‚£ä¸ªæ˜¯ä¿®é¥°åœ¨ç±»ä¸Šçš„ï¼Œä¹Ÿå¯ä»¥ä¿®é¥°åœ¨å±æ€§ä¸Šã€‚å¦‚æœæœ‰ lazy=true åªèƒ½ä¿®é¥°åœ¨å±æ€§ï¼Œå¹¶ä¸”è¿˜è¦æ˜¯ private final ä¿®é¥°ï¼Œé™åˆ¶å¾ˆå¤§</p></blockquote><ul><li><code>ç¼–ç </code></li></ul><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">LombokDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    @Getter(lazy = <span class="literal">true</span>) <span class="keyword">private</span> <span class="keyword">final</span> List&lt;Integer&gt; ids = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicReference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AtomicReference&lt;Object&gt; ids = new AtomicReference();</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; getIds() &#123;</span><br><span class="line">        Object value = <span class="keyword">this</span>.ids.<span class="keyword">get</span>();</span><br><span class="line">        <span class="keyword">if</span>(value == <span class="literal">null</span>) &#123;</span><br><span class="line">            AtomicReference var2 = <span class="keyword">this</span>.ids;</span><br><span class="line">            synchronized(<span class="keyword">this</span>.ids) &#123;</span><br><span class="line">                value = <span class="keyword">this</span>.ids.<span class="keyword">get</span>();</span><br><span class="line">                <span class="keyword">if</span>(value == <span class="literal">null</span>) &#123;</span><br><span class="line">                    List actualValue = Arrays.asList(new Integer[]&#123;Integer.valueOf(<span class="number">1</span>), Integer.valueOf(<span class="number">2</span>), Integer.valueOf(<span class="number">3</span>), Integer.valueOf(<span class="number">4</span>)&#125;);</span><br><span class="line">                    value = actualValue == <span class="literal">null</span>?<span class="keyword">this</span>.ids:actualValue;</span><br><span class="line">                    <span class="keyword">this</span>.ids.<span class="keyword">set</span>(value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (List)((List)(value == <span class="keyword">this</span>.ids?<span class="literal">null</span>:value));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="EqualsAndHashCode"><a href="#EqualsAndHashCode" class="headerlink" title="@EqualsAndHashCode"></a>@EqualsAndHashCode</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç”Ÿæˆ equals æ–¹æ³•ä¸ hashCode æ–¹æ³•</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@EqualsAndHashCode</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o instanceof LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            <span class="keyword">if</span>(!other.canEqual(<span class="keyword">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.id;</span><br><span class="line">                Integer other$id = other.id;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$id != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String <span class="keyword">this</span>$name = <span class="keyword">this</span>.name;</span><br><span class="line">                String other$name = other.name;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$name != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> boolean canEqual(Object other) &#123;</span><br><span class="line">        <span class="keyword">return</span> other instanceof LombokDemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> int hashCode() &#123;</span><br><span class="line">        boolean PRIME = <span class="literal">true</span>;</span><br><span class="line">        byte result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.id;</span><br><span class="line">        int result1 = result * <span class="number">59</span> + ($id == <span class="literal">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.name;</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="literal">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="NoAragsConstructor"><a href="#NoAragsConstructor" class="headerlink" title="@NoAragsConstructor"></a>@NoAragsConstructor</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>æ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</p></blockquote><ul><li><code>æ³¨æ„</code></li></ul><blockquote><p>è¿™ä¸ªæ³¨è§£åœ¨æ²¡æœ‰å…¶å®ƒæœ‰å‚æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ java é»˜è®¤ä¼šæ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@NoArgsConstructor</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AllArgsConstructor"><a href="#AllArgsConstructor" class="headerlink" title="@AllArgsConstructor"></a>@AllArgsConstructor</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>æ·»åŠ ä¸€ä¸ªæ‰€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@AllArgsConstructor</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;<span class="meta-string">&quot;id&quot;</span>, <span class="meta-string">&quot;name&quot;</span>&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> LombokDemo(Integer id, String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RequiredArgsConstructor"><a href="#RequiredArgsConstructor" class="headerlink" title="@RequiredArgsConstructor"></a>@RequiredArgsConstructor</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç”Ÿæˆä¸€ä¸ªåŒ…å«å¿…å¡«å‚æ•°çš„æ„é€ å‡½æ•°</p></blockquote><ul><li><code>æ³¨æ„</code></li></ul><blockquote><p>è¦ä¸@NonNull æ­é…ä½¿ç”¨ï¼Œè¯¥æ³¨è§£ä¿®é¥°çš„å±æ€§å°±æ˜¯å¿…å¡«å‚æ•°</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;&quot;id&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">(<span class="meta">@NonNull</span> Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(id == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Data"><a href="#Data" class="headerlink" title="@Data"></a>@Data</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>è¿™æ˜¯ä¸€ä¸ªç»¼åˆæ³¨è§£äº†ï¼Œç­‰äºåŒæ—¶ä½¿ç”¨</p></blockquote><blockquote><p><code>@Getter</code>, <code>@Setter</code>, <code>@ToString</code>, <code>@EqualsAndHashCode</code>,<code>@RequiredArgsConstructor</code></p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    @NonNull <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> String <span class="keyword">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer getId() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> void setId(Integer id) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> void setName(String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o instanceof LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            <span class="keyword">if</span>(!other.canEqual(<span class="keyword">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.getId();</span><br><span class="line">                Integer other$id = other.getId();</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$id != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String <span class="keyword">this</span>$name = <span class="keyword">this</span>.getName();</span><br><span class="line">                String other$name = other.getName();</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$name != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> boolean canEqual(Object other) &#123;</span><br><span class="line">        <span class="keyword">return</span> other instanceof LombokDemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> int hashCode() &#123;</span><br><span class="line">        boolean PRIME = <span class="literal">true</span>;</span><br><span class="line">        byte result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.getId();</span><br><span class="line">        int result1 = result * <span class="number">59</span> + ($id == <span class="literal">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.getName();</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="literal">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String toString() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.getId() + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.getName() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ä¸å¯å˜ç±»çš„@Data, ä»–ä¼šé»˜è®¤ç»™å±æ€§åŠ ä¸Š final</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">Value</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> String <span class="keyword">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;<span class="meta-string">&quot;id&quot;</span>, <span class="meta-string">&quot;name&quot;</span>&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> LombokDemo(Integer id, String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer getId() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o instanceof LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.getId();</span><br><span class="line">            Integer other$id = other.getId();</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(other$id != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            String <span class="keyword">this</span>$name = <span class="keyword">this</span>.getName();</span><br><span class="line">            String other$name = other.getName();</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(other$name != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> int hashCode() &#123;</span><br><span class="line">        boolean PRIME = <span class="literal">true</span>;</span><br><span class="line">        byte result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.getId();</span><br><span class="line">        int result1 = result * <span class="number">59</span> + ($id == <span class="literal">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.getName();</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="literal">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String toString() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.getId() + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.getName() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Accessors"><a href="#Accessors" class="headerlink" title="@Accessors"></a>@Accessors</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>è¿™ä¸ªæ³¨è§£è¦æ­é…@Getter ä¸@Setter ä½¿ç”¨ï¼Œç”¨æ¥ä¿®æ”¹é»˜è®¤çš„ setter ä¸ getter æ–¹æ³•çš„å½¢å¼</p></blockquote><ul><li><code>æ³¨æ„</code></li></ul><blockquote><p>@Accessors æœ‰ä¸‰ä¸ªå‚æ•°å¯ä»¥ä½¿ç”¨</p></blockquote><blockquote><ol><li>chain Â  é“¾å¼çš„å½¢å¼</li></ol></blockquote><blockquote><ol start="2"><li>fluent Â  æµå¼çš„å½¢å¼</li></ol></blockquote><blockquote><ol start="3"><li>prefix Â  ç”ŸæˆæŒ‡å®šå‰ç¼€çš„å±æ€§çš„ getter ä¸ setter æ–¹æ³•ï¼Œå¹¶ä¸”ç”Ÿæˆçš„ getter ä¸ setter æ–¹æ³•æ—¶ä¼šå»é™¤å‰ç¼€</li></ol></blockquote><ul><li><code>æºç  chain = true</code></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Accessors</span>(chain = true)</span><br><span class="line"><span class="variable">@Setter</span></span><br><span class="line"><span class="variable">@Getter</span></span><br><span class="line">public class LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">Integer</span> <span class="selector-tag">id</span>;</span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">String</span> <span class="selector-tag">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å chain = true</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo setId(Integer id) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo setName(String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer getId() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>æºç  fluent = true</code></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Accessors</span>(fluent = true)</span><br><span class="line"><span class="variable">@Setter</span></span><br><span class="line"><span class="variable">@Getter</span></span><br><span class="line">public class LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">Integer</span> <span class="selector-tag">id</span>;</span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">String</span> <span class="selector-tag">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å fluent = true</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo id(Integer id) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo name(String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer id() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>æºç  prefix = &quot;xxx&quot;</code></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Accessors</span>(prefix = <span class="string">&quot;xxx&quot;</span>)</span><br><span class="line"><span class="variable">@Setter</span></span><br><span class="line"><span class="variable">@Getter</span></span><br><span class="line">public class LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">Integer</span> <span class="selector-tag">xxxId</span>;</span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">String</span> <span class="selector-tag">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å prefix = &quot;xxx&quot;</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer xxxId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.xxxId = xxxId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.xxxId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="å…¶å®ƒæ³¨è§£ï¼š"><a href="#å…¶å®ƒæ³¨è§£ï¼š" class="headerlink" title="å…¶å®ƒæ³¨è§£ï¼š"></a>å…¶å®ƒæ³¨è§£ï¼š</h1><h2 id="æ—¥å¿—ç›¸å…³"><a href="#æ—¥å¿—ç›¸å…³" class="headerlink" title="æ—¥å¿—ç›¸å…³"></a>æ—¥å¿—ç›¸å…³</h2><h3 id="Log4j"><a href="#Log4j" class="headerlink" title="@Log4j"></a>@Log4j</h3><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Log4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger <span class="built_in">log</span> = Logger.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="CommonsLog"><a href="#CommonsLog" class="headerlink" title="@CommonsLog"></a>@CommonsLog</h3><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@CommonsLog</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package xyz<span class="number">.</span>mrwood<span class="number">.</span>study<span class="number">.</span>lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org<span class="number">.</span>apache<span class="number">.</span>commons<span class="number">.</span>logging<span class="number">.</span><span class="built_in">Log</span>;</span><br><span class="line"><span class="keyword">import</span> org<span class="number">.</span>apache<span class="number">.</span>commons<span class="number">.</span>logging<span class="number">.</span>LogFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> LombokDemo &#123;</span><br><span class="line">    <span class="keyword">private</span> static <span class="keyword">final</span> <span class="built_in">Log</span> <span class="built_in">log</span> = LogFactory<span class="number">.</span>getLog(LombokDemo<span class="number">.</span><span class="keyword">class</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> String <span class="keyword">name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> LombokDemo() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Log"><a href="#Log" class="headerlink" title="@Log"></a>@Log</h3><ul><li><code>æºç </code></li></ul><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">Log</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> String <span class="keyword">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger <span class="built_in">log</span> = Logger.getLogger(LombokDemo.class.getName());</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Log4j2"><a href="#Log4j2" class="headerlink" title="@Log4j2"></a>@Log4j2</h3><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Log4j2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger <span class="built_in">log</span> = LogManager.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Slf4j"><a href="#Slf4j" class="headerlink" title="@Slf4j"></a>@Slf4j</h3><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Slf4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger <span class="built_in">log</span> = LoggerFactory.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾è®¡æ¨¡å¼ç›¸å…³"><a href="#è®¾è®¡æ¨¡å¼ç›¸å…³" class="headerlink" title="è®¾è®¡æ¨¡å¼ç›¸å…³"></a>è®¾è®¡æ¨¡å¼ç›¸å…³</h2><h3 id="Builder"><a href="#Builder" class="headerlink" title="@Builder"></a>@Builder</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>é€šè¿‡å»ºé€ è€…æ¨¡å—æ¥ç”Ÿæˆ bean</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Builder</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    LombokDemo(Integer id, String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> static LombokDemo.LombokDemoBuilder builder() &#123;</span><br><span class="line">        <span class="keyword">return</span> new LombokDemo.LombokDemoBuilder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> static <span class="class"><span class="keyword">class</span> <span class="title">LombokDemoBuilder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Integer id;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        LombokDemoBuilder() &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> LombokDemo.LombokDemoBuilder id(Integer id) &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> LombokDemo.LombokDemoBuilder name(String name) &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> LombokDemo build() &#123;</span><br><span class="line">            <span class="keyword">return</span> new LombokDemo(<span class="keyword">this</span>.id, <span class="keyword">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String toString() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;LombokDemo.LombokDemoBuilder(id=&quot;</span> + <span class="keyword">this</span>.id + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.name + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Delegate"><a href="#Delegate" class="headerlink" title="@Delegate"></a>@Delegate</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>@Delegate æ³¨é‡Šçš„å±æ€§ï¼Œä¼šæŠŠè¿™ä¸ªå±æ€§å¯¹è±¡çš„å…¬æœ‰éé™æ€æ–¹æ³•åˆåˆ°å½“å‰ç±»</p></blockquote><ul><li><code>æ³¨æ„</code></li></ul><blockquote><p>å…¬å…± éé™æ€æ–¹æ³•</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    @Delegate</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">byte</span> <span class="title">byteValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.byteValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">short</span> <span class="title">shortValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.shortValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">intValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.intValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">longValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.longValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">floatValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.floatValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">doubleValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.doubleValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Integer arg0)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.compareTo(arg0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å·¥å…·ç›¸å…³"><a href="#å·¥å…·ç›¸å…³" class="headerlink" title="å·¥å…·ç›¸å…³"></a>å·¥å…·ç›¸å…³</h2><h3 id="Cleanup"><a href="#Cleanup" class="headerlink" title="@Cleanup"></a>@Cleanup</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>å…³é—­æµ</p></blockquote><ul><li><code>æ³¨æ„</code></li></ul><blockquote><p>å…³é—­æµçš„æ–¹å¼æœ‰ç‚¹æ€ªå¼‚ï¼Œè€Œä¸”æ²¡æœ‰åœ¨<strong>finally</strong>é‡Œé¢å…³é—­ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸çš„å°±ä¸ä¼šå…³é—­äº†</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Cleanup</span> InputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xxx.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xxx.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(Collections.singletonList(inputStream).get(<span class="number">0</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            inputStream.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Synchronized"><a href="#Synchronized" class="headerlink" title="@Synchronized"></a>@Synchronized</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>ç»™æ–¹æ³•åŠ ä¸€ä¸ªåŒæ­¥å—</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Synchronized</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object $lock = <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Object var1 = <span class="keyword">this</span>.$lock;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="keyword">this</span>.$lock) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SneakyThrows"><a href="#SneakyThrows" class="headerlink" title="@SneakyThrows"></a>@SneakyThrows</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>å¿½ç•¥å¼‚å¸¸</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    @SneakyThrows</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">String</span> s = <span class="keyword">new</span> <span class="keyword">String</span>(<span class="string">&quot;test&quot;</span>.getBytes(), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object $lock = <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Object var1 = <span class="keyword">this</span>.$lock;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="keyword">this</span>.$lock) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="NonNull"><a href="#NonNull" class="headerlink" title="@NonNull"></a>@NonNull</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>è®¾ç½®ä¸èƒ½ä¸ºç©ºçš„å‚æ•°</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">class</span> <span class="selector-tag">LombokDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">void</span> <span class="selector-tag">test</span>(<span class="variable">@NonNull</span> String val) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="meta">@NonNull</span> String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(val == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;val&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="UtilityClass"><a href="#UtilityClass" class="headerlink" title="@UtilityClass"></a>@UtilityClass</h3><ul><li><code>åŠŸèƒ½</code></li></ul><blockquote><p>æŠŠæ™®é€šç±»è½¬ä¸ºå·¥å…·ç±»</p></blockquote><ul><li><code>æºç </code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@UtilityClass</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name = <span class="string">&quot;kiwi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">util</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.<span class="built_in">println</span>(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> &#123;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Integer id = Integer.valueOf(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">String</span> name = <span class="string">&quot;kiwi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">util</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.<span class="built_in">println</span>(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;This is a utility class and cannot be instantiated&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>maven æŒ‰ç¯å¢ƒåŠ è½½é…ç½®æ–‡ä»¶</title>
      <link href="/posts/e0dc8c3f/"/>
      <url>/posts/e0dc8c3f/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡ maven çš„ profile å®ç°æŒ‰ç¯å¢ƒæ¥åŠ è½½é…ç½®æ–‡ä»¶</p><h6 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h6><p>project_file_root<br>|â€”main<br>|â€”â€”â€“java<br>|â€”â€”â€“resources<br>|â€”â€”â€“profile<br>|â€”â€”â€”â€”â€”dev<br>|â€”â€”â€”â€”â€”test<br>|â€”â€”â€”â€”â€”beta<br>|â€”â€”â€”â€”â€”release</p><h6 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h6><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">&lt;profiles&gt;</span></span><br><span class="line">true<span class="params">&lt;profile&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;id&gt;</span>dev<span class="params">&lt;/id&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;activation&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;activeByDefault&gt;</span>true<span class="params">&lt;/activeByDefault&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/activation&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;properties&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;config.dir&gt;</span>dev<span class="params">&lt;/config.dir&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/properties&gt;</span></span><br><span class="line">true<span class="params">&lt;/profile&gt;</span></span><br><span class="line">true<span class="params">&lt;profile&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;id&gt;</span>test<span class="params">&lt;/id&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;properties&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;config.dir&gt;</span>test<span class="params">&lt;/config.dir&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/properties&gt;</span></span><br><span class="line">true<span class="params">&lt;/profile&gt;</span></span><br><span class="line">true<span class="params">&lt;profile&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;id&gt;</span>beta<span class="params">&lt;/id&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;properties&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;config.dir&gt;</span>beta<span class="params">&lt;/config.dir&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/properties&gt;</span></span><br><span class="line">true<span class="params">&lt;/profile&gt;</span></span><br><span class="line">true<span class="params">&lt;profile&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;id&gt;</span>release<span class="params">&lt;/id&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;properties&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;config.dir&gt;</span>release<span class="params">&lt;/config.dir&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/properties&gt;</span></span><br><span class="line">true<span class="params">&lt;/profile&gt;</span></span><br><span class="line"><span class="params">&lt;/profiles&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="params">&lt;build&gt;</span></span><br><span class="line">true<span class="params">&lt;resources&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;resource&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;directory&gt;</span>src<span class="meta-keyword">/main/</span>profile/$&#123;config.dir&#125;<span class="params">&lt;/directory&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;targetPath&gt;</span>./<span class="params">&lt;/targetPath&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/resource&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;resource&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;directory&gt;</span>src<span class="meta-keyword">/main/</span>resources<span class="params">&lt;/directory&gt;</span></span><br><span class="line">truetruetrue<span class="params">&lt;targetPath&gt;</span>./<span class="params">&lt;/targetPath&gt;</span></span><br><span class="line">truetrue<span class="params">&lt;/resource&gt;</span></span><br><span class="line">true<span class="params">&lt;/resources&gt;</span></span><br><span class="line">     <span class="params">&lt;/build&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><blockquote><p>å¤§è‡´æ€è·¯å°±æ˜¯å»ºä¸€ä¸ª profile çš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•åå¯ä»¥éšæ„åªè¦è·Ÿåé¢ä¿æŒä¸€è‡´å°±è¡Œï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹é¢å»ºå‡ ä¸ªæŒ‰ç¯å¢ƒåŒºåˆ†çš„ç›®å½•ï¼Œé€šå¸¸æ˜¯ dev(å¼€å‘)ï¼Œtestï¼ˆæµ‹è¯•ï¼‰ï¼Œbetaï¼ˆé¢„å‘ï¼‰ï¼Œrelease(æ­£å¼)ã€‚ç„¶åå†é€šè¿‡ maven çš„ profile ç‰¹æ€§ï¼Œç”ŸæˆæŒ‰ç¯å¢ƒçš„${config.dir}çš„å€¼ã€‚æœ€åé€šè¿‡ maven çš„ resources æ ‡ç­¾æ¥å®Œæˆé…ç½®æ–‡ä»¶çš„æ‹·è´ï¼Œå¤§åŠŸå‘Šæˆã€‚</p></blockquote><h5 id="æ‰“åŒ…å‘½ä»¤"><a href="#æ‰“åŒ…å‘½ä»¤" class="headerlink" title="æ‰“åŒ…å‘½ä»¤"></a>æ‰“åŒ…å‘½ä»¤</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn clean <span class="keyword">install</span> -P(profile_id)</span><br><span class="line">eg. mvn clean <span class="keyword">install</span> -Pdev  <span class="comment">--æ‰“åŒ…å¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>spring aopæ³¨è§£æ•™ç¨‹</title>
      <link href="/posts/e66e4043/"/>
      <url>/posts/e66e4043/</url>
      
        <content type="html"><![CDATA[<blockquote><p>spring aop å¸¸ç”¨çš„æœ‰ä»¥ä¸‹ï¼š</p><ul><li>é€šçŸ¥ç±»å‹ï¼š</li></ul></blockquote><ul><li>å‰ç½®é€šçŸ¥ï¼ˆBefore adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ä¹‹å‰æ‰§è¡Œçš„é€šçŸ¥ï¼Œä½†è¿™ä¸ªé€šçŸ¥ä¸èƒ½é˜»æ­¢è¿æ¥ç‚¹ä¹‹å‰çš„æ‰§è¡Œæµç¨‹ï¼ˆé™¤éå®ƒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼‰ã€‚</li><li>åç½®é€šçŸ¥ï¼ˆAfter returning adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹æ­£å¸¸å®Œæˆåæ‰§è¡Œçš„é€šçŸ¥ï¼šä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œæ­£å¸¸è¿”å›ã€‚</li><li>å¼‚å¸¸é€šçŸ¥ï¼ˆAfter throwing adviceï¼‰ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸é€€å‡ºæ—¶æ‰§è¡Œçš„é€šçŸ¥ã€‚</li><li>æœ€ç»ˆé€šçŸ¥ï¼ˆAfter (finally) adviceï¼‰ï¼šå½“æŸè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥ï¼ˆä¸è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸é€€å‡ºï¼‰ã€‚</li><li>ç¯ç»•é€šçŸ¥ï¼ˆAround Adviceï¼‰ï¼šåŒ…å›´ä¸€ä¸ªè¿æ¥ç‚¹çš„é€šçŸ¥ï¼Œå¦‚æ–¹æ³•è°ƒç”¨ã€‚è¿™æ˜¯æœ€å¼ºå¤§çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åå®Œæˆè‡ªå®šä¹‰çš„è¡Œä¸ºã€‚å®ƒä¹Ÿä¼šé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œè¿æ¥ç‚¹æˆ–ç›´æ¥è¿”å›å®ƒè‡ªå·±çš„è¿”å›å€¼æˆ–æŠ›å‡ºå¼‚å¸¸æ¥ç»“æŸæ‰§è¡Œã€‚</li></ul><blockquote><ul><li>æ ¸å¿ƒé…ç½®åªè¦åœ¨ AOP çš„å®ç°æ–¹æ³•ä¸ŠåŠ ä¸Š@Aspect ä¸åœ¨ spring é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š aop:aspectj-autoproxy/,spring å°±å¯ä»¥é…ç½® aop æ–¹æ³•ï¼Œç„¶åå†æ ¹æ®æ–¹æ³•çš„å¢å¼ºæ ‡ç­¾ä¸åŒçš„æ•ˆæœï¼Œè¿™é‡Œéœ€è¦æ³¨æ„æ˜¯å®ƒä»¬çš„å‚æ•°ä¸åŒã€‚</li></ul></blockquote><ul><li>pom.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mrwood_study<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xyz.mrwood.study<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>study-spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>study-spring-aop<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.2.5.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- springå¼€å§‹ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring ç»“æŸ--&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- AOP begin --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjrt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- AOP end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—å¼€å§‹ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.21<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—ç»“æŸ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>spring-context.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--è‡ªåŠ¨æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;xyz.mrwood.study&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯aop--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>AopHandler.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016, 791650277@qq.com(Mr.kiwi) All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡¹ç›®ï¼šstudy</span></span><br><span class="line"><span class="comment"> * åŒ…åï¼šxyz.mrwood.study.aop</span></span><br><span class="line"><span class="comment"> * åŠŸèƒ½ï¼šaopå®ç°</span></span><br><span class="line"><span class="comment"> * æ—¶é—´ï¼š2016-05-28 10:33</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šMr.Kiwi</span></span><br><span class="line"><span class="comment"> * é€šçŸ¥ç±»å‹ï¼š</span></span><br><span class="line"><span class="comment"> * å‰ç½®é€šçŸ¥ï¼ˆBefore adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ä¹‹å‰æ‰§è¡Œçš„é€šçŸ¥ï¼Œä½†è¿™ä¸ªé€šçŸ¥ä¸èƒ½é˜»æ­¢è¿æ¥ç‚¹ä¹‹å‰çš„æ‰§è¡Œæµç¨‹ï¼ˆé™¤éå®ƒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼‰ã€‚</span></span><br><span class="line"><span class="comment"> * åç½®é€šçŸ¥ï¼ˆAfter returning adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹æ­£å¸¸å®Œæˆåæ‰§è¡Œçš„é€šçŸ¥ï¼šä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œæ­£å¸¸è¿”å›ã€‚</span></span><br><span class="line"><span class="comment"> * å¼‚å¸¸é€šçŸ¥ï¼ˆAfter throwing adviceï¼‰ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸é€€å‡ºæ—¶æ‰§è¡Œçš„é€šçŸ¥ã€‚</span></span><br><span class="line"><span class="comment"> * æœ€ç»ˆé€šçŸ¥ï¼ˆAfter (finally) adviceï¼‰ï¼šå½“æŸè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥ï¼ˆä¸è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸é€€å‡ºï¼‰ã€‚</span></span><br><span class="line"><span class="comment"> * ç¯ç»•é€šçŸ¥ï¼ˆAround Adviceï¼‰ï¼šåŒ…å›´ä¸€ä¸ªè¿æ¥ç‚¹çš„é€šçŸ¥ï¼Œå¦‚æ–¹æ³•è°ƒç”¨ã€‚è¿™æ˜¯æœ€å¼ºå¤§çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åå®Œæˆè‡ªå®šä¹‰çš„è¡Œä¸ºã€‚å®ƒä¹Ÿä¼šé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œè¿æ¥ç‚¹æˆ–ç›´æ¥è¿”å›å®ƒè‡ªå·±çš„è¿”å›å€¼æˆ–æŠ›å‡ºå¼‚å¸¸æ¥ç»“æŸæ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AopHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªå·¥ç¨‹ä¸‹æ‰€æœ‰çš„åˆ‡ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* xyz.mrwood.study..*.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getAllPoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªæ‰€æœ‰serviceå±‚ä¸‹çš„åˆ‡ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* xyz.mrwood.study.service..*.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getServicePoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰ç½®å¢å¼º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Before(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeMethod</span><span class="params">(JoinPoint joinPoint)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[å‰ç½®å¢å¼ºå¼€å§‹]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å¼€å§‹äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;getServicePoint()&quot;, throwing = &quot;ex&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exceptionMethod</span><span class="params">(JoinPoint joinPoint, Exception ex)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[å¼‚å¸¸å¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;å¦‚æœä½ çœ‹åˆ°è¿™è¡Œï¼Œå°±è¯´æ˜ä½ çš„ç¨‹åºæŠ¥é”™äº†ï¼&quot;</span> + <span class="string">&quot;å¼‚å¸¸ä¿¡æ¯ï¼š&quot;</span> + ex.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åç½®å¢å¼ºï¼Œåªæœ‰åœ¨æ–¹æ³•æ­£å¸¸ç»“æŸæ‰ä¼šè°ƒç”¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> returnVal</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;getServicePoint()&quot;,returning = &quot;returnVal&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturningMethod</span><span class="params">(Object returnVal)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[åç½®å¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;å½“ä½ çœ‹åˆ°è¿™ä¸ªè¯´æ˜ï¼Œä½ çš„æ–¹æ³•æ²¡æœ‰æ­£å¸¸ç»“æŸäº†ï¼&quot;</span> + <span class="string">&quot;å®ƒçš„è¿”å›å€¼ä¸ºï¼š&quot;</span> + returnVal);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æœ€ç»ˆå¢å¼ºï¼Œç±»ä¼¼äºfinallyçš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@After(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[æœ€ç»ˆå¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;æ— è®ºå‘è®ºå‘ç”Ÿä»€ä¹ˆäº‹ï¼Œæˆ‘éƒ½ä¼šè¿è¡Œï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¯ç»•å¢å¼º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> proceedingJoinPoint</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Around(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">aroundMethod</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[ç¯ç»•å¢å¼ºå¼€å§‹]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å¼€å§‹äº†ï¼&quot;</span>);</span><br><span class="line">        Object returnVal = proceedingJoinPoint.proceed(proceedingJoinPoint.getArgs());</span><br><span class="line">        System.out.println(<span class="string">&quot;[ç¯ç»•å¢å¼ºç»“æŸ]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å·²ç»ç»“æŸäº†ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> returnVal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>TargetService.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016, 791650277@qq.com(Mr.kiwi) All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡¹ç›®ï¼šstudy</span></span><br><span class="line"><span class="comment"> * åŒ…åï¼šxyz.mrwood.study.service</span></span><br><span class="line"><span class="comment"> * åŠŸèƒ½ï¼šè¢«æ‹¦æˆªçš„ç›®æ ‡ç±»</span></span><br><span class="line"><span class="comment"> * æ—¶é—´ï¼š2016-05-28 10:32</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šMr.Kiwi</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TargetService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String  <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œç»“æœ</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">ç¯ç»•å¢å¼ºå¼€å§‹</span>]ï¼šæ–¹æ³•å¼€å§‹äº†ï¼</span><br><span class="line">[<span class="meta">å‰ç½®å¢å¼ºå¼€å§‹</span>]ï¼šæ–¹æ³•å¼€å§‹äº†</span><br><span class="line">[<span class="meta">ç¯ç»•å¢å¼ºç»“æŸ</span>]ï¼šæ–¹æ³•å·²ç»ç»“æŸäº†ï¼</span><br><span class="line">[<span class="meta">æœ€ç»ˆå¢å¼º</span>]ï¼šæ— è®ºå‘è®ºå‘ç”Ÿä»€ä¹ˆäº‹ï¼Œæˆ‘éƒ½ä¼šè¿è¡Œï¼</span><br><span class="line">[<span class="meta">åç½®å¢å¼º</span>]ï¼šå½“ä½ çœ‹åˆ°è¿™ä¸ªè¯´æ˜ï¼Œä½ çš„æ–¹æ³•æ²¡æœ‰æ­£å¸¸ç»“æŸäº†ï¼å®ƒçš„è¿”å›å€¼ä¸ºï¼štest</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>tomcat é…ç½®httpsè¯ä¹¦</title>
      <link href="/posts/25b9abff/"/>
      <url>/posts/25b9abff/</url>
      
        <content type="html"><![CDATA[<h1 id="Tomcat-é…ç½®-https-è¯ä¹¦"><a href="#Tomcat-é…ç½®-https-è¯ä¹¦" class="headerlink" title="Tomcat é…ç½® https è¯ä¹¦"></a>Tomcat é…ç½® https è¯ä¹¦</h1><blockquote><p>ç½‘ä¸Šæœç´¢å‡ºæ¥å¤§å¤šæ•°æ˜¯é€šè¿‡ keytool è‡ªå·²ç”Ÿæˆè¯ä¹¦æ¥å®Œæˆï¼Œè¿™ç§åœ¨å·¥ä½œå¾ˆå°‘ç”¨åˆ°ï¼ˆæµè§ˆå™¨ä¼šæŠ¥ä¸å®‰å…¨ï¼‰ã€‚ä»¥ä¸‹æ˜¯é€šè¿‡ç”³è¯·çš„è¯ä¹¦é…ç½®è¿‡ç¨‹ã€‚å› ä¸ºåœ¨é…ç½®ä¸­é‡åˆ°äº†ä¸€äº›å‘ï¼Œè®°ä¹‹</p></blockquote><h4 id="1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥"><a href="#1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥" class="headerlink" title="1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥"></a>1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥</h4><p><code>demo.crt</code> Â <code>demo.key</code></p><h4 id="2ã€åˆå¹¶è¯ä¹¦"><a href="#2ã€åˆå¹¶è¯ä¹¦" class="headerlink" title="2ã€åˆå¹¶è¯ä¹¦"></a>2ã€åˆå¹¶è¯ä¹¦</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -export -<span class="keyword">in</span> <span class="built_in">demo</span>.crt -inkey <span class="built_in">demo</span>.<span class="built_in">key</span> -out <span class="built_in">demo</span>.p12 -name <span class="built_in">demo</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€ demo.crt æ˜¯ä½ çš„è¯ä¹¦<br>2ã€ demo.key æ˜¯ä½ çš„ç§é’¥<br>3ã€ demo.p12 æ˜¯åˆå¹¶åçš„è¯ä¹¦<br>4ã€-name åé¢çš„ demo æ˜¯æŒ‡å®šçš„åˆ«åï¼Œåé¢é…ç½® tomcat8.5 ä¹‹åçš„ç‰ˆæœ¬éœ€è¦ç”¨åˆ°ï¼Œè¦è®°ä½<br>5ã€æ‰§è¡Œè¿™æ¡å‘½ä»¤è¦è®¾ç½®ä¸€ä¸ªå¯¼å‡ºå¯†ç ï¼Œåé¢è¦ç”¨åˆ°ï¼Œè¦è®°ä½ï¼Œæœ€å¥½ 6 ä½ä»¥ä¸Š</p></blockquote><h4 id="3ã€ç”Ÿæˆ-keystore-æ–‡ä»¶"><a href="#3ã€ç”Ÿæˆ-keystore-æ–‡ä»¶" class="headerlink" title="3ã€ç”Ÿæˆ keystore æ–‡ä»¶"></a>3ã€ç”Ÿæˆ keystore æ–‡ä»¶</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">keytool</span> -importkeystore -srckeystore demo.p<span class="number">12</span> -srcstoretype PKCS<span class="number">12</span> -destkeystore demo.jks</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€demo.p12 æ˜¯ç¬¬äºŒæ­¥ç”Ÿæˆçš„è¯ä¹¦å<br>2ã€demo.jks æ˜¯ç”Ÿæˆçš„ keystore æ–‡ä»¶å<br>3ã€æ‰§è¡Œè¿™æ¡å‘½ä»¤ä¼šé¦–å…ˆè®©ä½ è®¾ç½®ä¸€ä¸ªå¯†ç ï¼Œè¿™ä¸ªå¯†ç åé¢é…ç½®ä¼šç”¨åˆ°ï¼Œè¦è®°ä½ã€‚ç„¶åéªŒè¯ä¸Šä¸€æ­¥è®¾ç½®çš„å¯†ç ã€‚æ¨èè¯¥æ­¥éª¤è®¾ç½®çš„å¯†ç ä¸ä¸Šä¸€æ­¥ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å¯èƒ½ä¼šå‡ºç°é”™è¯¯è¯¦è§ <a href="http://hw1287789687.iteye.com/blog/1965703">java.security.UnrecoverableKeyException: Cannot recover key - ç®€å•çš„å¹¸ç¦ - ITeye æŠ€æœ¯ç½‘ç«™</a></p></blockquote><h4 id="4ã€é…ç½®-tomcat"><a href="#4ã€é…ç½®-tomcat" class="headerlink" title="4ã€é…ç½® tomcat"></a>4ã€é…ç½® tomcat</h4><p><code>tomcat 8.5 ä¹‹å‰</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector <span class="attribute">SSLEnabled</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">acceptCount</span>=<span class="string">&quot;100&quot;</span> <span class="attribute">clientAuth</span>=<span class="string">&quot;false&quot;</span></span><br><span class="line">    <span class="attribute">disableUploadTimeout</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">enableLookups</span>=<span class="string">&quot;false&quot;</span> <span class="attribute">maxThreads</span>=<span class="string">&quot;25&quot;</span></span><br><span class="line">    <span class="attribute">port</span>=<span class="string">&quot;8443&quot;</span> <span class="attribute">keystoreFile</span>=<span class="string">&quot;~/ssl/demo.jks&quot;</span> <span class="attribute">keystorePass</span>=<span class="string">&quot;123456&quot;</span></span><br><span class="line">    <span class="attribute">protocol</span>=<span class="string">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span> <span class="attribute">scheme</span>=<span class="string">&quot;https&quot;</span></span><br><span class="line">    <span class="attribute">secure</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">sslProtocol</span>=<span class="string">&quot;TLS&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p><code>tomcat 8.5 ä¹‹å</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8643&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">maxThreads</span>=<span class="string">&quot;150&quot;</span> <span class="attr">SSLEnabled</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SSLHostConfig</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Certificate</span> <span class="attr">certificateKeystoreFile</span>=<span class="string">&quot;~/ssl/demo.jks&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">certificateKeyAlias</span>=<span class="string">&quot;demo&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">certificateKeystorePassword</span>=<span class="string">&quot;123456&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">type</span>=<span class="string">&quot;RSA&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">SSLHostConfig</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Connector</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€~_ssl_demo.jks Â  æ˜¯ä½ å‰é¢æ­¥éª¤ç”Ÿæˆçš„ storekey æ–‡ä»¶çš„è·¯å¾„<br>2ã€123456 æ˜¯å‰é¢ç¬¬ 3 æ­¥è®¾ç½®çš„å¯†ç <br>3ã€tomcat8.5 ä¹‹åæœ‰ä¸€ä¸ª certificateKeyAlias è¿™ä¸ªæ˜¯ 2 æ­¥è®¾ç½®-name çš„å€¼</p></blockquote><h4 id="å‚æ•°åœ°å€ï¼š"><a href="#å‚æ•°åœ°å€ï¼š" class="headerlink" title="å‚æ•°åœ°å€ï¼š"></a>å‚æ•°åœ°å€ï¼š</h4><p><a href="http://blog.csdn.net/freeiceflame/article/details/50420059">TOMCAT å¯¼å…¥é€šè¿‡ç¬¬ä¸‰æ–¹è¯ä¹¦æœºæ„è·å–çš„è¯ä¹¦ - IceFlame åšå®¢é¢‘é“ - CSDN.NET</a></p><p><a href="http://hw1287789687.iteye.com/blog/1965703">java.security.UnrecoverableKeyException: Cannot recover key - ç®€å•çš„å¹¸ç¦ - ITeye æŠ€æœ¯ç½‘ç«™</a></p><p><a href="https://www.oschina.net/question/12_23148">5 åˆ†é’Ÿå†…æå®š Tomcat çš„ SSL é…ç½® - å¼€æºä¸­å›½ç¤¾åŒº</a></p><p><a href="https://bbs.wosign.com/forum.php?mod=viewthread&tid=2881">tomcat 8.5+ç‰ˆæœ¬ SSL è¯ä¹¦éƒ¨ç½²-æ²ƒé€š CA å®˜æ–¹è®ºå› - Â  ä¸“ä¸šæ•°å­—è¯ä¹¦è®ºå›</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring boot å¯¹äº js çš„ long ç²¾åº¦é—®é¢˜å¤„ç†</title>
      <link href="/posts/6bfa638e/"/>
      <url>/posts/6bfa638e/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‡ å¤©å‰åç«¯è”è°ƒï¼Œé‡åˆ°ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜ã€‚å‰ç«¯è¯·æ±‚åç«¯æä¾›çš„è¯¦æƒ…æ¥å£å¾—åˆ°ç”¨æˆ·çš„ Id ä¸å…¶å®ƒæ•°æ®ã€‚ç„¶åå‰ç«¯åˆæŠŠè¿™ä¸ª Id ä¸ä¿®æ”¹çš„æ•°æ®å†…å®¹ä¸€åŒä¼ å›åç«¯çš„ä¿®æ”¹æ¥å£ã€‚ç»“æœå‰ç«¯åé¦ˆæ­»æ´»ä¿®æ”¹ä¸äº†ã€‚</p><p>ç„¶åå„ç§ debug æŸ¥æ—¥å¿—ï¼Œå‘ç°è¯¦æƒ…æ¥å£è¿”å›ç»™å‰ç«¯çš„ä¸å‰ç«¯è°ƒç”¨ä¿®æ”¹æ¥å£ä¼ å›çš„ Id ä¸ä¸€è‡´ã€‚</p><p>ç„¶åä¸€æŸ¥å‘ç°æ˜¯ js çš„ç²¾åº¦é—®é¢˜ï¼ŒåŸä»¥ä¸º js åªæ˜¯æµ®ç‚¹å‹ä¼šæœ‰ç²¾åº¦é—®é¢˜ï¼Œæ²¡æƒ³åˆ°é•¿æ•´å‹ä¹Ÿä¼šå‡ºç°ã€‚å› ä¸ºæ˜¯è¯­è¨€çš„é™åˆ¶ï¼Œå‰ç«¯è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æ˜¯å¾ˆåƒåŠ›çš„ã€‚æ‰€ä»¥åªèƒ½åœ¨åç«¯åœ¨ä¼  json çš„æ—¶å€™æŠŠ long å…¨éƒ¨è½¬æˆ string ç±»å‹ã€‚</p><p>ç„¶åé—®é¢˜åˆæ¥äº†ï¼Œå› ä¸ºé¡¹ç›®å·²å†™äº†å·®ä¸å¤šäº†ã€‚å¤ªå¤šåœ°æ–¹ç”¨äº† long ç±»å‹ï¼Œæ”¹åŸºç¡€ç±»çš„å­—æ®µç±»å‹æ˜¯ä¸å¯èƒ½äº†ã€‚äºæ˜¯æƒ³åœ¨å¯¹è±¡è½¬ json çš„æ—¶å€™èƒ½å¦ç»Ÿä¸€å¤„ç†ã€‚</p><p>å› ä¸ºä½¿ç”¨çš„æ˜¯ spring boot æ¡†æ¶ï¼Œè€Œ spring boot é»˜è®¤çš„ json æ¡†æ¶çš„ Jacksonã€‚å°±æ˜¯æ‰¾äº†ä¸€ä¸‹ï¼Œæœç„¶ jackson æœ‰ä¸€ä¸ªå¯ä»¥è‡ªå®šä¹‰çš„ç±»å‹è½¬æ¢å™¨æœºåˆ¶ã€‚ç›´æ¥ä¸Šä»£ç  â†“</p><ul><li>json è½¬æ¢å™¨<br>JsonLong2StrConverter<br>public class JsonLong2StrConverter extends StdSerializer {</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">JsonLong2StrConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(Long.class);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">serialize</span><span class="params">(Long value, JsonGenerator gen, SerializerProvider provider)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    gen.writeString(value.toString());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨é…ç½®<br>JsonConf<br>@Configuration<br>@EnableWebMvc<br>public class JsonConf extends WebMvcConfigurerAdapter {</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> </span>&#123;</span><br><span class="line">    converters.add(<span class="keyword">new</span> MappingJackson2HttpMessageConverter(</span><br><span class="line">        <span class="keyword">new</span> Jackson2ObjectMapperBuilder()</span><br><span class="line"><span class="comment">//            .propertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE)</span></span><br><span class="line">            .serializationInclusion(</span><br><span class="line">                Include.NON_NULL)</span><br><span class="line">            .serializerByType(Long.class, <span class="keyword">new</span> JsonLong2StrConverter())</span><br><span class="line">            .serializerByType(Long.TYPE, <span class="keyword">new</span> JsonLong2StrConverter()).build()));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · spring boot åœ¨è½¬æ¢ json æ—¶ï¼Œå‘ç°æ˜¯ Long ç±»å‹å°±ç›´æ¥è½¬æˆ String ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åŠ ä¸ªå•å¼•å·ã€‚</p><p>å‚è€ƒï¼š<br><a href="http://okeeper.leanote.com/post/Spring-boot-%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89Json%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">Spring boot é…ç½®è‡ªå®šä¹‰ Json ç±»å‹è½¬æ¢</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker å®‰è£… workpress</title>
      <link href="/posts/cd036045/"/>
      <url>/posts/cd036045/</url>
      
        <content type="html"><![CDATA[<ul><li>ä½¿ç”¨ docker å®‰è£… wordpress</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…æ•°æ®åº“</span></span><br><span class="line">docker run --name db --env MYSQL_ROOT_PASSWORD=example -d mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… wordpress</span></span><br><span class="line">docker run --name MyWordPress --link db:mysql -p 8080:80 -d wordpress</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸæ•ˆæœå›¾<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fn1igx342oj21sc0tsdjn.jpg#width="></p><ul><li><p>å‘½ä»¤è§£æ</p><ul><li>å®‰è£…æ•°æ®åº“</li></ul></li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> --name db --env <span class="attribute">MYSQL_ROOT_PASSWORD</span>=example -d mariadb</span><br></pre></td></tr></table></figure><pre><code>  - docker run     - å¯åŠ¨å®¹å™¨çš„å‘½ä»¤  - --name db     - æŒ‡å®šå¯åŠ¨å®¹å™¨çš„åç§°  - --env MYSQL_ROOT_PASSWORD=example     - ä¼ å…¥ç¯å¢ƒå˜é‡ï¼Œæ­¤å¤„æ˜¯è®¾ç½® mysql å¯†ç ä¸º example  - -d     - åå°è¿è¡Œï¼Œå¦åˆ™å‰å°è¿›è¡Œ</code></pre><ul><li>å®‰è£… wordpress</li></ul><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name MyWordPress --link db:mysql -p <span class="number">8080</span>:<span class="number">80</span> -d wordpress</span><br></pre></td></tr></table></figure><pre><code>  - --link db:mysql     - ä¸ä¸Šé¢å¯åŠ¨çš„ db å®¹å™¨å»ºç«‹è”ç³»  - -p 8080:80     - ç«¯å£æ˜ å°„ï¼ŒæŠŠå®¿ä¸»æœºçš„8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨å†…çš„80ç«¯å£</code></pre><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker å®‰è£… gitlab</title>
      <link href="/posts/55158d62/"/>
      <url>/posts/55158d62/</url>
      
        <content type="html"><![CDATA[<ul><li>ä½¿ç”¨ docker å®‰è£… gitlab</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… postgresql</span></span><br><span class="line">docker <span class="builtin-name">run</span> <span class="attribute">--name</span>=gitlab-postgresql -d --env <span class="attribute">DB_NAME</span>=gitlabhq_prodution --env <span class="attribute">DB_USER</span>=gitlab --env <span class="attribute">DB_PASS</span>=password sameersbn/postgresql:9.4-12</span><br><span class="line"><span class="comment"># å®‰è£… redis</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name gitlab-redis -d sameersbn/redis</span><br><span class="line"><span class="comment"># å®‰è£… gitlab</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name gitlab -d --link gitlab-postgresql:postgresql --link gitlab-redis:redisio --publish 10022:22 --publish 10080:80 --env <span class="attribute">GITLAB_PORT</span>=10080 --env <span class="attribute">GITLAB_SSH_PORT</span>=10022 --env <span class="attribute">GITLAB_SECRETS_DB_KEY_BASE</span>=long-and-random-alpha-numeric-string sameersbn/gitlab:8.4.4</span><br></pre></td></tr></table></figure><ul><li><p>è®¿é—® <a href="http://æœ¬åœ°ip:10080/">http://æœ¬åœ° ip:10080</a><br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fn1jbcqanij21ro11sq8s.jpg#width="></p></li><li><p>å‚è€ƒé“¾æ¥<br><a href="https://github.com/sameersbn/docker-gitlab">docker-gitlab</a><br><a href="http://www.damagehead.com/docker-gitlab/">Zero to GitLab in 5 seconds or less*</a></p></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux ç”¨æˆ·ç®¡ç†</title>
      <link href="/posts/e3f07f7a/"/>
      <url>/posts/e3f07f7a/</url>
      
        <content type="html"><![CDATA[<h4 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd ç”¨æˆ·åç§°</span><br><span class="line">adduser ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><p><a href="https://my.oschina.net/lyp82nlf/blog/477319">Linux æ·»åŠ æ–°ç”¨æˆ·å‘½ä»¤ï¼šuseradd ä¸ adduser çš„åŒºåˆ«</a></p><h4 id="è®¾ç½®ç”¨æˆ·å¯†ç "><a href="#è®¾ç½®ç”¨æˆ·å¯†ç " class="headerlink" title="è®¾ç½®ç”¨æˆ·å¯†ç "></a>è®¾ç½®ç”¨æˆ·å¯†ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><h4 id="å¸¸è§é—®é¢˜ï¼š"><a href="#å¸¸è§é—®é¢˜ï¼š" class="headerlink" title="å¸¸è§é—®é¢˜ï¼š"></a>å¸¸è§é—®é¢˜ï¼š</h4><h5 id="æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•"><a href="#æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•" class="headerlink" title="æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•?"></a>æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•?</h5><blockquote><p>æŸ¥çœ‹ /etc/ssh/sshd_config æ–‡ä»¶ä¸­æ˜¯å¦å…è®¸ç™»å½•ï¼Œæ›´å¤šæ— æ³•ç™»å½•é—®é¢˜ <a href="http://lakemoonstar.iteye.com/blog/1471532">root å¸æˆ·æ— æ³•ç™»é™†è§£å†³åŠæ³•</a></p></blockquote><h5 id="ä¿®æ”¹äº†-etc-ssh-sshd-config-ä»ç„¶æ— æ•ˆ"><a href="#ä¿®æ”¹äº†-etc-ssh-sshd-config-ä»ç„¶æ— æ•ˆ" class="headerlink" title="ä¿®æ”¹äº†/etc/ssh/sshd_config ä»ç„¶æ— æ•ˆ?"></a>ä¿®æ”¹äº†/etc/ssh/sshd_config ä»ç„¶æ— æ•ˆ?</h5><blockquote><p>è¦æ›´æ–°é…ç½®ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ source xxx,è¦é‡å¯ ssh æœåŠ¡ï¼Œä½¿ç”¨<code>service sshd restart</code></p></blockquote><h4 id="ç›¸å…³åšå®¢"><a href="#ç›¸å…³åšå®¢" class="headerlink" title="ç›¸å…³åšå®¢"></a>ç›¸å…³åšå®¢</h4><p><a href="https://blog.csdn.net/beitiandijun/article/details/41678251">linux ç”¨æˆ·ç®¡ç†ï¼ˆ1ï¼‰â€”-åˆ›å»ºç”¨æˆ·ï¼ˆadduser å’Œ useraddï¼‰å’Œåˆ é™¤ç”¨æˆ·ï¼ˆuserdelï¼‰</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>nginx å¸¸ç”¨é…ç½®</title>
      <link href="/posts/59e56e3a/"/>
      <url>/posts/59e56e3a/</url>
      
        <content type="html"><![CDATA[<h3 id="é…ç½®ç»“æ„"><a href="#é…ç½®ç»“æ„" class="headerlink" title="é…ç½®ç»“æ„"></a>é…ç½®ç»“æ„</h3><p><img src="https://upload-images.jianshu.io/upload_images/9824247-6f7a9706b9f3982b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240#width="></p><h3 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h3><ol><li>é…ç½® https</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line">    <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">root</span> html;</span><br><span class="line">    <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">    <span class="attribute">ssl_certificate</span>   cert/<span class="number">1535407297197</span>.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span>  cert/<span class="number">1535407297197</span>.key;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> html;</span><br><span class="line">        <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é…ç½®ç«¯å£è½¬å‘</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    <span class="attribute">proxy_read_timeout</span> <span class="number">300s</span>;</span><br><span class="line">    <span class="attribute">proxy_send_timeout</span> <span class="number">300s</span>;</span><br><span class="line">    <span class="attribute">keepalive_requests</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">300s</span>;</span><br><span class="line">    server&#123;</span><br><span class="line">        <span class="attribute">listen</span>  <span class="number">8888</span>;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://192.168.1.20:8080;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å‚è€ƒ</p><ul><li><a href="https://blog.csdn.net/qq_31226223/article/details/78766314">Nginx é…ç½®ç«¯å£è½¬å‘ æ˜ å°„ ä»¥åŠè¿æ¥è¶…æ—¶é—®é¢˜</a></li></ul></li></ul><ol><li>è·¨åŸŸé—®é¢˜è§£å†³</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        listen       8081;//å‰ç«¯è°ƒè¯•æ‰“å¼€localhost:8081é¡µé¢;jsæ–‡ä»¶ä¸­åå°æ¥å£è®¿é—®localhost:8081/data;è¿™æ ·å°±ä¿è¯ä¸è·¨åŸŸäº†</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line">        <span class="attribute">access_log</span>  logs/host.access.log  main;</span><br><span class="line">        location / &#123;//è®¿é—®localhost:8081å®é™…ä¸Šè®¿é—®æ˜¯å‰ç«¯ç«¯å£http://localhost:8080/</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://localhost:8080/;</span><br><span class="line">        &#125;</span><br><span class="line">        location ^~ /data &#123;//è®¿é—®localhost:8081/dataå®é™…ä¸Šè®¿é—®æ˜¯åç«¯æ¥å£http://10.128.166.42:8533/</span><br><span class="line">           Â <span class="attribute">rewrite</span><span class="regexp"> ^/data/(.*)</span> /<span class="variable">$1</span> <span class="literal">break</span>;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://10.128.166.42:8533/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é…ç½®å‹ç¼©</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">gzip_disable</span> <span class="string">&quot;msie6&quot;</span>;</span><br><span class="line"><span class="attribute">gzip_vary</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">gzip_proxied</span> any;</span><br><span class="line"><span class="attribute">gzip_comp_level</span> <span class="number">6</span>;</span><br><span class="line"><span class="attribute">gzip_buffers</span> <span class="number">16</span> <span class="number">8k</span>;</span><br><span class="line"><span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line"><span class="attribute">gzip_types</span> text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss image/jpeg image/gif image/png</span><br></pre></td></tr></table></figure><ul><li><p>å‚è€ƒ</p><ul><li><a href="https://blog.csdn.net/u013160932/article/details/50704618">Nginxâ€”-ä½¿ç”¨å‹ç¼©ä¼ è¾“</a></li></ul></li></ul><ol><li>è´Ÿè½½å‡è¡¡</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> favtomcat &#123;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">10.0.6.108:7080</span> weight=<span class="number">5</span>;</span><br><span class="line">       <span class="attribute">server</span> <span class="number">10.0.0.85:8980</span> weight=<span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://favtomcat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å‚è€ƒ</p><ul><li><a href="http://blog.51cto.com/favccxx/1622091">Nginx é…ç½® upstream å®ç°è´Ÿè½½å‡è¡¡</a></li></ul></li></ul><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line"><span class="attribute">nginx</span> -s reopen</span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line">nginx -s reload</span><br><span class="line"><span class="comment"># æŸ¥çœ‹nginxçš„é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œæµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">nginx -t</span><br><span class="line"><span class="comment"># åœæ­¢ngixï¼ˆä¼˜é›…å…³é—­ï¼‰</span></span><br><span class="line">nginx -s quit</span><br><span class="line"><span class="comment"># å…³é—­ nginx(å¿«é€Ÿå…³é—­ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¯·æ±‚)</span></span><br><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure><h3 id="å¸¸è§é”™è¯¯"><a href="#å¸¸è§é”™è¯¯" class="headerlink" title="å¸¸è§é”™è¯¯"></a>å¸¸è§é”™è¯¯</h3><ol><li><p>invalid PID</p><ul><li>é”™è¯¯ä¿¡æ¯</li></ul></li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx: [error] invalid PID number &quot;&quot; in &quot;/usr/local/var/run/nginx</span><br></pre></td></tr></table></figure><ul><li>è§£å†³æ–¹æ³•</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo nginx -c <span class="regexp">/usr/</span>local<span class="regexp">/etc/</span>nginx/nginx.conf</span><br><span class="line">$ sudo nginx -s reload</span><br></pre></td></tr></table></figure><ol start="2"><li><p>nginx åšè½¬å‘æ—¶ï¼Œå¸¦â€™_â€˜çš„ header å†…å®¹ä¸¢å¤±</p><ul><li>è§£å†³æ–¹æ³•</li></ul></li></ol><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">underscores_in_headers <span class="keyword">on</span>;</span><br></pre></td></tr></table></figure><ul><li><p>å‚è€ƒ</p></li><li><p><a href="https://blog.csdn.net/Nazir2513/article/details/70889319">nginx åšè½¬å‘æ—¶ï¼Œå¸¦â€™_â€˜çš„ header å†…å®¹ä¸¢å¤±</a></p></li></ul><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">worker_processes  1; //å¼€å¯è¿›ç¨‹æ•°å°äºCPUæ•°</span><br><span class="line">error_log  logs/error.log;  //è‡ªå®šä¹‰é”™è¯¯æ—¥å¿—ä¿å­˜ä½ç½®ï¼Œå…¨å±€è®¾ç½®ï¼Œé»˜è®¤logs/error.log</span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    worker_connections  1024;//æ¯ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥=è¿æ¥æ•°xè¿›ç¨‹æ•°ï¼‰æ¯ä¸ªworkerå…è®¸åŒæ—¶äº§ç”Ÿå¤šå°‘ä¸ªé“¾æ¥ï¼Œé»˜è®¤1024</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    include       mime.types;//æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨</span><br><span class="line">    default_type  application/octet-stream; //é»˜è®¤æ–‡ä»¶ç±»å‹</span><br><span class="line">    <span class="attribute">log_format</span>  main  <span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] &quot;<span class="variable">$request</span>&quot; &#x27;</span>//è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼ å…¨å±€è®¾ç½®</span><br><span class="line">              <span class="string">&#x27;<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> &quot;<span class="variable">$http_referer</span>&quot; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;&quot;<span class="variable">$http_user_agent</span>&quot; &quot;<span class="variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;</span><br><span class="line">    access_log  logs/access.log  main;è‡ªå®šä¹‰å…¨å±€è¯·æ±‚æ—¥å¿—ä¿å­˜ä½ç½®ï¼Œå…¨å±€è®¾ç½®ï¼Œé»˜è®¤logs/access.logï¼Œ å®šä¹‰æ ¼å¼ï¼šæ–‡ä»¶å­˜å‚¨ä½ç½® + æ—¥å¿—è¾“å‡ºæ ¼å¼</span><br><span class="line">    sendfile        on; //æ‰“å¼€å‘é€æ–‡ä»¶</span><br><span class="line">    keepalive_timeout  0; //è¿æ¥è¶…æ—¶æ—¶é—´</span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line">    gzip  on;//æ‰“å¼€gzipå‹ç¼©</span><br><span class="line">    é…ç½®è™šæ‹Ÿä¸»æœºï¼ŒåŸºäºåŸŸåã€ipå’Œç«¯å£ï¼Œå¯ä»¥é…ç½®å¤šä¸ªserver</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        listen       80;//ç›‘å¬ç«¯å£ï¼Œå¯ä»¥æ˜¯ip:port æˆ–è€… port</span><br><span class="line">        server_name  10.128.166.57; //ç›‘å¬åŸŸå,å¯ä»¥æ˜¯ipæˆ–è€…åŸŸåï¼Œserver_nameæœ‰ä¸‰ç§åŒ¹é…æ–¹å¼ï¼šç²¾å‡†åŒ¹é…ï¼ˆwww.domain.comï¼‰ã€é€šé…ç¬¦åŒ¹é…ï¼ˆ*.domain.com ã€www.*ï¼‰ã€æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆ~^(?.+)\.domain\.com$ï¼‰</span><br><span class="line">        access_log  logs/host.access.log  main; //è‡ªå®šä¹‰è¯·æ±‚æ—¥å¿—ï¼Œå±€éƒ¨ï¼Œå½“å‰serveræœ‰æ•ˆ</span><br><span class="line">        error_page   500 502 503 504  /50x.html;  //é”™è¯¯é¡µé¢åŠå…¶è¿”å›åœ°å€</span><br><span class="line">        charset UTF-8;//è®¾ç½®å­—ç¬¦é›†</span><br><span class="line">        location / &#123; //å½“è®¿é—®10.128.166.57:80æ—¶</span><br><span class="line">           proxy_pass http://10.128.166.57:80:8083; //å®é™…ä¸Šè®¿é—®çš„æ—¶http://10.128.166.57:80:8083åœ°å€</span><br><span class="line">        &#125;</span><br><span class="line">        location ^~/data &#123; //å½“è®¿é—®10.128.166.57:80/dataæ—¶</span><br><span class="line">           proxy_pass http://10.128.166.57:80:8084; //å®é™…ä¸Šè®¿é—®çš„æ—¶http://10.128.166.57:80:8084åœ°å€</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ol><li><a href="https://my.oschina.net/hansonwang99/blog/1835408">ä»ä¸€ä»½é…ç½®æ¸…å•è¯¦è§£ Nginx æœåŠ¡å™¨é…ç½®</a></li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/undefined/">https://blog.coder4j.cn/posts/undefined/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Linux] Linuxç”¨æˆ·ç®¡ç†</title>
      <link href="/posts/7e5abba9/"/>
      <url>/posts/7e5abba9/</url>
      
        <content type="html"><![CDATA[<h4 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd ç”¨æˆ·åç§°</span><br><span class="line">adduser ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><p><a href="https://my.oschina.net/lyp82nlf/blog/477319">Linuxæ·»åŠ æ–°ç”¨æˆ·å‘½ä»¤ï¼šuseradd ä¸adduserçš„åŒºåˆ«</a></p><h4 id="è®¾ç½®ç”¨æˆ·å¯†ç "><a href="#è®¾ç½®ç”¨æˆ·å¯†ç " class="headerlink" title="è®¾ç½®ç”¨æˆ·å¯†ç "></a>è®¾ç½®ç”¨æˆ·å¯†ç </h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel ç”¨æˆ·åç§°</span><br></pre></td></tr></table></figure><h4 id="å¸¸è§é—®é¢˜ï¼š"><a href="#å¸¸è§é—®é¢˜ï¼š" class="headerlink" title="å¸¸è§é—®é¢˜ï¼š"></a>å¸¸è§é—®é¢˜ï¼š</h4><h5 id="æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•"><a href="#æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•" class="headerlink" title="æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•?"></a>æ·»åŠ åå¹¶è®¾ç½®å¯†ç ä»æ— æ³•ç™»å½•?</h5><blockquote><p>æŸ¥çœ‹ /etc/ssh/sshd_config æ–‡ä»¶ä¸­æ˜¯å¦å…è®¸ç™»å½•ï¼Œæ›´å¤šæ— æ³•ç™»å½•é—®é¢˜ <a href="http://lakemoonstar.iteye.com/blog/1471532">root å¸æˆ·æ— æ³•ç™»é™†è§£å†³åŠæ³•</a></p></blockquote><h5 id="ä¿®æ”¹äº†-etc-ssh-sshd-configä»ç„¶æ— æ•ˆ"><a href="#ä¿®æ”¹äº†-etc-ssh-sshd-configä»ç„¶æ— æ•ˆ" class="headerlink" title="ä¿®æ”¹äº†/etc/ssh/sshd_configä»ç„¶æ— æ•ˆ?"></a>ä¿®æ”¹äº†/etc/ssh/sshd_configä»ç„¶æ— æ•ˆ?</h5><blockquote><p>è¦æ›´æ–°é…ç½®ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨source xxx,è¦é‡å¯sshæœåŠ¡ï¼Œä½¿ç”¨<code>service sshd restart</code></p></blockquote><h4 id="ç›¸å…³åšå®¢"><a href="#ç›¸å…³åšå®¢" class="headerlink" title="ç›¸å…³åšå®¢"></a>ç›¸å…³åšå®¢</h4><p><a href="https://blog.csdn.net/beitiandijun/article/details/41678251">linuxç”¨æˆ·ç®¡ç†ï¼ˆ1ï¼‰â€”-åˆ›å»ºç”¨æˆ·ï¼ˆadduserå’Œuseraddï¼‰å’Œåˆ é™¤ç”¨æˆ·ï¼ˆuserdelï¼‰</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/7e5abba9/">https://blog.coder4j.cn/posts/7e5abba9/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[é—®é¢˜é›†] mysql æ•°æ®åº“å­˜å‚¨è¡¨æƒ…</title>
      <link href="/posts/b2644b76/"/>
      <url>/posts/b2644b76/</url>
      
        <content type="html"><![CDATA[<h4 id="é—®é¢˜å‡ºç°åŸå› "><a href="#é—®é¢˜å‡ºç°åŸå› " class="headerlink" title="é—®é¢˜å‡ºç°åŸå› "></a>é—®é¢˜å‡ºç°åŸå› </h4><blockquote><p>Emojiè¡¨æƒ…ç¬¦å·ä¸º4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼Œè€Œ utf8 å­—ç¬¦é›†åªæ”¯æŒ1-3ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼Œå¯¼è‡´æ— æ³•å†™å…¥æ•°æ®åº“ã€‚  </p></blockquote><h4 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h4><ul><li>è¯­è¨€<ul><li>java</li></ul></li><li>æ•°æ®åº“è¿æ¥æ± <ul><li>druid</li></ul></li><li>æ•°æ®åº“<ul><li>mysql</li></ul></li><li>æŒä¹…æ€§æ¡†æ¶<ul><li>mybatis</li></ul></li></ul><h4 id="æ•°æ®åº“ä¿®æ”¹"><a href="#æ•°æ®åº“ä¿®æ”¹" class="headerlink" title="æ•°æ®åº“ä¿®æ”¹"></a>æ•°æ®åº“ä¿®æ”¹</h4><ul><li>ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†character-set-server=utf8mb4 é‡å¯æ•°æ®åº“ç”Ÿæ•ˆ </li></ul><h4 id="ä»£ç ä¿®æ”¹"><a href="#ä»£ç ä¿®æ”¹" class="headerlink" title="ä»£ç ä¿®æ”¹"></a>ä»£ç ä¿®æ”¹</h4><ul><li>druid é…ç½®æ–‡ä»¶ä¿®æ”¹</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;connectionInitSqls&quot;</span> <span class="attr">value</span>=<span class="string">&quot;set names utf8mb4;&quot;</span>/&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/b2644b76/">https://blog.coder4j.cn/posts/b2644b76/</a> </p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] æœ‰æ²¡æœ‰å®‰å…¨çš„å·¥ä½œï¼Ÿ</title>
      <link href="/posts/6d5f96f/"/>
      <url>/posts/6d5f96f/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="http://www.ruanyifeng.com/blog/2015/12/safe-job.html">http://www.ruanyifeng.com/blog/2015/12/safe-job.html</a></p></blockquote><p>å¦‚æœä½ ç»å¸¸ä½¿ç”¨äº’è”ç½‘ï¼Œå¯èƒ½çŸ¥é“æœ‰ä¸€ç§ä¸œè¥¿å«åš Flashã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015121501.jpg"></p><p>å®ƒæ˜¯ä¸€ç§è½¯ä»¶ï¼Œç”¨æ¥åˆ¶ä½œç½‘é¡µæ¸¸æˆã€åŠ¨ç”»ï¼Œä»¥åŠè§†é¢‘æ’­æ”¾å™¨ã€‚åªè¦è§‚çœ‹ç½‘ç»œè§†é¢‘ï¼ŒåŸºæœ¬éƒ½ä¼šç”¨åˆ°å®ƒã€‚</p><p>ä¸ƒå…«å¹´å‰ï¼Œå®ƒæ˜¯æœ€çƒ­é—¨çš„äº’è”ç½‘æŠ€æœ¯ä¹‹ä¸€ã€‚å¦‚æœä¸å®‰è£… Flashï¼Œå¾ˆå¤šç½‘ç«™æ ¹æœ¬æ‰“ä¸å¼€ã€‚é‚£æ—¶è¿˜æµè¡Œç”¨å®ƒåˆ¶ä½œåŠ¨ç”»ï¼Œéšä¾¿ä¸€ä¸ªä½œå“ï¼Œå°±æœ‰å‡ åä¸‡ã€ä¸Šç™¾ä¸‡çš„æµè§ˆé‡ã€‚ç”µè§†å°ç”šè‡³å¼€è¾Ÿæ ç›®ï¼Œæ’­æ”¾ç½‘ä¸Šæµè¡Œçš„ Flash åŠ¨ç”»ã€‚å„å¤§äº’è”ç½‘å…¬å¸éƒ½æœ‰ä¸“é—¨çš„ Flash å·¥ç¨‹å¸ˆï¼Œè¿˜æ˜¯å±äºé‚£ç§æ¯”è¾ƒæŠ¢æ‰‹ã€æ”¶å…¥è¾ƒé«˜çš„å·¥ç¨‹å¸ˆã€‚æˆ‘è®°å¾—é‚£ä¸ªæ—¶å€™ï¼Œç¤¾ä¼šä¸Šä¹Ÿæœ‰å¤§é‡çš„ Flash åŸ¹è®­ç­ï¼Œå®ƒä»¬çš„æ‹›ç”Ÿå¹¿å‘Šéƒ½å†™ç€ä¿è¯å°±ä¸šã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015121502.jpg"></p><p>åæ¥ï¼ŒFlash å°±ä¸è¡Œäº†ã€‚2010 å¹´ï¼Œä¹”å¸ƒæ–¯å®£å¸ƒï¼Œè‹¹æœæ‰‹æœºä¸ä¼šä½¿ç”¨ Flashï¼Œå› ä¸ºå½±å“æ‰‹æœºæ€§èƒ½ã€‚å†åæ¥ï¼Œæ–°çš„æŠ€æœ¯å…´èµ·ï¼Œå®ƒå°±å¼€å§‹æ²¡è½äº†ã€‚ä¸Šä¸ªæœˆï¼ŒBBC å‘è¡¨ä¸€ç¯‡æŠ¥é“ï¼Œåå­—å°±å«<a href="http://www.bbc.com/news/technology-34799790">ã€ŠFlash è¿˜èƒ½æ´»å¤šä¹…ï¼Ÿã€‹</a>ã€‚è¯éŸ³åˆšè½ï¼Œä¸€å‘¨åï¼Œè¿™é¡¹æŠ€æœ¯çš„æ‹¥æœ‰è€… Adobe å…¬å¸<a href="http://arstechnica.com/information-technology/2015/12/adobe-to-kill-off-flash-in-januarys-creative-cloud-update/">å®£å¸ƒ</a>ï¼Œæ”¾å¼ƒ Flash è¿™ä¸ªåå­—ï¼Œè½¯ä»¶å°†<a href="http://www.zdnet.com/article/adobe-renames-flash-professional-to-animate-pivots-to-html5/">é‡æ–°å®šä½</a>ï¼Œåªç”¨æ¥åˆ¶ä½œåŠ¨ç”»ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘å¹¶ä¸æ˜¯æ„Ÿå¹ Flash è¿™é¡¹æŠ€æœ¯çš„æ²¡è½ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„äº‹ï¼Œè€Œæ˜¯æ„Ÿå¹é‚£äº›ä»äº‹ Flash å¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œä»–ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä½ åœ¨ä¸€ä¸ªé¢†åŸŸé’»ç ”å¤šå¹´ï¼Œéƒ½æˆäº†ä¸“å®¶ï¼Œçªç„¶ä¹‹é—´é‚£ä¸ªé¢†åŸŸè¿‡æ—¶äº†ï¼Œä½ çš„æ‰€å­¦æ‰€é•¿æ²¡äººéœ€è¦äº†ï¼Œé‚£å°†æ˜¯æ€æ ·çš„å¤„å¢ƒï¼Ÿ</p><p>é‚£äº›å¹´é‡Œï¼Œæˆ‘åœ¨ä¸Šæµ·é‡è§è¿‡ä¸€ä¸ªæœ‹å‹ã€‚ä»–å¼€äº†ä¸€å®¶è½¯ä»¶å…¬å¸ï¼Œä¸“é—¨é¢å‘æµ·å¤–å¸‚åœºå¼€å‘ Flash æ¸¸æˆã€‚å…¬å¸ä¸å¤§ï¼Œåå‡ ä¸ªäººï¼Œé‚£æ—¶æ­£æ˜¯æœ€å¥½çš„å¹´æ™¯ï¼Œæ¯ä¸ªæœˆéƒ½æœ‰å‡ åä¸‡ã€ç”šè‡³ä¸Šç™¾ä¸‡äººæ°‘å¸è¿›è´¦ï¼Œçœ‹ä¸Šå»å‰æ™¯ä¸€ç‰‡å¤§å¥½ã€‚å¯æ˜¯ï¼Œè°èƒ½æƒ³åˆ° Flash æŠ€æœ¯çªç„¶å°±ä¼šä¸è¡Œäº†å‘¢ï¼Ÿå¼€å§‹æ—¶ï¼Œå…¬å¸è¿˜èƒ½ç»´æŒï¼Œåæ¥æ‰‹æœºæ¸¸æˆèµ·æ¥äº†ï¼ŒFlash æ¸¸æˆçš„å¸‚åœºé¡¿æ—¶èç¼©ã€‚æˆ‘è§è¿‡ä»–çš„æ‹›è˜å¹¿å‘Šï¼Œæ”¹æ‹›æ‰‹æœºæ¸¸æˆçš„å¼€å‘è€…ã€‚å†åæ¥ï¼Œå°±å†æ²¡å¬åˆ°è¿‡ä»–çš„æ¶ˆæ¯ã€‚</p><p>å½“ä¸€ç§æŠ€æœ¯æ¶ˆäº¡çš„æ—¶å€™ï¼Œä¸å®ƒç›¸å…³çš„å·¥ä½œå²—ä½ä¹Ÿå°±æ¶ˆäº¡äº†ã€‚è¿™ç§äº‹æƒ…åœ¨æŠ€æœ¯è¡Œä¸šç‰¹åˆ«å¤šï¼Œå› ä¸ºæŠ€æœ¯çš„å‡çº§æ¢ä»£å¤ªå¿«äº†ã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015121503.jpg"></p><p>æˆ‘å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚è‹¹æœæ‰‹æœºå‡ºç°ä¹‹å‰ï¼Œæœ€æµè¡Œçš„æ‰‹æœºéƒ½ä½¿ç”¨ Nokia å…¬å¸å¼€å‘çš„ â€œå¡ç­â€ æ“ä½œç³»ç»Ÿã€‚ä½ å¯èƒ½è¿˜è®°å¾—ï¼Œå®ƒçš„å…¸å‹æ ‡å¿—å°±æ˜¯ â€œä¹å®«æ ¼â€ èœå•ã€‚é‚£æ—¶ï¼Œå¡ç­å·¥ç¨‹å¸ˆä¹Ÿæ˜¯éå¸¸æŠ¢æ‰‹çš„ï¼Œå½»åº•æŒæ¡å®ƒé‚£ä¸€å¥—å¼€å‘æŠ€æœ¯ï¼Œæˆ‘ä¼°è®¡è‡³å°‘è¦ä¸€ä¸¤å¹´æ—¶é—´ã€‚åæ¥ï¼Œæ™ºèƒ½æ‰‹æœºæµè¡Œï¼Œå¡ç­ä¸€è´¥æ¶‚åœ°ã€‚2010 å¹´ï¼Œè¯ºåŸºäºšå®£å¸ƒæ”¾å¼ƒå¡ç­ï¼Œæ”¹ç”¨å¾®è½¯çš„æ“ä½œç³»ç»Ÿã€‚å†åæ¥ï¼ŒNokia è‡ªå·±ä¹Ÿæ²¡äº†ï¼Œæ‰€æœ‰æ‰‹æœºå·¥ç¨‹å¸ˆéƒ½é£æ•£äº†ã€‚æˆ‘çŸ¥é“ï¼ŒNokia ä¸­å›½æœ‰ä¸€ä¸ªèµ„æ·±å·¥ç¨‹å¸ˆï¼Œé€‰æ‹©é‡è¿›å¤§å­¦å»è¯» MBA å­¦ä½ã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015121504.jpg"></p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œä½ èŠ±äº†å¤šå¹´çš„å¿ƒè¡€ï¼Œå­œå­œä¸å€¦åœ°æŠ•å…¥å’Œç»ƒä¹ ï¼Œç»ˆäºæŒæ¡äº†ä¸€é—¨èµ–ä»¥è°‹ç”Ÿçš„æ‰‹è‰ºï¼Œè¿˜è¿›å…¥äº†ä¸–ç•Œæ’åç¬¬ä¸€ä½çš„é€šä¿¡ä¸šè·¨å›½å…¬å¸ã€‚å°±åœ¨ä½ è§‰å¾—äººç”Ÿç»ˆäºæœ‰ä¸€ç‚¹å®‰å…¨æ„Ÿçš„æ—¶å€™ï¼Œä¸€åˆ‡å°±å˜äº†ï¼Œå‡ å¹´ä¹‹é—´ï¼Œæ›¾ç»çš„å·¨æ— éœ¸åœŸå´©ç“¦è§£ï¼Œä¸ä»…ä½ çš„èŒä½æ²¡äº†ï¼Œæ›´å¯æ€•çš„æ˜¯ï¼Œä»¥å‰çš„äº§å“å·²ç»æ²¡äººç”¨äº†ï¼Œå…¨ä¸–ç•Œç°åœ¨ä¸ç”Ÿäº§ä»»ä½•å¡ç­è®¾å¤‡ã€‚ä½ çš„æ‰‹è‰ºçš„ä»·å€¼å˜æˆäº†é›¶ã€‚</p><p>æœ‰äººè¯´ï¼Œå¯ä»¥å†å­¦ä¹ ã€ç„¶åé‡æ–°å°±ä¸šå•Šï¼Œå¡ç­ä¸è¡Œäº†ï¼Œå¯ä»¥å­¦ä¹ è‹¹æœæ‰‹æœºå¼€å‘ã€‚æ²¡é”™ï¼Œè¯´å¾—å®Œå…¨æ­£ç¡®ã€‚ä½†æ˜¯ï¼Œä½ ä»¥å‰çš„ç§¯ç´¯æ²¡äº†ï¼Œéœ€è¦ä»é›¶å¼€å§‹ã€‚è·Ÿç°åœ¨åˆšåˆšèµ°å‡ºæ ¡é—¨çš„å­¦ç”Ÿï¼Œç«™åœ¨åŒä¸€æ¡èµ·è·‘çº¿ä¸Šï¼Œå­¦ä¹ åŒæ ·çš„ä¸œè¥¿ã€‚è¯´å®è¯ï¼Œè™½ç„¶ä½ æœ‰å‡ å¹´å¼€å‘ç»éªŒï¼Œä½†å¾ˆå¯èƒ½å¹¶æ²¡æœ‰é‚£äº› 20 å²çš„å¹´è½»äººå­¦å¾—å¿«ã€‚åœ¨ä¸€ä¸ªé«˜é€Ÿå˜åŒ–çš„è¡Œä¸šï¼Œç»éªŒæœ‰æ—¶å€™ä¸æ˜¯å¸®åŠ©ï¼Œè€Œæ˜¯éšœç¢ï¼Œå› ä¸ºä»¥å‰çš„é‚£å¥—è¡Œä¸é€šäº†ã€‚é€€ä¸€æ­¥è¯´ï¼Œå°±ç®—ä½ é‡æ–°å­¦ä¹ äº†ï¼Œä½†è‹¹æœæ‰‹æœºçš„å¼€å‘ä¹Ÿåœ¨å˜ï¼Œä½ å¾—ä¸åœåœ°è¿½èµ¶æ–°ä¸œè¥¿ ã€‚ä¸€ä¸ªäººçš„äººç”Ÿï¼Œèƒ½ç»å—å¾—èµ·å¤šå°‘æ¬¡ä»é›¶å¼€å§‹å‘¢ï¼Ÿ</p><p>â€œç»ˆèº«å­¦ä¹ â€ è¿™ä¸ªè¯å®Œå…¨æ²¡é”™ï¼Œä½†æ˜¯æƒ³é€šè¿‡ â€œç»ˆèº«å­¦ä¹ â€ ä¿æŒèŒä¸šç«äº‰åŠ›ï¼Œæˆ‘è§‰å¾—ä¸å¤ªå¯èƒ½ã€‚</p><p>ç¨‹åºå‘˜ï¼Œä¹ƒè‡³å…¶ä»–å¾ˆå¤šæŠ€æœ¯å²—ä½ï¼Œå…¶å®æ˜¯é’æ˜¥é¥­ã€‚åªæœ‰åº•å±‚çš„æŠ€æœ¯ï¼Œè¿˜æœ‰ä¸€äº›ç¨³å®šæ€§ï¼Œè¶Šæ¥è¿‘åº”ç”¨å±‚ï¼ŒæŠ€æœ¯çš„å‡çº§æ¢ä»£å°±è¶Šå¿«ã€‚ä½ å­¦ä¼šä¸€é—¨æŠ€æœ¯ï¼Œç„¶ååƒä¸Šä¸‰åå¹´ï¼Œè¿™ç§äº‹æƒ…è¶Šæ¥è¶Šå°‘è§äº†ã€‚æ›´å¸¸è§çš„æ˜¯ï¼Œå‡ å¹´ä»¥åï¼Œä½ ä¼šçš„ä¸œè¥¿å°±æ·˜æ±°äº†ï¼Œä½ è¢«è¿«é‡æ–°å­¦ä¹ æ–°ä¸œè¥¿ï¼Œæˆ–è€…é‡æ–°å°±ä¸šã€‚</p><p>ä¸ºä»€ä¹ˆä¸­å›½å¾ˆå°‘è§ 35 å²ä»¥ä¸Šçš„ç¨‹åºå‘˜ï¼Ÿå› ä¸ºä»–ä»¬ä¸Šå­¦æ—¶å­¦ä¹ çš„ä¸œè¥¿éƒ½æ·˜æ±°äº†ï¼Œå¿…é¡»å’Œå¹´è½»äººä¸€èµ·å­¦ä¹ æ–°æŠ€æœ¯ã€‚ä½ å¾ˆéš¾æ¯”å¹´è½»äººæ›´æœ‰ç«äº‰åŠ›ï¼Œå…¶ä¸­æœ€å…³é”®çš„æ˜¯ï¼Œé›‡ä½£åˆšèµ°å‡ºæ ¡é—¨çš„å­¦ç”Ÿï¼Œæ¯”é›‡ä½£ä½ ä¾¿å®œå¾—å¤šã€‚</p><p>å…¶ä»–è¡Œä¸šçš„å‡çº§æ¢ä»£ï¼Œä¸å¦‚æŠ€æœ¯è¡Œä¸šé‚£ä¹ˆå¤¸å¼ å’Œæ¿€è¿›ã€‚èŒä¸šçš„å®‰å…¨æ„Ÿå¯ä»¥ä¿æŒå¾—æ›´ä¹…ä¸€äº›ï¼Œä½†è¿œä¸æ˜¯é«˜æ•æ— å¿§ã€‚æŠ€æœ¯æ­£åœ¨å–ä»£äººåŠ›åŠ³åŠ¨ï¼Œæ¯”å¦‚è´¢åŠ¡ä¼šè®¡è¿™æ ·çš„è¡Œä¸šï¼Œéšç€ç”µå­æ”¯ä»˜çš„å…´èµ·ï¼Œå°†æ¥è‚¯å®šä¸ä¼šéœ€è¦è¿™ä¹ˆå¤šè´¢åŠ¡äººå‘˜ã€‚â€äº’è”ç½‘ +â€ ä»æŸä¸ªæ–¹é¢è¯´ï¼Œå°±æ˜¯ä½¿ç”¨äº’è”ç½‘æŠ€æœ¯å–ä»£ä¸€éƒ¨åˆ†äººåŠ›ï¼Œæ›´ä¾¿å®œåœ°æœåŠ¡æ›´å¤šçš„é¡¾å®¢ã€‚</p><p>å›åˆ°æœ¬æ–‡çš„é¢˜ç›®ï¼Œä¸–ç•Œä¸Šæœ‰æ²¡æœ‰å®‰å…¨çš„å·¥ä½œï¼Ÿåº”è¯¥æ˜¯æœ‰çš„å§ï¼Œä½†çœŸçš„ä¸å¤šã€‚å…¬åŠ¡å‘˜å¯èƒ½æ¯”è¾ƒå®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªèŒä¸šæ”¹å˜å¾—æ¯”è¾ƒç¼“æ…¢ï¼Œè€Œä¸”æ²¡æœ‰æŠ€æœ¯å‡çº§çš„å‹åŠ›ã€‚åŒ»ç”Ÿå’Œå¾‹å¸ˆï¼Œä¹Ÿæ¯”è¾ƒå®‰å…¨ï¼Œå› ä¸ºå¯¹äºè¿™äº›è¡Œä¸šï¼Œç»éªŒå¾ˆé‡è¦ï¼Œä½†æŠ€æœ¯æ­£åœ¨æŠŠå®ƒä»¬çš„æˆæœ¬é™ä¸‹æ¥ã€‚å¨å¸ˆå’Œç‰©æµï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®‰å…¨çš„è¡Œä¸šï¼Œå› ä¸ºæŠ€æœ¯å†è¿›æ­¥ï¼Œä¹Ÿæ€»éœ€è¦äººæ¥åšé¥­å’Œé€è´§ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯çº¯ç²¹çš„ä½“åŠ›åŠ³åŠ¨ï¼Œæ²¡æœ‰è¿›å…¥é—¨æ§›ï¼Œä¾›ç»™éå¸¸å¤§ï¼Œæƒ³æ‹¿åˆ°é«˜å·¥èµ„ä¸å®¹æ˜“ã€‚</p><p>æœ€ç»ˆæ¥è¯´ï¼Œäººç±»ç¤¾ä¼šçš„å°±ä¸šå½¢æ€æ­£åœ¨å‘ç”Ÿæ·±åˆ»çš„æ”¹å˜ï¼Œâ€ç»ˆç”ŸèŒä¸šâ€ è¶Šæ¥è¶Šå°‘äº†ã€‚æ¯ä¸ªäººéƒ½åº”è¯¥å°½æ—©æ‰“ç®—ï¼Œå¦‚æœæ˜å¤©ä½ çš„èŒä¸šæ¶ˆå¤±äº†ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>[è¯´æ˜] åŸæ–‡å‘è¡¨åœ¨<a href="http://culture.caixin.com/2015-12-11/100885728.html">ã€Šè´¢æ–°å‘¨åˆŠã€‹</a>ï¼ˆ2015 å¹´ 12 æœˆ 11 æ—¥ï¼‰çš„ä¸“æ ã€‚</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/6d5f96f/">https://blog.coder4j.cn/posts/6d5f96f/</a> </p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> èŒä¸šé“è·¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] Java 8 å¼€å‘çš„ 4 å¤§é¡¶çº§æŠ€å·§</title>
      <link href="/posts/e0656c9c/"/>
      <url>/posts/e0656c9c/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="http://www.importnew.com/22417.html">http://www.importnew.com/22417.html</a> è¯‘æ–‡å‡ºå¤„ï¼š <a href="https://www.evget.com/article/2016/8/10/24674.html">Elyn</a>Â Â Â åŸæ–‡å‡ºå¤„ï¼š<a href="https://dzone.com/articles/java-8-top-tips">Java 8 Top Tips</a></p></blockquote><p>æˆ‘ä½¿ç”¨ Java 8 ç¼–ç å·²ç»æœ‰äº›å¹´å¤´ï¼Œæ—¢ç”¨äºæ–°çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿç”¨æ¥è¿ç§»ç°æœ‰çš„åº”ç”¨ï¼Œæ„Ÿè§‰æ˜¯æ—¶å€™å†™ä¸€äº›æˆ‘å‘ç°çš„éå¸¸æœ‰ç”¨çš„ â€œæœ€ä½³å®è·µâ€ã€‚æˆ‘ä¸ªäººå¹¶ä¸å–œæ¬¢â€œæœ€ä½³å®è·µâ€ è¿™ä¸ªè¯´æ³•ï¼Œå› ä¸ºå®ƒæ„å‘³ç€ â€œä¸€åˆ€åˆ‡â€ çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œç¼–ç ä¸å¯èƒ½æ˜¯è¿™æ ·çš„å·¥ä½œæ–¹å¼â€”â€”æˆ‘ä»¬éœ€è¦äº²è‡ªå»å‘ç°ä»€ä¹ˆæ ·çš„è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ‰æ•ˆçš„ã€‚ä½†æ˜¯æˆ‘å‘ç°äº†ä¸€äº› Java 8 ä»£ç ä¸­å¯ä»¥å¸®åŠ©æˆ‘ä»¬çš„ä¸€äº›é€‰æ‹©ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å§ã€‚</p><h3 id="1-Optional"><a href="#1-Optional" class="headerlink" title="1.Optional"></a><strong>1.Optional</strong></h3><p>Optional æ˜¯ä¸€ä¸ªä¸¥é‡è¢«ä½ä¼°çš„åŠŸèƒ½ï¼Œå¹¶ä¸”æœ‰æ½œåŠ›åˆ é™¤å¾ˆå¤šå›°æ‰°æˆ‘ä»¬çš„ NullPointerExceptionsã€‚è¿™åœ¨ä»£ç è¾¹ç•Œä¸­ï¼ˆè¦ä¹ˆæ˜¯æ­£åœ¨ä½¿ç”¨çš„ APIï¼Œè¦ä¹ˆæ˜¯æ­£åœ¨æš´éœ²çš„ APIï¼‰ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ä½ å’Œä½ çš„è°ƒç”¨ä»£ç æ¥æ¨ç†æ‰€æœŸå¾…çš„ä¸œè¥¿ã€‚</p><p>ç„¶è€Œï¼Œä¸åŠ æ€è€ƒå’Œè®¾è®¡å°±åº”ç”¨ Optional å¯èƒ½ä¼šå¯¼è‡´å½±å“å¤§é‡çš„ç±»ï¼Œå¹¶å¯èƒ½å¯¼è‡´å¯è¯»æ€§æ›´å·®ã€‚ä¸‹é¢æ˜¯ä¸€äº›å…³äºå¦‚ä½•é«˜æ•ˆä½¿ç”¨ Optional çš„æŠ€å·§ã€‚</p><h4 id="Optional-åº”è¯¥åªç”¨äºè¿”å›ç±»å‹"><a href="#Optional-åº”è¯¥åªç”¨äºè¿”å›ç±»å‹" class="headerlink" title="Optional åº”è¯¥åªç”¨äºè¿”å›ç±»å‹"></a><strong>Optional åº”è¯¥åªç”¨äºè¿”å›ç±»å‹</strong></h4><p>â€¦â€¦ ä¸æ˜¯å‚æ•°ï¼Œä¹Ÿä¸æ˜¯å­—æ®µã€‚å¹¸è¿çš„æ˜¯ï¼ŒIntelliJ IDEA çš„è®©ä½ æ‰“å¼€æ£€æŸ¥æ¥æŸ¥çœ‹æ˜¯æ˜¯å¦éµå¾ªè¿™äº›å»ºè®®ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java81.png"></p><p>Optional å€¼åº”åœ¨é‡åˆ°å®ƒä»¬çš„åœ°æ–¹ä¸­å¤„ç†ã€‚IntelliJ IDEA çš„å»ºè®®ä¼šé˜²æ­¢ä»£ç  Optional æ³„æ¼ï¼Œæ‰€ä»¥è¯·è®°å¾—åœ¨ä½ å‘ç° Optional çš„åœ°æ–¹å¤„ç†å®ƒï¼Œè¿…é€Ÿé‡‡å–è¡ŒåŠ¨ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java82.png"></p><h4 id="ä¸åº”è¯¥ç®€å•è°ƒç”¨-get"><a href="#ä¸åº”è¯¥ç®€å•è°ƒç”¨-get" class="headerlink" title="ä¸åº”è¯¥ç®€å•è°ƒç”¨ get()"></a><strong>ä¸åº”è¯¥ç®€å•è°ƒç”¨ get()</strong></h4><p>Optional çš„åŠŸèƒ½æ˜¯è¡¨è¾¾è¿™ä¸ªå€¼å¯èƒ½æ˜¯ç©ºçš„ï¼Œå¹¶è®©ä½ åº”å¯¹è¿™ç§æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨å¯¹å®ƒåšä»»ä½•äº‹æƒ…ä¹‹å‰ä¸€å®šè¦æ£€æŸ¥æ˜¯å¦æœ‰ä¸€ä¸ªå€¼ã€‚åªæ˜¯ç®€å•å¾—è°ƒç”¨ get() è€Œä¸å…ˆæ£€æŸ¥ isPresent() åœ¨æŸäº›æ—¶å€™å¯èƒ½ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆã€‚å¹¸è¿çš„æ˜¯ï¼ŒIntelliJ IDEA ä¹Ÿæœ‰æ£€æŸ¥å¯ä»¥æé†’ä½ è¿™ä¸€ç‚¹ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java83.png"></p><h4 id="å¯èƒ½æœ‰æ›´ä¼˜é›…çš„æ–¹å¼"><a href="#å¯èƒ½æœ‰æ›´ä¼˜é›…çš„æ–¹å¼" class="headerlink" title="å¯èƒ½æœ‰æ›´ä¼˜é›…çš„æ–¹å¼"></a><strong>å¯èƒ½æœ‰æ›´ä¼˜é›…çš„æ–¹å¼</strong></h4><p>ç»“åˆäº† get() çš„ isPresent() å½“ç„¶ä¼šå¾ˆèµâ€¦</p><p><img src="http://image.evget.com/images/article/2016/java84.png"></p><p>â€¦â€¦ ä½†ä¹Ÿæœ‰æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚ä½ å¯ä»¥ä½¿ç”¨ orElse åœ¨ä¸‡ä¸€æ˜¯ç©ºå€¼çš„æƒ…å†µä¸‹ç»™ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚</p><p><img src="http://image.evget.com/images/article/2016/java85.png"></p><p>â€¦â€¦ æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨ orElseGet è¯´æ˜åœ¨å€¼ä¸ºç©ºçš„æƒ…å†µä¸‹è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚è¿™ä¼¼ä¹ä¸ä¸Šé¢çš„ä¾‹å­ç›¸åŒï¼Œä½† supplier æ–¹æ³•å°†åªåœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨ï¼Œå› æ­¤ï¼Œå¦‚æœè¿™æ˜¯ä¸€ç§æ˜‚è´µçš„æ–¹æ³•ï¼Œé‚£ä¹ˆä½¿ç”¨ lambda ä¼šæœ‰æ›´ä½³æ€§èƒ½ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java86.png"></p><h3 id="2-ä½¿ç”¨-Lambda-è¡¨è¾¾å¼"><a href="#2-ä½¿ç”¨-Lambda-è¡¨è¾¾å¼" class="headerlink" title="2. ä½¿ç”¨ Lambda è¡¨è¾¾å¼"></a><strong>2. ä½¿ç”¨ Lambda è¡¨è¾¾å¼</strong></h3><p>Lambda è¡¨è¾¾å¼æ˜¯ Java 8 çš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€ã€‚å³ä½¿ä½ è¿˜æ²¡æœ‰ä½¿ç”¨ Java 8ï¼Œä½ ç°åœ¨å¯èƒ½å·²ç»å¯¹å®ƒä»¬æœ‰äº†åŸºæœ¬çš„äº†è§£ã€‚å®ƒä»¬æ˜¯ç”¨ Java ç¼–ç¨‹çš„ä¸€ç§æ–°çš„æ–¹å¼ï¼Œå¹¶ä¸”ä»€ä¹ˆæ˜¯ â€œæœ€ä½³å®è·µâ€ è¿˜ä¸æ˜æ˜¾ã€‚ä¸‹é¢æ˜¯æˆ‘å–œæ¬¢éµå¾ªçš„ä¸€äº›æŒ‡å¼•ã€‚</p><h4 id="ä¿æŒç®€çŸ­"><a href="#ä¿æŒç®€çŸ­" class="headerlink" title="ä¿æŒç®€çŸ­"></a><strong>ä¿æŒç®€çŸ­</strong></h4><p>å‡½æ•°å¼ç¨‹åºå‘˜ä¸è¾ƒé•¿çš„ lambda è¡¨è¾¾å¼ç›¸å¤„ä¼šæ›´æ„‰å¿«ï¼Œä½†é‚£äº›æ·«æµ¸äº Java å¤šå¹´çš„äººä¼šå‘ç°ä¿æŒ lambda è¡¨è¾¾å¼ä¸ºåŒºåŒºå‡ è¡Œä»£ç æ›´å®¹æ˜“ã€‚ä½ ç”šè‡³å¯èƒ½æ›´æ„¿æ„å°†å…¶é™åˆ¶åˆ°ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”ä½ å¯ä»¥è½»æ¾<a href="http://www.amazon.cn/gp/product/B003BY6PLK/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&tag=importnew-23&linkCode=as2&camp=536&creative=3200&creativeASIN=B003BY6PLK" title="é‡æ„">é‡æ„</a>è¾ƒé•¿çš„è¡¨è¾¾å¼ä¸ºä¸€ä¸ªæ–¹æ³•ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java87.png"></p><p>è¿™äº›ç”šè‡³å¯èƒ½ä¼šæˆä¸ºæ–¹æ³•å¼•ç”¨ã€‚æ–¹æ³•å¼•ç”¨ä¸€å¼€å§‹ä¼šè§‰å¾—æœ‰ç‚¹é™Œç”Ÿï¼Œä½†å®é™…ä¸ŠåšæŒæ–¹æ³•å¼•ç”¨æ˜¯æœ‰ä»·å€¼çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨æŸäº›æƒ…å†µä¸‹æœ‰åŠ©äºå¯è¯»æ€§ï¼Œåé¢æˆ‘ä¼šè®¨è®ºåˆ°è¿™ä¸€ç‚¹ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java88.png"></p><h4 id="æ˜ç¡®"><a href="#æ˜ç¡®" class="headerlink" title="æ˜ç¡®"></a><strong>æ˜ç¡®</strong></h4><p>ç±»å‹ä¿¡æ¯ç¼ºå°‘ lambda è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä½ å¯èƒ½ä¼šè§‰å¾—åŒ…å«ç±»å‹ä¿¡æ¯ç”¨äºå‚æ•°ä¼šå¾ˆæœ‰ç”¨ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java899.png"></p><p>æ­£å¦‚ä½ æ‰€è§ï¼Œè¿™å›å˜å¾—ç›¸å½“ç¬¨æ‹™ã€‚æ‰€ä»¥æˆ‘æ›´å–œæ¬¢ç»™å‚æ•°å–ä¸€ä¸ªæœ‰ç”¨çš„åå­—ã€‚å½“ç„¶ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰è¿™ä¹ˆåšï¼ŒIntelliJ IDEA å¯ä»¥è®©ä½ çœ‹åˆ°å‚æ•°å¾—ç±»å‹ä¿¡æ¯ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java89.png"></p><p>ç”šè‡³æ˜¯ lambda æ‰€ä»£è¡¨çš„å‡½æ•°å¼æ¥å£ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java810.png"></p><h3 id="3-é’ˆå¯¹-Lambda-è¡¨è¾¾å¼è®¾è®¡"><a href="#3-é’ˆå¯¹-Lambda-è¡¨è¾¾å¼è®¾è®¡" class="headerlink" title="3. é’ˆå¯¹ Lambda è¡¨è¾¾å¼è®¾è®¡"></a><strong>3. é’ˆå¯¹ Lambda è¡¨è¾¾å¼è®¾è®¡</strong></h3><p>æˆ‘è®¤ä¸º lambda è¡¨è¾¾å¼æœ‰ç‚¹åƒæ³›å‹â€”â€”å’Œæ³›å‹ä¸€èµ·ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨å®ƒä»¬ï¼ˆä¾‹å¦‚ï¼Œæ·»åŠ ç±»å‹ä¿¡æ¯åˆ° List&lt;&gt;ï¼‰ï¼Œä½†æœ€å¥½æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ç§æ–¹æ³•æˆ–ä¸€ä¸ªå…·æœ‰æ³›å‹ç±»å‹ï¼ˆä¾‹å¦‚ Person&lt; T&gt;ï¼‰çš„ç±»ã€‚åŒæ ·çš„ï¼Œå½“ä½¿ç”¨ç±»ä¼¼äº Streams API çš„ä¸œè¥¿æ—¶ï¼Œæˆ‘ä»¬ä¼šä¼ é€’ lambda è¡¨è¾¾å¼ï¼Œä½†æ›´å¥½çš„æ˜¯åˆ›é€ ä¸€ä¸ªéœ€è¦ lambda å‚æ•°çš„æ–¹æ³•ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœä½ å‘ç°è‡ªå·±å¤„äºè¿™ç±»æƒ…å†µä¸‹ï¼Œä¸‹é¢æœ‰ä¸€äº›è¶…æ£’çš„æŠ€å·§ã€‚</p><h4 id="IntelliJ-IDEA-å¯ä»¥å¸®ä½ å¼•è¿›å‡½æ•°å¼å‚æ•°"><a href="#IntelliJ-IDEA-å¯ä»¥å¸®ä½ å¼•è¿›å‡½æ•°å¼å‚æ•°" class="headerlink" title="IntelliJ IDEA å¯ä»¥å¸®ä½ å¼•è¿›å‡½æ•°å¼å‚æ•°"></a><strong>IntelliJ IDEA å¯ä»¥å¸®ä½ å¼•è¿›å‡½æ•°å¼å‚æ•°</strong></h4><p>è¿™è®©ä½ å¯ä»¥åœ¨æœ‰äººå°†ä¼ é€’ä¸€ä¸ª lambda è€Œé Object çš„åœ°æ–¹åˆ›å»ºä¸€ä¸ªå‚æ•°ã€‚æ­¤åŠŸèƒ½çš„å¥½å¤„æ˜¯ï¼Œå®ƒè¡¨æ˜ï¼Œç°æœ‰å‡½æ•°å¼æ¥å£åŒ¹é…è§„æ ¼è¯´æ˜ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java811.png"></p><p>è¿™ä¼šå¯¼è‡´â€¦</p><h4 id="ä½¿ç”¨ç°æœ‰çš„å‡½æ•°å¼æ¥å£"><a href="#ä½¿ç”¨ç°æœ‰çš„å‡½æ•°å¼æ¥å£" class="headerlink" title="ä½¿ç”¨ç°æœ‰çš„å‡½æ•°å¼æ¥å£"></a><strong>ä½¿ç”¨ç°æœ‰çš„å‡½æ•°å¼æ¥å£</strong></h4><p>éšç€å¼€å‘äººå‘˜è¶Šæ¥è¶Šç†Ÿæ‚‰ Java 8 ä»£ç ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“å½“ä½¿ç”¨å¦‚ Supplier å’Œ Consumer çš„æ¥å£æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä»¥åŠåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„ ErrorMessageCreatorï¼ˆä¸¾ä¸ªä¾‹å­ï¼‰å¯èƒ½ä¼šé€ æˆæ··ä¹±ï¼Œè€Œä¸”æµªè´¹ã€‚çœ‹çœ‹è¿™ä¸ªå‡½æ•°åŒ…äº†è§£ä¸€ä¸‹å“ªäº›å·²ç»æ˜¯å¯ç”¨çš„ã€‚</p><h4 id="æ·»åŠ -FunctionalInterface-åˆ°å‡½æ•°å¼æ¥å£"><a href="#æ·»åŠ -FunctionalInterface-åˆ°å‡½æ•°å¼æ¥å£" class="headerlink" title="æ·»åŠ  @FunctionalInterface åˆ°å‡½æ•°å¼æ¥å£"></a><strong>æ·»åŠ  @FunctionalInterface åˆ°å‡½æ•°å¼æ¥å£</strong></h4><p>å¦‚æœä½ ç¡®å®éœ€è¦åˆ›å»ºè‡ªå·±çš„å‡½æ•°å¼æ¥å£ï¼Œé‚£ä¹ˆå°±è¿™æ ·ç”¨æ­¤æ³¨é‡Šæ ‡è®°ã€‚è¿™ä¼¼ä¹æ²¡æœ‰å¤ªå¤§çš„ä½œç”¨ï¼Œä½† IntelliJ IDEA ä¼šå‘Šè¯‰ä½ ï¼Œåœ¨ä½ çš„æ¥å£ä¸èƒ½åŒ¹é…ç”¨äºå‡½æ•°å¼æ¥å£çš„å¼‚å¸¸çš„æ—¶å€™ã€‚å½“ä½ æ²¡æœ‰æŒ‡å®šè¦è¦†ç›–çš„æ–¹æ³•æ—¶ï¼Œå®ƒä¼šæ ‡å¿—ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java812.png"></p><p>å½“ä½ æŒ‡å®šäº†å¤ªå¤šæ–¹æ³•çš„æ—¶å€™ï¼Œå®ƒä¼šæ ‡å¿—ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java813.png"></p><p>å¹¶ä¸”å¦‚æœä½ åº”ç”¨å®ƒåˆ°ä¸€ä¸ªç±»è€Œä¸æ˜¯æ¥å£æ—¶ï¼Œå®ƒä¼šè­¦å‘Šä½ ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java814.png"></p><p>lambda è¡¨è¾¾å¼å¯ç”¨äºå¸¦æœ‰ä¸€ä¸ªå•ä¸€æŠ½è±¡æ–¹æ³•çš„ä»»ä½•æ¥å£ï¼Œä½†å®ƒä»¬ä¸èƒ½ç”¨äºç¬¦åˆç›¸åŒæ ‡å‡†çš„æŠ½è±¡ç±»ã€‚ä¼¼ä¹ä¸åˆé€»è¾‘ï¼Œä½†å°±æ˜¯è¿™æ ·ã€‚</p><h3 id="4-Stream"><a href="#4-Stream" class="headerlink" title="4.Stream"></a><strong>4.Stream</strong></h3><p>Stream API æ˜¯ Java 8 å¦ä¸€ä¸ªå¤§ç‰¹ç‚¹ï¼Œå¹¶ä¸”æˆ‘è®¤ä¸ºæˆ‘ä»¬è¿˜çœŸçš„ä¸çŸ¥é“è¿™å¯¹æˆ‘ä»¬çš„ç¼–ç æ–¹å¼ä¼šäº§ç”Ÿå¤šå¤§çš„æ”¹å˜ã€‚ä¸‹é¢æ˜¯æˆ‘å‘ç°çš„ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿</p><h4 id="æ’é˜Ÿç‚¹æ“ä½œç¬¦"><a href="#æ’é˜Ÿç‚¹æ“ä½œç¬¦" class="headerlink" title="æ’é˜Ÿç‚¹æ“ä½œç¬¦"></a><strong>æ’é˜Ÿç‚¹æ“ä½œç¬¦</strong></h4><p>æˆ‘ä¸ªäººæ›´å–œæ¬¢æ’é˜Ÿæˆ‘çš„æµæ“ä½œã€‚å½“ç„¶ï¼Œä½ æ²¡æœ‰å¿…è¦è¿™æ ·ï¼Œå½“æˆ‘å‘ç°è¿™æ ·åšå¯¹æˆ‘æœ‰å¸®åŠ©ï¼š</p><ul><li>ä¸€ç›®äº†ç„¶åœ°çœ‹åˆ°æˆ‘æœ‰å“ªäº›æ“ä½œ</li><li>è°ƒè¯•æ›´å®¹æ˜“ï¼ˆè™½ç„¶ IntelliJ IDEA ç¡®å®æä¾›äº†å¯¹ä¸€è¡Œä¸­çš„ä»»æ„å¤šä¸ª lambda è¡¨è¾¾å¼è®¾ç½®æ–­ç‚¹çš„èƒ½åŠ›ï¼Œä½†æ˜¯æ‹†åˆ†åˆ°ä¸åŒçš„è¡Œä¼šå˜å¾—æ›´ç®€å•ï¼‰</li><li>å½“æˆ‘æµ‹è¯•ä¸œè¥¿çš„æ—¶å€™æ³¨é‡Šæ“ä½œ</li><li>è½»æ¾æ’å…¥ peek() ç”¨äºè°ƒè¯•æˆ–æµ‹è¯•</li></ul><p><img src="http://image.evget.com/images/article/2016/java815.png"></p><p>æ­¤å¤–ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæ›´æ•´æ´ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªæ¨¡å¼ï¼Œåœ¨å‡å°‘ä»£ç è¡Œæ•°æ–¹é¢æˆ‘ä»¬å¹¶æ²¡æœ‰å¢åŠ å¾ˆå¤šã€‚</p><p>ä½ å¯èƒ½éœ€è¦è°ƒæ•´æ ¼å¼è®¾ç½®ä»¥æ’åˆ—ç‚¹æ“ä½œç¬¦ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java816.png"></p><h4 id="ä½¿ç”¨æ–¹æ³•å¼•ç”¨"><a href="#ä½¿ç”¨æ–¹æ³•å¼•ç”¨" class="headerlink" title="ä½¿ç”¨æ–¹æ³•å¼•ç”¨"></a><strong>ä½¿ç”¨æ–¹æ³•å¼•ç”¨</strong></h4><p>æ˜¯çš„ï¼Œç¡®å®éœ€è¦ä¸€æ®µæ—¶é—´æ¥é€‚åº”è¿™ä¸ªå¥‡æ€ªçš„è¯­æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨å¾—å½“ï¼Œå®ƒç¡®å®å¯ä»¥å¢åŠ å¯è¯»æ€§ã€‚è¯·çœ‹ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java817.png"></p><p>ä¸ï¼ˆç›¸å¯¹ï¼‰æ–°çš„ Objects ç±»ä¸Šçš„è¾…åŠ©æ–¹æ³•ç›¸æ¯”è¾ƒï¼š</p><p><img src="http://image.evget.com/images/article/2016/java818.png"></p><p>åè€…çš„ä»£ç å¯¹äºå“ªäº›å€¼æ˜¯è¦ä¿å­˜çš„æ›´åŠ æ˜ç¡®ã€‚å½“ lambda å¯ä»¥è¢«æŠ˜å åˆ°æ–¹æ³•å‚è€ƒçš„æ—¶å€™ï¼ŒIntelliJ IDEA é€šå¸¸ä¼šè®©ä½ çŸ¥é“ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java819.png"></p><h4 id="å½“éå†ä¸€ä¸ªé›†åˆæ—¶ï¼Œåœ¨å¯è¡Œçš„æƒ…å†µä¸‹ä½¿ç”¨-Streams-API"><a href="#å½“éå†ä¸€ä¸ªé›†åˆæ—¶ï¼Œåœ¨å¯è¡Œçš„æƒ…å†µä¸‹ä½¿ç”¨-Streams-API" class="headerlink" title="å½“éå†ä¸€ä¸ªé›†åˆæ—¶ï¼Œåœ¨å¯è¡Œçš„æƒ…å†µä¸‹ä½¿ç”¨ Streams API"></a><strong>å½“éå†ä¸€ä¸ªé›†åˆæ—¶ï¼Œåœ¨å¯è¡Œçš„æƒ…å†µä¸‹ä½¿ç”¨ Streams API</strong></h4><p>â€¦ æˆ–è€…æ–°çš„é›†åˆæ–¹æ³•ï¼Œå¦‚ forEachã€‚IntelliJ IDEA ç»™ä½ å»ºè®®æ˜¯ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java820.png"></p><p>ä¸€èˆ¬ä½¿ç”¨ Streams API æ¯”å¾ªç¯å’Œ if è¯­å¥çš„ç»„åˆæ›´åŠ æ˜ç¡®ã€‚ä¾‹å¦‚ï¼š</p><p><img src="http://image.evget.com/images/article/2016/java821.png"></p><p>IntelliJ IDEA å»ºè®®è¿™å¯é‡æ„ä¸ºï¼š</p><p><img src="http://image.evget.com/images/article/2016/java822.png"></p><p>æˆ‘æ‰€åšçš„æ€§èƒ½æµ‹è¯•è¡¨æ˜è¿™ç§é‡æ„ä»¤äººæƒŠè®¶â€”â€”å¹¶ä¸æ€»æ˜¯å¯é¢„æµ‹æ€§èƒ½æ˜¯ä¿æŒä¸å˜ï¼Œæ”¹å–„è¿˜æ˜¯å˜å¾—æ›´ç³Ÿã€‚ä¸å¾€å¸¸ä¸€æ ·ï¼Œå¦‚æœæ€§èƒ½åœ¨åº”ç”¨ç¨‹åºä¸­æ˜¯å…³é”®ï¼Œé‚£ä¹ˆåœ¨äº¤ä»˜ä¸€ç§é£æ ¼åˆ°å¦ä¸€ç§ä¹‹å‰è¡¡é‡å®ƒã€‚</p><h4 id="éå†æ•°ç»„æ—¶ä½¿ç”¨å¾ªç¯"><a href="#éå†æ•°ç»„æ—¶ä½¿ç”¨å¾ªç¯" class="headerlink" title="éå†æ•°ç»„æ—¶ä½¿ç”¨å¾ªç¯"></a><strong>éå†æ•°ç»„æ—¶ä½¿ç”¨å¾ªç¯</strong></h4><p>ä½†æ˜¯ï¼Œä½¿ç”¨ Java 8 å¹¶ä¸ä¸€å®šæ„å‘³ç€ä½ å¿…é¡»åˆ°å¤„ä½¿ç”¨æµå’Œæ–°çš„é›†åˆæ–¹æ³•ã€‚IntelliJ IDEA ä¼šå»ºè®®è½¬æ¢æˆæµï¼Œä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä½ å¿…é¡»å›ç­” â€œyesâ€ï¼ˆè®°å¾—æ£€æŸ¥æ˜¯å¯ä»¥æŠ‘åˆ¶æˆ–å…³é—­çš„ï¼‰ã€‚</p><p>ç‰¹åˆ«æ˜¯ï¼Œéå†åŸå§‹ç±»å‹çš„å°å‹æ•°ç»„å‡ ä¹è‚¯å®šä¼šç”¨ï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å¾ªç¯ï¼Œå¾ˆå¯èƒ½ï¼ˆè‡³å°‘å¯¹äº Java å¼€å‘äººå‘˜æ˜¯æ–°çš„æµï¼‰æ›´å…·å¯è¯»æ€§ã€‚</p><p><img src="http://image.evget.com/images/article/2016/java823.png"></p><p>ä¸ä»»ä½•æŠ€å·§ä¸€æ ·ï¼Œè§„åˆ™å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œä½†ä½ åº”è¯¥å†³å®šæ˜¯å°½å¯èƒ½åœ°ä½¿ç”¨ Streams APIï¼Œè¿˜æ˜¯ä¾ç„¶å¯¹ä¸€äº›æ“ä½œä½¿ç”¨å¾ªç¯ã€‚æ€»ä¹‹ï¼Œè¦ä¸€è‡´ã€‚</p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a><strong>æœ€å</strong></h3><p>æ¯å¤©éƒ½åœ¨å‘ç°æ–°çš„ä¸œè¥¿ï¼Œå¹¶ä¸”æœ‰æ—¶å€™æˆ‘çš„åå¥½ä¼šå‘ç”Ÿå˜åŒ–â€”â€”ä¾‹å¦‚ï¼Œæ–¹æ³•å¼•ç”¨ï¼Œæˆ‘æ›¾ç»æ·±æ¶ç—›ç»å¹¶ä¸”é¿å…åœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨ã€‚ç°åœ¨æˆ‘å¾ˆæƒ³å¬å¬ä½ çš„ç§˜è¯€ï¼</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/e0656c9c/">https://blog.coder4j.cn/posts/e0656c9c/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] ä½¿ç”¨ Java8 Optional çš„æ­£ç¡®å§¿åŠ¿</title>
      <link href="/posts/1c080b4/"/>
      <url>/posts/1c080b4/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.importnew.com/22060.html">åŸæ–‡é“¾æ¥</a></p><p><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fou0ynetdcj21hc3847rl.jpg"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/1c080b4/">https://blog.coder4j.cn/posts/1c080b4/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] ç‰ˆæœ¬å·å‘½åæŒ‡å—</title>
      <link href="/posts/e6ce36f0/"/>
      <url>/posts/e6ce36f0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="http://www.importnew.com/28063.html">http://www.importnew.com/28063.html</a> åŸæ–‡å‡ºå¤„ï¼š <a href="http://wsfdl.com/devops/2016/09/27/%E7%89%88%E6%9C%AC%E5%8F%B7.html">koala bear</a></p></blockquote><p>é¦–å…ˆçœ‹çœ‹æŸäº›å¸¸è§è½¯ä»¶çš„ç‰ˆæœ¬å·ï¼š</p><ul><li>Linux Kernelï¼š 0.0.1ï¼Œ1.0.0ï¼Œ2.6.32ï¼Œ3.0.18â€¦ï¼Œè‹¥ç”¨ X.Y.Z è¡¨ç¤ºï¼Œåˆ™å¶æ•° Y è¡¨ç¤ºç¨³å®šç‰ˆæœ¬ï¼Œå¥‡æ•° Y è¡¨ç¤ºå¼€å‘ç‰ˆæœ¬ã€‚</li><li>Windowsï¼šwindows 98ï¼Œwindows 2000ï¼Œwindows xpï¼Œwindows 7â€¦ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯æ‚ä¹±æ— ç« ï¼Œæ¯«æ— è§„å¾‹ã€‚</li><li>SSH Clientï¼š0.9.8ã€‚</li><li>OpenStackï¼š2014.1.3ï¼Œ2015.1.1.dev8ã€‚</li></ul><p>ä»ä¸Šå¯ä»¥çœ‹å‡ºï¼Œä¸åŒçš„è½¯ä»¶ç‰ˆæœ¬å·é£æ ¼å„å¼‚ï¼Œéšç€ç³»ç»Ÿçš„è§„æ¨¡è¶Šå¤§ï¼Œä¾èµ–çš„è½¯ä»¶è¶Šå¤šï¼Œå¦‚æœè¿™äº›è½¯ä»¶æ²¡æœ‰éµå¾ªä¸€å¥—è§„èŒƒçš„å‘½åé£æ ¼ï¼Œå®¹æ˜“é€ æˆÂ <a href="https://en.wikipedia.org/wiki/Dependency_hell">Dependency Hell</a>ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å‘å¸ƒç‰ˆæœ¬æ—¶ï¼Œç‰ˆæœ¬å·çš„å‘½åéœ€è¦éµå¾ªæŸç§è§„åˆ™ï¼Œå…¶ä¸­Â <a href="http://semver.org/">Semantic Versioning 2.0.0</a>Â å®šä¹‰äº†ä¸€å¥—ç®€å•çš„è§„åˆ™åŠæ¡ä»¶æ¥çº¦æŸç‰ˆæœ¬å·çš„é…ç½®å’Œå¢é•¿ã€‚æœ¬æ–‡æ ¹æ®Â <a href="http://semver.org/">Semantic Versionning 2.0.0</a>Â å’ŒÂ <a href="http://docs.openstack.org/developer/pbr/semver.html">Semantic Versioning 3.0.0</a>Â é€‰æ‹©æ€§çš„æ•´ç†å‡ºç‰ˆæœ¬å·å‘½åè§„åˆ™æŒ‡å—ã€‚</p><hr><h1 id="ç‰ˆæœ¬å·å‘½åè§„åˆ™æŒ‡å—"><a href="#ç‰ˆæœ¬å·å‘½åè§„åˆ™æŒ‡å—" class="headerlink" title="ç‰ˆæœ¬å·å‘½åè§„åˆ™æŒ‡å—"></a>ç‰ˆæœ¬å·å‘½åè§„åˆ™æŒ‡å—</h1><p>ç‰ˆæœ¬å·çš„æ ¼å¼ä¸º X.Y.Z(åˆç§° Major.Minor.Patch)ï¼Œé€’å¢çš„è§„åˆ™ä¸ºï¼š</p><ul><li>X è¡¨ç¤ºä¸»ç‰ˆæœ¬å·ï¼Œå½“ API çš„å…¼å®¹æ€§å˜åŒ–æ—¶ï¼ŒX éœ€é€’å¢ã€‚</li><li>Y è¡¨ç¤ºæ¬¡ç‰ˆæœ¬å·ï¼Œå½“å¢åŠ åŠŸèƒ½æ—¶ (ä¸å½±å“ API çš„å…¼å®¹æ€§)ï¼ŒY éœ€é€’å¢ã€‚</li><li>Z è¡¨ç¤ºä¿®è®¢å·ï¼Œå½“åš Bug ä¿®å¤æ—¶ (ä¸å½±å“ API çš„å…¼å®¹æ€§)ï¼ŒZ éœ€é€’å¢ã€‚</li></ul><p>è¯¦ç»†çš„è§„åˆ™å¦‚ä¸‹ï¼š</p><ol><li>X, Y, Z å¿…é¡»ä¸ºéè´Ÿæ•´æ•°ï¼Œä¸”ä¸å¾—åŒ…å«å‰å¯¼é›¶ï¼Œå¿…é¡»æŒ‰æ•°å€¼é€’å¢ï¼Œå¦‚ 1.9.0 -&gt; 1.10.0 -&gt; 1.11.0</li><li>0.Y.Z çš„ç‰ˆæœ¬å·è¡¨æ˜è½¯ä»¶å¤„äºåˆå§‹å¼€å‘é˜¶æ®µï¼Œæ„å‘³ç€ API å¯èƒ½ä¸ç¨³å®šï¼›1.0.0 è¡¨æ˜ç‰ˆæœ¬å·²æœ‰ç¨³å®šçš„ APIã€‚</li><li>å½“ API çš„å…¼å®¹æ€§å˜åŒ–æ—¶ï¼ŒX å¿…é¡»é€’å¢ï¼ŒY å’Œ Z åŒæ—¶è®¾ç½®ä¸º 0ï¼›å½“æ–°å¢åŠŸèƒ½ (ä¸å½±å“ API çš„å…¼å®¹æ€§) æˆ–è€… API è¢«æ ‡è®°ä¸º Deprecated æ—¶ï¼ŒY å¿…é¡»é€’å¢ï¼ŒåŒæ—¶ Z è®¾ç½®ä¸º 0ï¼›å½“è¿›è¡Œ bug fix æ—¶ï¼ŒZ å¿…é¡»é€’å¢ã€‚</li><li>å…ˆè¡Œç‰ˆæœ¬å· (Pre-release) æ„å‘³è¯¥ç‰ˆæœ¬ä¸ç¨³å®šï¼Œå¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œå…¶æ ¼å¼ä¸ºï¼šX.Y.Z.[a-c][æ­£æ•´æ•°]ï¼Œå¦‚ 1.0.0.a1ï¼Œ1.0.0.b99ï¼Œ1.0.0.c1000ã€‚</li><li>å¼€å‘ç‰ˆæœ¬å·å¸¸ç”¨äº CI-CDï¼Œæ ¼å¼ä¸º X.Y.Z.dev[æ­£æ•´æ•°]ï¼Œå¦‚ 1.0.1.dev4ã€‚</li><li>ç‰ˆæœ¬å·çš„æ’åºè§„åˆ™ä¸ºä¾æ¬¡æ¯”è¾ƒä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·çš„æ•°å€¼ï¼Œå¦‚ 1.0.0 &lt; 1.0.1 &lt; 1.1.1 &lt; 2.0.0ï¼›å¯¹äºå…ˆè¡Œç‰ˆæœ¬å·å’Œå¼€å‘ç‰ˆæœ¬å·ï¼Œæœ‰ï¼š1.0.0.a100 &lt; 1.0.0ï¼Œ2.1.0.dev3 &lt; 2.1.0ï¼›å½“å­˜åœ¨å­—æ¯æ—¶ï¼Œä»¥ ASCII çš„æ’åºæ¥æ¯”è¾ƒï¼Œå¦‚ 1.0.0.a1 &lt; 1.0.0.b1ã€‚</li><li>æ³¨æ„ï¼šç‰ˆæœ¬ä¸€ç»å‘å¸ƒï¼Œä¸å¾—ä¿®æ”¹å…¶å†…å®¹ï¼Œä»»ä½•ä¿®æ”¹å¿…é¡»åœ¨æ–°ç‰ˆæœ¬å‘å¸ƒï¼</li></ol><hr><h1 id="ä¸€äº›ä¿®é¥°çš„è¯"><a href="#ä¸€äº›ä¿®é¥°çš„è¯" class="headerlink" title="ä¸€äº›ä¿®é¥°çš„è¯"></a>ä¸€äº›ä¿®é¥°çš„è¯</h1><ul><li>alphaï¼šå†…éƒ¨ç‰ˆæœ¬</li><li>betaï¼šæµ‹è¯•ç‰ˆ</li><li>demoï¼šæ¼”ç¤ºç‰ˆ</li><li>enhanceï¼šå¢å¼ºç‰ˆ</li><li>freeï¼šè‡ªç”±ç‰ˆ</li><li>full versionï¼šå®Œæ•´ç‰ˆï¼Œå³æ­£å¼ç‰ˆ</li><li>ltsï¼šé•¿æœŸç»´æŠ¤ç‰ˆæœ¬</li><li>releaseï¼šå‘è¡Œç‰ˆ</li><li>rcï¼šå³å°†ä½œä¸ºæ­£å¼ç‰ˆå‘å¸ƒ</li><li>standardï¼šæ ‡å‡†ç‰ˆ</li><li>ultimateï¼šæ——èˆ°ç‰ˆ</li><li>upgradeï¼šå‡çº§ç‰ˆ</li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/e6ce36f0/">https://blog.coder4j.cn/posts/e6ce36f0/</a> </p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ</title>
      <link href="/posts/2c2a8af7/"/>
      <url>/posts/2c2a8af7/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="http://xiaoleilu.com/regex-guide">http://xiaoleilu.com/regex-guide</a></p></blockquote><h1 id="æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ"><a href="#æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ"></a><a href="/regex-guide" title="æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ">æ­£åˆ™è¡¨è¾¾å¼ç®€æ˜å‚è€ƒ</a></h1><p>2014-09-11</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘æƒ³åœ¨ç½‘ä¸Šæœ€å‡ºåçš„æ­£åˆ™ç›¸å…³çš„ä¸€ç¯‡æ–‡ç« å°±æ˜¯ã€Šæ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ã€‹äº†ï¼Œè¯´å®è¯è¿™ç¯‡æ–‡ç« ç¡®å®æ˜¯æˆ‘çš„æ­£åˆ™å…¥é—¨ï¼Œä½†æ˜¯éšç€ä½¿ç”¨ç†Ÿç»ƒï¼Œå†—é•¿çš„æ–‡ç« å·²ç»ä¸èƒ½æ»¡è¶³æˆ‘äº†ï¼Œåœ¨æ­¤åšä¸ªå½’çº³æ€»ç»“ï¼Œç”¨äºå¿«é€ŸæŸ¥é˜…ã€‚</p><p>ä»¥ä¸‹è¯­æ³•åœ¨<strong>Java</strong>ä¸­æœ‰æ•ˆï¼Œå¤§éƒ¨åˆ†åº”è¯¥æ˜¯é€šç”¨çš„ã€‚</p><h2 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h2><p>å…ƒå­—ç¬¦ï¼Œåˆå«å­—ç¬¦é›†ï¼Œå°±æ˜¯ç”¨ä¸€äº›ç‰¹æ®Šç¬¦å·è¡¨ç¤ºç‰¹å®šç§ç±»çš„å­—ç¬¦æˆ–ä½ç½®ã€‚</p><p><strong>åŒ¹é…å­—ç¬¦</strong></p><ul><li><code>.</code> åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</li><li><code>\w</code> åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—</li><li><code>\s</code> åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦</li><li><code>\d</code> åŒ¹é…æ•°å­—</li></ul><p><strong>åŒ¹é…ä½ç½®</strong></p><ul><li><code>\b</code> åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ</li><li><code>^</code> åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</li><li><code>$</code> åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</li><li><code>\G</code> ä¸Šä¸€ä¸ªåŒ¹é…çš„ç»“å°¾ï¼ˆæœ¬æ¬¡åŒ¹é…å¼€å§‹ï¼‰</li><li><code>\A</code> å­—ç¬¦ä¸²å¼€å¤´(ç±»ä¼¼<code>^</code>ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</li><li><code>\Z</code> å­—ç¬¦ä¸²ç»“å°¾æˆ–è¡Œå°¾(ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</li><li><code>\z</code> å­—ç¬¦ä¸²ç»“å°¾(ç±»ä¼¼<code>$</code>ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</li></ul><p><strong>é‡å¤</strong></p><ul><li><code>*</code> é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</li><li><code>+</code> é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</li><li><code>?</code> é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</li><li><code>&#123;n&#125;</code> é‡å¤næ¬¡</li><li><code>&#123;n,&#125;</code> é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡</li><li><code>&#123;n,m&#125;</code> é‡å¤nåˆ°mæ¬¡</li></ul><h2 id="å­—ç¬¦è½¬ä¹‰"><a href="#å­—ç¬¦è½¬ä¹‰" class="headerlink" title="å­—ç¬¦è½¬ä¹‰"></a>å­—ç¬¦è½¬ä¹‰</h2><p>å¦‚æœæƒ³åŒ¹é…å…ƒå­—ç¬¦æœ¬èº«æˆ–è€…æ­£åˆ™ä¸­çš„ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œä½¿ç”¨<code>\</code>è½¬ä¹‰ã€‚ä¾‹å¦‚åŒ¹é…<code>*</code>è¿™ä¸ªå­—ç¬¦åˆ™ä½¿ç”¨<code>\*</code>ï¼ŒåŒ¹é…<code>\</code>è¿™ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨<code>\\</code>ã€‚</p><p>éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ï¼š<code>$</code>, <code>(</code>, <code>)</code>, <code>*</code>, <code>+</code>, <code>.</code>, <code>[</code>, <code>]</code>, <code>?</code>, <code>\</code>, <code>^</code>, <code>&#123;</code>, <code>&#125;</code>, <code>|</code></p><h2 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h2><p>å½“éœ€è¦åŒ¹é…æ˜ç¡®çš„å­—ç¬¦æˆ–å­—ç¬¦é›†åˆæ—¶å€™ï¼Œå°±ç”¨åˆ°å­—ç¬¦ç±»ã€‚</p><p><strong>ç‰¹æ®Šå­—ç¬¦</strong></p><ul><li><code>\0hh</code> 8è¿›åˆ¶å€¼hhæ‰€è¡¨ç¤ºçš„å­—ç¬¦</li><li><code>\xhh</code> 16è¿›åˆ¶å€¼hhæ‰€è¡¨ç¤ºçš„å­—ç¬¦</li><li><code>\uhhhh</code> 16è¿›åˆ¶å€¼hhhhæ‰€è¡¨ç¤ºçš„Unicodeå­—ç¬¦</li><li><code>\t</code> Tab</li><li><code>\n</code> æ¢è¡Œç¬¦</li><li><code>\r</code> å›è½¦ç¬¦</li><li><code>\f</code> æ¢é¡µç¬¦</li><li><code>\e</code> Escape</li><li><code>\cN</code> ASCIIæ§åˆ¶å­—ç¬¦ã€‚æ¯”å¦‚<code>\cC</code>ä»£è¡¨<code>Ctrl+C</code></li><li><code>\p&#123;name&#125;</code> Unicodeä¸­å‘½åä¸ºnameçš„å­—ç¬¦ç±»ï¼Œä¾‹å¦‚<code>\p&#123;IsGreek&#125;</code></li></ul><p><strong>é™ˆåˆ—</strong></p><ul><li><code>[aeiou]</code> åŒ¹é…ä¸€ä¸ªå…ƒéŸ³å­—ç¬¦</li><li><code>[.?!]</code> åŒ¹é…ç»™å®šçš„ä¸€ä¸ªæ ‡ç‚¹</li></ul><p><strong>èŒƒå›´</strong></p><ul><li><code>[0-9]</code> åŒ¹é…0~9çš„æ•°å­—ï¼ŒåŒ<code>\d</code></li><li><code>[a-z]</code> åŒ¹é…æ‰€æœ‰å°å†™å­—æ¯</li><li><code>[a-zA-Z]</code> åŒ¹é…æ‰€æœ‰å­—æ¯</li><li><code>[a-z0-9A-Z_\u4E00-\u9FFF]</code> ç­‰åŒäº<code>\w</code></li></ul><h2 id="åä¹‰"><a href="#åä¹‰" class="headerlink" title="åä¹‰"></a>åä¹‰</h2><p>è¡¨ç¤ºä¸å±äºå…ƒå­—ç¬¦æˆ–è€…å­—ç¬¦ç±»çš„å­—ç¬¦</p><p><strong>åä¹‰å…ƒå­—ç¬¦</strong></p><ul><li><code>\W</code> åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦</li><li><code>\S</code> åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦</li><li><code>\D</code> åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦</li><li><code>\B</code> åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®</li></ul><p><strong>åä¹‰å­—ç¬¦ç±»</strong></p><ul><li><code>[^x]</code> åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦</li><li><code>[^aeiou]</code> åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦</li></ul><h2 id="åˆ†ææ¡ä»¶"><a href="#åˆ†ææ¡ä»¶" class="headerlink" title="åˆ†ææ¡ä»¶"></a>åˆ†ææ¡ä»¶</h2><p>åˆå«é€»è¾‘è¿ç®—ç¬¦ï¼Œåœ¨æ­¤<code>X</code>å’Œ<code>Y</code>è¡¨ç¤ºä¸¤ä¸ª<strong>è¡¨è¾¾å¼</strong></p><ul><li><code>XY</code> Xç´§è·ŸY</li><li><code>X|Y</code> è¡¨ç¤ºXæˆ–Yï¼Œä»å·¦åˆ°å³ï¼Œæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶å°±ä¸ä¼šç»§ç»­åŒ¹é…äº†ã€‚</li></ul><h2 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h2><p>åœ¨è¿™é‡Œæˆ‘æŠŠ<strong>è¡¨è¾¾å¼</strong>ç»Ÿä¸€ä»¥<code>\w</code>ä¸ºä¾‹ï¼š</p><ul><li><code>(\w)</code> è¢«ä¸€ä¸ªæ‹¬å·åŒ…å›´èµ·æ¥æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè¡¨ç¤ºä¸€ä¸ªåˆ†ç»„</li><li><code>(\w)(\w)</code> è‡ªåŠ¨å‘½ååˆ†ç»„ï¼Œç¬¬ä¸€ä¸ªå°æ‹¬å·æ˜¯åˆ†ç»„1ï¼Œç¬¬äºŒä¸ªå°æ‹¬å·æ˜¯åˆ†ç»„2</li><li><code>(?&#39;Word&#39;\w+))</code> è¡¨ç¤ºå®šä¹‰äº†ä¸€ä¸ªå«åš<code>Word</code>çš„åˆ†ç»„</li><li><code>(?&lt;Word&gt;\w+))</code> è¡¨ç¤ºå®šä¹‰äº†ä¸€ä¸ªå«åš<code>Word</code>çš„åˆ†ç»„</li><li><code>(?:\w+)</code> åŒ¹é…exp,ä¸æ•è·åŒ¹é…çš„æ–‡æœ¬ï¼Œä¹Ÿä¸ç»™æ­¤åˆ†ç»„åˆ†é…ç»„å·</li></ul><h2 id="åå‘å¼•ç”¨"><a href="#åå‘å¼•ç”¨" class="headerlink" title="åå‘å¼•ç”¨"></a>åå‘å¼•ç”¨</h2><p>åé¢çš„è¡¨è¾¾å¼å¯ä»¥å¼•ç”¨å‰é¢çš„æŸä¸ªåˆ†ç»„ï¼Œç”¨<code>\1</code>è¡¨ç¤ºï¼Œå°±å¥½åƒåˆ†ç»„1çš„å€¼èµ‹å€¼ç»™äº†<code>\1</code>è¿™ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥åœ¨åé¢ä»»æ„ä½ç½®å¼•ç”¨ã€‚</p><ul><li><code>\1</code> è¡¨ç¤ºåˆ†ç»„1åŒ¹é…çš„æ–‡æœ¬</li><li><code>\k&lt;Word&gt;</code> è¡¨ç¤ºåˆ†ç»„<code>Word</code>åŒ¹é…çš„æ–‡æœ¬</li></ul><p>åŒ¹é…é‡å¤ä¸¤ä¸ªçš„è‹±æ–‡ï¼Œä¾‹å¦‚åŒ¹é…<code>Hello Hello</code>ã€<code>lei123 lei123</code>ï¼š</p><ol><li><code>(\w+)\s+\1</code></li><li><code>(?&lt;Word&gt;\w+)\s+\k&lt;Word&gt;</code></li></ol><h2 id="é›¶å®½æ–­è¨€ï¼ˆæ­£å‘å’Œè´Ÿå‘ï¼‰"><a href="#é›¶å®½æ–­è¨€ï¼ˆæ­£å‘å’Œè´Ÿå‘ï¼‰" class="headerlink" title="é›¶å®½æ–­è¨€ï¼ˆæ­£å‘å’Œè´Ÿå‘ï¼‰"></a>é›¶å®½æ–­è¨€ï¼ˆæ­£å‘å’Œè´Ÿå‘ï¼‰</h2><p>é›¶å®½æ–­è¨€è¡¨ç¤ºåŒ¹é…å­—ç¬¦çš„æ—¶å€™å†æ·»åŠ ä¸€äº›å®šä½æ¡ä»¶ï¼Œä½¿åŒ¹é…æ›´ç²¾å‡†ã€‚</p><ul><li><code>\w+(?=ing)</code> åŒ¹é…ä»¥<code>ing</code>ç»“å°¾çš„å¤šä¸ªå­—ç¬¦ï¼ˆä¸åŒ…æ‹¬ingï¼‰</li><li><code>\w+(?!ing)</code> åŒ¹é…<strong>ä¸æ˜¯</strong>ä»¥<code>ing</code>ç»“å°¾çš„å¤šä¸ªå­—ç¬¦</li></ul><hr><ul><li><code>(?&lt;=re)\w+</code> åŒ¹é…ä»¥<code>re</code>å¼€å¤´çš„å¤šä¸ªå­—ç¬¦ï¼ˆä¸åŒ…æ‹¬reï¼‰</li><li><code>(?&lt;!re)\w+</code> åŒ¹é…<strong>ä¸æ˜¯</strong>ä»¥<code>re</code>å¼€å¤´çš„å¤šä¸ªå­—ç¬¦</li></ul><hr><ul><li><code>(?&lt;=\s)\d+(?=\s)</code> åŒ¹é…ä¸¤è¾¹æ˜¯ç©ºç™½ç¬¦çš„æ•°å­—ï¼Œä¸åŒ…æ‹¬ç©ºç™½ç¬¦</li></ul><h2 id="è´ªå©ªä¸æ‡’æƒ°"><a href="#è´ªå©ªä¸æ‡’æƒ°" class="headerlink" title="è´ªå©ªä¸æ‡’æƒ°"></a>è´ªå©ªä¸æ‡’æƒ°</h2><p><strong>è´ªå©ª</strong>ï¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­—ç¬¦ä¸²</p><p><strong>æ‡’æƒ°</strong>ï¼šåŒ¹é…å°½å¯èƒ½çŸ­çš„å­—ç¬¦ä¸²</p><p>æ‡’æƒ°æ¨¡å¼çš„å¯ç”¨åªéœ€åœ¨<strong>é‡å¤å…ƒå­—ç¬¦</strong>ä¹‹ååŠ <code>?</code>æ—¢å¯ã€‚</p><ul><li><code>*?</code> é‡å¤ä»»æ„æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</li><li><code>+?</code> é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</li><li><code>??</code> é‡å¤0æ¬¡æˆ–1æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</li><li><code>&#123;n,m&#125;?</code> é‡å¤nåˆ°mæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</li><li><code>&#123;n,&#125;?</code> é‡å¤næ¬¡ä»¥ä¸Šï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</li></ul><h2 id="å¤„ç†é€‰é¡¹"><a href="#å¤„ç†é€‰é¡¹" class="headerlink" title="å¤„ç†é€‰é¡¹"></a>å¤„ç†é€‰é¡¹</h2><p>åœ¨è¡¨è¾¾å¼é‡Œæ’è®°å·çš„æ–¹å¼æ¥å¯ç”¨ç»å¤§å¤šæ•°çš„æ¨¡å¼ï¼Œåœ¨æ­£åˆ™çš„å“ªé‡Œæ’å…¥ï¼Œå°±ä»å“ªé‡Œå¯ç”¨ã€‚</p><ol><li><code>(?i)</code>ï¼šå¿½ç•¥å¤§å°å†™(CASE_INSENSITIVE)</li><li><code>(?x)</code>ï¼šå¿½ç•¥ç©ºæ ¼å­—ç¬¦(COMMENTS)</li><li><code>(?s)</code>ï¼š<code>.</code>åŒ¹é…ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦ï¼ˆDOTALLï¼‰</li><li><code>(?m)</code>ï¼šå¤šè¡Œæ¨¡å¼ï¼ˆMULTILINEï¼‰</li><li><code>(?u)</code>ï¼šå¯¹Unicodeç¬¦å¤§å°å†™ä¸æ•æ„Ÿï¼ˆUNICODE_CASEï¼‰ï¼Œå¿…é¡»å¯ç”¨<strong>CASE_INSENSITIVE</strong></li><li><code>(?d)</code>ï¼šåªæœ‰â€™\nâ€™æ‰è¢«è®¤ä½œä¸€è¡Œçš„ä¸­æ­¢ï¼ˆUNIX_LINESï¼‰</li></ol><h2 id="å¹³è¡¡ç»„-é€’å½’åŒ¹é…"><a href="#å¹³è¡¡ç»„-é€’å½’åŒ¹é…" class="headerlink" title="å¹³è¡¡ç»„/é€’å½’åŒ¹é…"></a>å¹³è¡¡ç»„/é€’å½’åŒ¹é…</h2><p>å¹³è¡¡ç»„ç”¨äºåŒ¹é…åµŒå¥—å±‚æ¬¡ç»“æ„ï¼Œå¸¸ç”¨äºåŒ¹é…HTMLæ ‡ç­¾ï¼ˆå½“HTMLå†…å®¹ä¸è§„èŒƒï¼Œèµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾æ•°é‡ä¸åŒæ—¶ï¼ŒåŒ¹é…å‡ºæ­£ç¡®é…å¯¹çš„æ ‡ç­¾ï¼‰ï¼Œåœ¨æ­¤æŠŠè¡¨è¾¾å¼ç»Ÿä¸€ä»¥<code>\w</code>ä¸ºä¾‹ã€‚</p><ul><li><code>(?&#39;group&#39;\w)</code> æ•è·çš„åˆ†ç»„ï¼ˆ<code>\w</code>åŒ¹é…åˆ°çš„å†…å®¹ï¼‰å‘½åä¸º<code>group</code>ï¼Œå¹¶å‹å…¥å †æ ˆ</li><li><code>(?&#39;-group&#39;\w)</code> æ•è·åˆ†ç»„ï¼ˆ<code>\w</code>åŒ¹é…åˆ°çš„å†…å®¹ï¼‰åï¼Œå¼¹å‡º<code>group</code>åˆ†ç»„æ ˆçš„æ ˆé¡¶å†…å®¹ï¼ˆæœ€åå‹å…¥çš„æ•è·å†…å®¹ï¼‰ï¼Œå †æ ˆæœ¬æ¥ä¸ºç©ºï¼Œåˆ™æœ¬åˆ†ç»„çš„åŒ¹é…å¤±è´¥</li><li><code>(?(group)yes|no)</code> å¦‚æœ<code>group</code>æ ˆéç©ºåŒ¹é…è¡¨è¾¾å¼<code>yes</code>ï¼Œå¦åˆ™åŒ¹é…è¡¨è¾¾å¼<code>no</code></li><li><code>(?!)</code> é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€ï¼Œç”±äºæ²¡æœ‰åç¼€è¡¨è¾¾å¼ï¼Œè¯•å›¾åŒ¹é…æ€»æ˜¯å¤±è´¥</li></ul><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>æ³¨é‡Šè¯­æ³•ï¼š<code>(?#comment)</code>ï¼Œè¿™ä¸ªè¯­æ³•çš„å†…å®¹ä¼šè¢«æ­£åˆ™å¿½ç•¥ï¼Œç”¨äºæ³¨é‡Šå«ä¹‰ã€‚å¯ä»¥æ”¾åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„ä»»æ„ä½ç½®ã€‚</p><hr><p>å‚è€ƒï¼š</p><p><a href="http://www.jb51.net/tools/zhengze.html">æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹</a></p><p><a href="http://www.java3z.com/cwbwebhome/article/article2/2311.html?id=877">æ­£åˆ™è¡¨è¾¾å¼</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/2c2a8af7/">https://blog.coder4j.cn/posts/2c2a8af7/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> æ­£åˆ™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] å°æ˜å†é™©è®°ï¼šè§„åˆ™å¼•æ“droolsæ•™ç¨‹ä¸€</title>
      <link href="/posts/2b59e1bf/"/>
      <url>/posts/2b59e1bf/</url>
      
        <content type="html"><![CDATA[<p>è½¬è‡ª <a href="http://www.ityouknow.com/drools/2017/08/07/drools-started.html">å°æ˜å†é™©è®°ï¼šè§„åˆ™å¼•æ“droolsæ•™ç¨‹ä¸€</a><br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fobrwwkdg4j21hc6jpe82.jpg"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/2b59e1bf/">https://blog.coder4j.cn/posts/2b59e1bf/</a> </p>]]></content>
      
      
      <categories>
          
          <category> è§„åˆ™å¼•æ“ </category>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> drools </tag>
            
            <tag> è§„åˆ™å¼•æ“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql ä¸­ between and çš„è¾¹ç•Œé—®é¢˜</title>
      <link href="/posts/77226281/"/>
      <url>/posts/77226281/</url>
      
        <content type="html"><![CDATA[<blockquote><p>mysql ä¸­çš„ between â€¦ and â€¦ è¯­æ³•ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¼šï¼Œä½†æ˜¯åœ¨è¾¹ç•Œè¿™ä¸ªç»†èŠ‚ä¸Šä¸€ä¸ç•™ç¥å°±å¯èƒ½ä¼šå‡ºé”™ã€‚ä¸‹é¢å°±ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­å»ç†è§£è¾¹ç•Œæ€§çš„é—®é¢˜ã€‚</p></blockquote><ol><li><p>é¦–å…ˆæˆ‘ä»¬å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·è¡¨ï¼Œç®€å•åˆ°åªæœ‰ä¸€ä¸ª age å’Œ name å­—æ®µï¼ˆå…¶å®å¯ä»¥æ²¡æœ‰ï¼‰ï¼Œä¸‹é¢æ˜¯å»ºè¡¨è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_user</span><br><span class="line">(</span><br><span class="line">    age <span class="built_in">int</span> <span class="literal">null</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">30</span>) <span class="literal">null</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">engine</span>=<span class="keyword">InnoDB</span></span><br><span class="line">;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æ’å…¥å‡ æ¡æµ‹è¯•è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytest.t_user (age, <span class="keyword">name</span>) <span class="keyword">VALUES</span> (<span class="number">15</span>, <span class="string">&#x27;kiwi&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytest.t_user (age, <span class="keyword">name</span>) <span class="keyword">VALUES</span> (<span class="number">17</span>, <span class="string">&#x27;kimi&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytest.t_user (age, <span class="keyword">name</span>) <span class="keyword">VALUES</span> (<span class="number">18</span>, <span class="string">&#x27;tony&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytest.t_user (age, <span class="keyword">name</span>) <span class="keyword">VALUES</span> (<span class="number">23</span>, <span class="string">&#x27;kim&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytest.t_user (age, <span class="keyword">name</span>) <span class="keyword">VALUES</span> (<span class="number">25</span>, <span class="string">&#x27;tom&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå®Œæ’å…¥è¯­å¥åï¼Œè¡¨åº”è¯¥æ˜¯å¦‚ä¸‹è¿™æ ·<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fobqkynwtbj20b005mjrk.jpg"></p></li><li><p>å‡†å¤‡å·¥ä½œå·²ç»åšå®Œäº†ï¼Œæˆ‘ä»¬å…ˆæ‰§è¡Œä¸€ä¸‹ between and è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_user <span class="keyword">WHERE</span> age <span class="keyword">BETWEEN</span> <span class="number">17</span> <span class="keyword">AND</span> <span class="number">23</span>;</span><br></pre></td></tr></table></figure><ul><li>æ‰§è¡Œç»“æœå¦‚ä¸‹<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fobqo084drj20am03qq2y.jpg"></li><li>åˆ†æ<blockquote><p>å¯è§ç»“æœæ˜¯åŒ…å«è¾¹ç•Œçš„ï¼Œåœ¨è¿™é‡Œä¹Ÿå°±æ˜¯åŒ…å« 17 ä¸ 23ï¼Œç›¸å½“äºå¦‚ä¸‹ sql ï¼Œ<br><code>SELECT * FROM t_user WHERE age &gt;= 17 AND age &lt;= 23;</code></p></blockquote></li></ul></li><li><p>æˆ‘ä»¬æ¥ç€æ‰§è¡Œ not between and è¯­å¥</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_user <span class="keyword">WHERE</span> age <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">17</span> <span class="keyword">AND</span> <span class="number">23</span>; </span><br></pre></td></tr></table></figure><ul><li>æ‰§è¡Œç»“æœå¦‚ä¸‹<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fobqv3ybjxj20am02u3yg.jpg"><ul><li>åˆ†æ<blockquote><p>å¯è§ç»“æœæ˜¯ä¸åŒ…å«è¾¹ç•Œçš„ï¼Œåœ¨è¿™é‡Œä¹Ÿå°±æ˜¯ 17 ä¸ 23 ä¸åœ¨æ£€ç´¢æ¡ä»¶å†…ï¼Œç›¸å½“äºå¦‚ä¸‹ sql ,<br><code>SELECT * FROM t_user WHERE age &lt; 17 OR age &gt; 23;</code></p></blockquote></li></ul></li></ul></li><li><p>æœ€ç»ˆç»“è®º</p><ol><li>between â€¦ and â€¦ æ˜¯åŒ…å«è¾¹ç•Œçš„ï¼Œç›¸å½“äº â€¦ &gt;= AND &lt;= â€¦ ï¼Œå¾ˆå®¹æ˜“ä»¥ä¸ºæ˜¯å¤§äºå¹¶ä¸”å°äºè¾¹ç•Œçš„</li><li>not between â€¦ and â€¦ æ˜¯ä¸åŒ…å«è¾¹ç•Œçš„ï¼Œç›¸å½“äº â€¦ &gt; OR &lt; â€¦ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºæ˜¯ between  â€¦ and çš„å¦å‘½é¢˜</li></ol></li></ol><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/77226281/">https://blog.coder4j.cn/posts/77226281/</a> </p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> between and </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker å¸¸ç”¨å‘½ä»¤</title>
      <link href="/posts/d76bceb7/"/>
      <url>/posts/d76bceb7/</url>
      
        <content type="html"><![CDATA[<h5 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h5>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤æ ¼å¼</span></span><br><span class="line">docker å‘½ä»¤å…³é”®å­—(command) ä¸€ç³»åˆ—å‚æ•°([args...]) </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥è¯¢å‘½ä»¤å¸®åŠ©</span></span><br><span class="line">docker command --help</span><br></pre></td></tr></table></figure><h6 id="1-å¯åŠ¨å®¹å™¨"><a href="#1-å¯åŠ¨å®¹å™¨" class="headerlink" title="1. å¯åŠ¨å®¹å™¨"></a>1. å¯åŠ¨å®¹å™¨</h6><p><code>docker start id/name</code></p><h6 id="2-å…³é—­å®¹å™¨"><a href="#2-å…³é—­å®¹å™¨" class="headerlink" title="2. å…³é—­å®¹å™¨"></a>2. å…³é—­å®¹å™¨</h6><p><code>docker stop id/name</code></p><h6 id="3-æŸ¥è¯¢åœ¨çº¿å®¹å™¨"><a href="#3-æŸ¥è¯¢åœ¨çº¿å®¹å™¨" class="headerlink" title="3. æŸ¥è¯¢åœ¨çº¿å®¹å™¨"></a>3. æŸ¥è¯¢åœ¨çº¿å®¹å™¨</h6>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps [-a] </span><br><span class="line"><span class="meta">#</span><span class="bash"> -a æ˜¾ç¤ºæ‰€æœ‰ï¼ŒåŒ…æ‹¬å·²ç»å…³é—­çš„</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="4-æŸ¥è¯¢å®¹å™¨ä¿¡æ¯"><a href="#4-æŸ¥è¯¢å®¹å™¨ä¿¡æ¯" class="headerlink" title="4. æŸ¥è¯¢å®¹å™¨ä¿¡æ¯"></a>4. æŸ¥è¯¢å®¹å™¨ä¿¡æ¯</h6><p><code>docker inspect id/name</code></p><h6 id="5-æŸ¥çœ‹å®¹å™¨æ—¥å¿—"><a href="#5-æŸ¥çœ‹å®¹å™¨æ—¥å¿—" class="headerlink" title="5. æŸ¥çœ‹å®¹å™¨æ—¥å¿—"></a>5. æŸ¥çœ‹å®¹å™¨æ—¥å¿—</h6><p><code>docker logs [-f] id/name</code></p><h6 id="6-æŸ¥çœ‹å®¹å™¨èµ„æºå ç”¨"><a href="#6-æŸ¥çœ‹å®¹å™¨èµ„æºå ç”¨" class="headerlink" title="6. æŸ¥çœ‹å®¹å™¨èµ„æºå ç”¨"></a>6. æŸ¥çœ‹å®¹å™¨èµ„æºå ç”¨</h6><p><code>docker stats</code></p><h6 id="7-å®¹å™¨å†…éƒ¨å‘½ä»¤"><a href="#7-å®¹å™¨å†…éƒ¨å‘½ä»¤" class="headerlink" title="7. å®¹å™¨å†…éƒ¨å‘½ä»¤"></a>7. å®¹å™¨å†…éƒ¨å‘½ä»¤</h6>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker exec id/name æ‰§è¡Œå‘½ä»¤  </span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»¥rootç”¨æˆ·æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker exec -it id/name æ‰§è¡Œå‘½ä»¤</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»¥rootç”¨æˆ·æ‰“å¼€ä¸€ä¸ªç»ˆç«¯,<span class="built_in">exit</span>é€€å‡º</span></span><br><span class="line">docker exec -it id/name /bin/bash</span><br></pre></td></tr></table></figure><h6 id="8-é•œåƒæŸ¥è¯¢"><a href="#8-é•œåƒæŸ¥è¯¢" class="headerlink" title="8. é•œåƒæŸ¥è¯¢"></a>8. é•œåƒæŸ¥è¯¢</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search xx</span><br></pre></td></tr></table></figure><h6 id="9-é•œåƒä¸‹è½½"><a href="#9-é•œåƒä¸‹è½½" class="headerlink" title="9. é•œåƒä¸‹è½½"></a>9. é•œåƒä¸‹è½½</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull xx</span><br></pre></td></tr></table></figure><h6 id="10-æœ¬åœ°é•œåƒåˆ—è¡¨"><a href="#10-æœ¬åœ°é•œåƒåˆ—è¡¨" class="headerlink" title="10. æœ¬åœ°é•œåƒåˆ—è¡¨"></a>10. æœ¬åœ°é•œåƒåˆ—è¡¨</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h6 id="11-å¯åŠ¨å®¹å™¨"><a href="#11-å¯åŠ¨å®¹å™¨" class="headerlink" title="11. å¯åŠ¨å®¹å™¨"></a>11. å¯åŠ¨å®¹å™¨</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run [--name] [--link] é•œåƒid/name</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> --link å®¹å™¨è¿æ¥</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --name å®¹å™¨èµ·çš„åç§°</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --p ç«¯å£æ˜ å°„ 8080:80</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --e ç¯å¢ƒå˜é‡è®¾ç½®</span></span><br></pre></td></tr></table></figure><h6 id="12-åˆ é™¤å®¹å™¨"><a href="#12-åˆ é™¤å®¹å™¨" class="headerlink" title="12. åˆ é™¤å®¹å™¨"></a>12. åˆ é™¤å®¹å™¨</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm id/name</span><br></pre></td></tr></table></figure><h6 id="13-åˆ›å»ºé•œåƒ"><a href="#13-åˆ›å»ºé•œåƒ" class="headerlink" title="13. åˆ›å»ºé•œåƒ"></a>13. åˆ›å»ºé•œåƒ</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit id imageName</span><br></pre></td></tr></table></figure><h6 id="14-å…³é—­æ‰€æœ‰è¿è¡Œçš„å®¹å™¨"><a href="#14-å…³é—­æ‰€æœ‰è¿è¡Œçš„å®¹å™¨" class="headerlink" title="14. å…³é—­æ‰€æœ‰è¿è¡Œçš„å®¹å™¨"></a>14. å…³é—­æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/d76bceb7/">https://blog.coder4j.cn/posts/d76bceb7/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬]spring å¾ªç¯ä¾èµ–</title>
      <link href="/posts/22c54be1/"/>
      <url>/posts/22c54be1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="http://www.importnew.com/17580.html">http://www.importnew.com/17580.html</a> åŸæ–‡å‡ºå¤„ï¼š <a href="http://sishuok.com/forum/blogPost/list/2448.html">å¼ å¼€æ¶›</a></p></blockquote><h3 id="3-2-1-ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–"><a href="#3-2-1-ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–" class="headerlink" title="3.2.1Â  ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–"></a>3.2.1Â  ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–</h3><p>å¾ªç¯ä¾èµ–å°±æ˜¯å¾ªç¯å¼•ç”¨ï¼Œå°±æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ª Bean ç›¸äº’ä¹‹é—´çš„æŒæœ‰å¯¹æ–¹ï¼Œæ¯”å¦‚ CircleA å¼•ç”¨ CircleBï¼ŒCircleB å¼•ç”¨ CircleCï¼ŒCircleC å¼•ç”¨ CircleAï¼Œåˆ™å®ƒä»¬æœ€ç»ˆåæ˜ ä¸ºä¸€ä¸ªç¯ã€‚æ­¤å¤„ä¸æ˜¯å¾ªç¯è°ƒç”¨ï¼Œå¾ªç¯è°ƒç”¨æ˜¯æ–¹æ³•ä¹‹é—´çš„ç¯è°ƒç”¨ã€‚å¦‚å›¾ 3-5 æ‰€ç¤ºï¼š</p><p>Â <img src="http://sishuok.com/forum/upload/2012/2/20/07001b6dc0a31b138de5923cf5c28314__1.JPG"></p><p>å›¾ 3-5 å¾ªç¯å¼•ç”¨</p><p>Â Â Â Â Â Â  å¾ªç¯è°ƒç”¨æ˜¯æ— æ³•è§£å†³çš„ï¼Œé™¤éæœ‰ç»ˆç»“æ¡ä»¶ï¼Œå¦åˆ™å°±æ˜¯æ­»å¾ªç¯ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜æº¢å‡ºé”™è¯¯ã€‚</p><p>Spring å®¹å™¨å¾ªç¯ä¾èµ–åŒ…æ‹¬æ„é€ å™¨å¾ªç¯ä¾èµ–å’Œ setter å¾ªç¯ä¾èµ–ï¼Œé‚£ Spring å®¹å™¨å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–å‘¢ï¼Ÿé¦–å…ˆè®©æˆ‘ä»¬æ¥å®šä¹‰å¾ªç¯å¼•ç”¨ç±»ï¼šÂ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.javass.spring.chapter3.bean;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleA</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CircleB circleB;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleA</span><span class="params">(CircleB circleB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleB = circleB;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCircleB</span><span class="params">(CircleB circleB)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleB = circleB;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   circleB.b();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.javass.spring.chapter3.bean;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleB</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CircleC circleC;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleB</span><span class="params">(CircleC circleC)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleC = circleC;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCircleC</span><span class="params">(CircleC circleC)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleC = circleC;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">b</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        circleC.c();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.javass.spring.chapter3.bean;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleC</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CircleC circleC;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleB</span><span class="params">(CircleC circleC)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleC = circleC;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCircleC</span><span class="params">(CircleC circleC)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.circleC = circleC;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">b</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        circleC.c();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-2-Spring-å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–"><a href="#3-2-2-Spring-å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–" class="headerlink" title="3.2.2Â Â Â Â Â Â Â  Spring å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–"></a>3.2.2Â Â Â Â Â Â Â  Spring å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–</h3><p><strong>ä¸€ã€æ„é€ å™¨å¾ªç¯ä¾èµ–ï¼š</strong>è¡¨ç¤ºé€šè¿‡æ„é€ å™¨æ³¨å…¥æ„æˆçš„å¾ªç¯ä¾èµ–ï¼Œæ­¤ä¾èµ–æ˜¯æ— æ³•è§£å†³çš„ï¼Œåªèƒ½æŠ›å‡º BeanCurrentlyInCreationException å¼‚å¸¸è¡¨ç¤ºå¾ªç¯ä¾èµ–ã€‚</p><p>å¦‚åœ¨åˆ›å»º CircleA ç±»æ—¶ï¼Œæ„é€ å™¨éœ€è¦ CircleB ç±»ï¼Œé‚£å°†å»åˆ›å»º CircleBï¼Œåœ¨åˆ›å»º CircleB ç±»æ—¶åˆå‘ç°éœ€è¦ CircleC ç±»ï¼Œåˆ™åˆå»åˆ›å»º CircleCï¼Œæœ€ç»ˆåœ¨åˆ›å»º CircleC æ—¶å‘ç°åˆéœ€è¦ CircleAï¼›ä»è€Œå½¢æˆä¸€ä¸ªç¯ï¼Œæ²¡åŠæ³•åˆ›å»ºã€‚</p><p>Spring å®¹å™¨å°†æ¯ä¸€ä¸ªæ­£åœ¨åˆ›å»ºçš„ Bean æ ‡è¯†ç¬¦æ”¾åœ¨ä¸€ä¸ª â€œå½“å‰åˆ›å»º Bean æ± â€ ä¸­ï¼ŒBean æ ‡è¯†ç¬¦åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­å°†ä¸€ç›´ä¿æŒåœ¨è¿™ä¸ªæ± ä¸­ï¼Œå› æ­¤å¦‚æœåœ¨åˆ›å»º Bean è¿‡ç¨‹ä¸­å‘ç°è‡ªå·±å·²ç»åœ¨ â€œå½“å‰åˆ›å»º Bean æ± â€ é‡Œæ—¶å°†æŠ›å‡º BeanCurrentlyInCreationException å¼‚å¸¸è¡¨ç¤ºå¾ªç¯ä¾èµ–ï¼›è€Œå¯¹äºåˆ›å»ºå®Œæ¯•çš„ Bean å°†ä» â€œå½“å‰åˆ›å»º Bean æ± â€ ä¸­æ¸…é™¤æ‰ã€‚</p><p>1ï¼‰é¦–å…ˆè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼ˆchapter3/circleInjectByConstructor.xmlï¼‰ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean <span class="built_in">id</span>=<span class="string">&quot;circleA&quot;</span> <span class="built_in">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleA&quot;</span>&gt;</span><br><span class="line">&lt;constructor-arg index=<span class="string">&quot;0&quot;</span> <span class="keyword">ref</span>=<span class="string">&quot;circleB&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean <span class="built_in">id</span>=<span class="string">&quot;circleB&quot;</span> <span class="built_in">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleB&quot;</span>&gt;</span><br><span class="line">&lt;constructor-arg index=<span class="string">&quot;0&quot;</span> <span class="keyword">ref</span>=<span class="string">&quot;circleC&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean <span class="built_in">id</span>=<span class="string">&quot;circleC&quot;</span> <span class="built_in">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleC&quot;</span>&gt;</span><br><span class="line">&lt;constructor-arg index=<span class="string">&quot;0&quot;</span> <span class="keyword">ref</span>=<span class="string">&quot;circleA&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p>2ï¼‰å†™æ®µæµ‹è¯•ä»£ç ï¼ˆcn.javass.spring.chapter3.CircleTestï¼‰æµ‹è¯•ä¸€ä¸‹å§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test(expected = BeanCurrentlyInCreationException.class)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCircleByConstructor</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;chapter3/circleInjectByConstructor.xml&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">      <span class="comment">//å› ä¸ºè¦åœ¨åˆ›å»ºcircle3æ—¶æŠ›å‡ºï¼›</span></span><br><span class="line">      Throwable e1 = e.getCause().getCause().getCause();</span><br><span class="line">      <span class="keyword">throw</span> e1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹å§ï¼š</p><p>1ã€Spring å®¹å™¨åˆ›å»º â€œcircleAâ€ Beanï¼Œé¦–å…ˆå»â€œå½“å‰åˆ›å»º Bean æ± â€ æŸ¥æ‰¾æ˜¯å¦å½“å‰ Bean æ­£åœ¨åˆ›å»ºï¼Œå¦‚æœæ²¡å‘ç°ï¼Œåˆ™ç»§ç»­å‡†å¤‡å…¶éœ€è¦çš„æ„é€ å™¨å‚æ•°â€œcircleBâ€ï¼Œå¹¶å°†â€œcircleAâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼›</p><p>2ã€Spring å®¹å™¨åˆ›å»º â€œcircleBâ€ Beanï¼Œé¦–å…ˆå»â€œå½“å‰åˆ›å»º Bean æ± â€ æŸ¥æ‰¾æ˜¯å¦å½“å‰ Bean æ­£åœ¨åˆ›å»ºï¼Œå¦‚æœæ²¡å‘ç°ï¼Œåˆ™ç»§ç»­å‡†å¤‡å…¶éœ€è¦çš„æ„é€ å™¨å‚æ•°â€œcircleCâ€ï¼Œå¹¶å°†â€œcircleBâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼›</p><p>3ã€Spring å®¹å™¨åˆ›å»º â€œcircleCâ€ Beanï¼Œé¦–å…ˆå»â€œå½“å‰åˆ›å»º Bean æ± â€ æŸ¥æ‰¾æ˜¯å¦å½“å‰ Bean æ­£åœ¨åˆ›å»ºï¼Œå¦‚æœæ²¡å‘ç°ï¼Œåˆ™ç»§ç»­å‡†å¤‡å…¶éœ€è¦çš„æ„é€ å™¨å‚æ•°â€œcircleAâ€ï¼Œå¹¶å°†â€œcircleCâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼›</p><p>4ã€åˆ°æ­¤ä¸ºæ­¢ Spring å®¹å™¨è¦å»åˆ›å»º â€œcircleAâ€Beanï¼Œå‘ç°è¯¥ Bean æ ‡è¯†ç¬¦åœ¨â€œå½“å‰åˆ›å»º Bean æ± â€ ä¸­ï¼Œå› ä¸ºè¡¨ç¤ºå¾ªç¯ä¾èµ–ï¼ŒæŠ›å‡º BeanCurrentlyInCreationExceptionã€‚</p><p><strong>äºŒã€setter å¾ªç¯ä¾èµ–ï¼š</strong>è¡¨ç¤ºé€šè¿‡ setter æ³¨å…¥æ–¹å¼æ„æˆçš„å¾ªç¯ä¾èµ–ã€‚</p><p>å¯¹äº setter æ³¨å…¥é€ æˆçš„ä¾èµ–æ˜¯é€šè¿‡ Spring å®¹å™¨æå‰æš´éœ²åˆšå®Œæˆæ„é€ å™¨æ³¨å…¥ä½†æœªå®Œæˆå…¶ä»–æ­¥éª¤ï¼ˆå¦‚ setter æ³¨å…¥ï¼‰çš„ Bean æ¥å®Œæˆçš„ï¼Œè€Œä¸”åªèƒ½è§£å†³å•ä¾‹ä½œç”¨åŸŸçš„ Bean å¾ªç¯ä¾èµ–ã€‚</p><p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œé€šè¿‡æå‰æš´éœ²ä¸€ä¸ªå•ä¾‹å·¥å‚æ–¹æ³•ï¼Œä»è€Œä½¿å…¶ä»– Bean èƒ½å¼•ç”¨åˆ°è¯¥ Beanã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">add<span class="constructor">SingletonFactory(<span class="params">beanName</span>, <span class="params">new</span> ObjectFactory()</span> &#123;</span><br><span class="line">    public Object get<span class="constructor">Object()</span> throws BeansException &#123;</span><br><span class="line">        return get<span class="constructor">EarlyBeanReference(<span class="params">beanName</span>, <span class="params">mbd</span>, <span class="params">bean</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ã€Spring å®¹å™¨åˆ›å»ºå•ä¾‹ â€œcircleAâ€ Beanï¼Œé¦–å…ˆæ ¹æ®æ— å‚æ„é€ å™¨åˆ›å»º Beanï¼Œå¹¶æš´éœ²ä¸€ä¸ªâ€œObjectFactory â€ ç”¨äºè¿”å›ä¸€ä¸ªæå‰æš´éœ²ä¸€ä¸ªåˆ›å»ºä¸­çš„ Beanï¼Œå¹¶å°†â€œcircleAâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼›ç„¶åè¿›è¡Œ setter æ³¨å…¥â€œcircleBâ€ï¼›</p><p>2ã€Spring å®¹å™¨åˆ›å»ºå•ä¾‹ â€œcircleBâ€ Beanï¼Œé¦–å…ˆæ ¹æ®æ— å‚æ„é€ å™¨åˆ›å»º Beanï¼Œå¹¶æš´éœ²ä¸€ä¸ªâ€œObjectFactoryâ€ ç”¨äºè¿”å›ä¸€ä¸ªæå‰æš´éœ²ä¸€ä¸ªåˆ›å»ºä¸­çš„ Beanï¼Œå¹¶å°†â€œcircleBâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼Œç„¶åè¿›è¡Œ setter æ³¨å…¥â€œcircleCâ€ï¼›</p><p>3ã€Spring å®¹å™¨åˆ›å»ºå•ä¾‹ â€œcircleCâ€ Beanï¼Œé¦–å…ˆæ ¹æ®æ— å‚æ„é€ å™¨åˆ›å»º Beanï¼Œå¹¶æš´éœ²ä¸€ä¸ªâ€œObjectFactory â€ ç”¨äºè¿”å›ä¸€ä¸ªæå‰æš´éœ²ä¸€ä¸ªåˆ›å»ºä¸­çš„ Beanï¼Œå¹¶å°† â€œcircleCâ€ æ ‡è¯†ç¬¦æ”¾åˆ°â€œå½“å‰åˆ›å»º Bean æ± â€ï¼Œç„¶åè¿›è¡Œ setter æ³¨å…¥â€œcircleAâ€ï¼›è¿›è¡Œæ³¨å…¥â€œcircleAâ€ æ—¶ç”±äºæå‰æš´éœ²äº† â€œObjectFactoryâ€ å·¥å‚ä»è€Œä½¿ç”¨å®ƒè¿”å›æå‰æš´éœ²ä¸€ä¸ªåˆ›å»ºä¸­çš„ Beanï¼›</p><p>4ã€æœ€ååœ¨ä¾èµ–æ³¨å…¥ â€œcircleBâ€ å’Œâ€œcircleAâ€ï¼Œå®Œæˆ setter æ³¨å…¥ã€‚</p><p>å¯¹äº â€œprototypeâ€ ä½œç”¨åŸŸ Beanï¼ŒSpring å®¹å™¨æ— æ³•å®Œæˆä¾èµ–æ³¨å…¥ï¼Œå› ä¸º â€œprototypeâ€ ä½œç”¨åŸŸçš„ Beanï¼ŒSpring å®¹å™¨ä¸è¿›è¡Œç¼“å­˜ï¼Œå› æ­¤æ— æ³•æå‰æš´éœ²ä¸€ä¸ªåˆ›å»ºä¸­çš„ Beanã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®šä¹‰Beané…ç½®æ–‡ä»¶ï¼Œæ³¨æ„scopeéƒ½æ˜¯â€œprototypeâ€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;circleA&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleA&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;circleB&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;circleB&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;circleB&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleB&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;circleC&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;circleC&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;circleC&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.javass.spring.chapter3.bean.CircleC&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;circleA&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;circleA&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•ä»£ç cn.javass.spring.chapter3.CircleTest</span></span><br><span class="line"><span class="meta">@Test(expected = BeanCurrentlyInCreationException.class)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCircleBySetterAndPrototype</span> <span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ClassPathXmlApplicationContext ctx = <span class="keyword">new</span> ClassPathXmlApplicationContext(</span><br><span class="line"><span class="string">&quot;chapter3/circleInjectBySetterAndPrototype.xml&quot;</span>);</span><br><span class="line">        System.out.println(ctx.getBean(<span class="string">&quot;circleA&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        Throwable e1 = e.getCause().getCause().getCause();</span><br><span class="line">        <span class="keyword">throw</span> e1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äº â€œsingletonâ€ ä½œç”¨åŸŸ Beanï¼Œå¯ä»¥é€šè¿‡ â€œsetAllowCircularReferences(false);â€ æ¥ç¦ç”¨å¾ªç¯å¼•ç”¨ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="constructor">Test(<span class="params">expected</span> = BeanCurrentlyInCreationException.<span class="params">class</span>)</span></span><br><span class="line">public void test<span class="constructor">CircleBySetterAndSingleton2()</span> throws Throwable &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ClassPathXmlApplicationContext ctx =</span><br><span class="line"><span class="keyword">new</span> <span class="constructor">ClassPathXmlApplicationContext()</span>;</span><br><span class="line">        ctx.set<span class="constructor">ConfigLocation(<span class="string">&quot;chapter3/circleInjectBySetterAndSingleton.xml&quot;</span>)</span>;</span><br><span class="line">        ctx.refresh<span class="literal">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    catch (Exception e) &#123;</span><br><span class="line">        Throwable e1 = e.get<span class="constructor">Cause()</span>.get<span class="constructor">Cause()</span>.get<span class="constructor">Cause()</span>;</span><br><span class="line">        throw e1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/22c54be1/">https://blog.coder4j.cn/posts/22c54be1/</a> </p>]]></content>
      
      
      <categories>
          
          <category> exception </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> exception </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’</title>
      <link href="/posts/8e904538/"/>
      <url>/posts/8e904538/</url>
      
        <content type="html"><![CDATA[<p>&emsp;äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä¸æ¬ºè´Ÿåˆ«äººï¼Œåªæ¬ºè´Ÿä½ ï¼Œå› ä¸ºä½ å¥½æ¬ºè´Ÿï¼Œå› ä¸ºä½ æ˜¯å®Œç¾å—å®³äººï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä¸å‘åˆ«äººï¼Œåªå‘ä½ ï¼Œå› ä¸ºä½ å‚»ï¼Œå› ä¸ºä½ è ¢ï¼Œå› ä¸ºä½ æ‡¦å¼±ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ´»çš„é‚£ä¹ˆç´¯ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»èƒ½æ¥å—ä¸å¹³ç­‰ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ˜æ˜å¯ä»¥è¯´ä¸ï¼Œä½†æ˜¯è‡ªæˆ‘æ”¾å¼ƒï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ å‹åŠ›é‚£ä¹ˆå¤§ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ é‚£ä¹ˆç„¦è™‘ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ è§‰å¾—è‡ªå·±æ²¡æœ‰é”™ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å‘èº¬å±ˆè†å»è®¤é”™ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ ä¸€æ— æ‰€æœ‰ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯æ„Ÿè§‰å°´å°¬ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆåˆ«äººå¯ä»¥ä¸åœ¨ä¹ä½ çš„æ„Ÿå—ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯æ„Ÿåˆ°ä¸å¥½æ„æ€ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯æŠ±æ€¨ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯å¹æ°”ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆåˆ«äººè§‰å¾—ä½ æ˜¯ä¸€ä¸ªè€å¥½äººï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯å®¹æ˜“ç”Ÿæ°”ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆåˆ«äººè¿‡çš„æ¯”ä½ å¼€å¿ƒï¼Œæ¯”ä½ å¥½ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆé‚£ä¹ˆå¤šæœºä¼šä½ æŠŠæ¡ä¸ä½ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯è§‰å¾—ä¸å…¬å¹³ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ„Ÿè§‰å®³æ€•ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ æ€»æ˜¯ä¸æ•¢æš´éœ²è‡ªå·±çš„çœŸå®æƒ³æ³•ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ å–œæ¬¢çœ‹ç”µå½±ï¼Œå› ä¸ºä½ æƒ³é€ƒé¿ï¼Œé€ƒé¿ç°å®ï¼Œé€ƒé¿äººç”Ÿï¼Œé€ƒé¿ä¸€åˆ‡ã€‚é€ƒé¿ä½ çš„ç§ç§æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ ä»€ä¹ˆäº‹æƒ…éƒ½åšä¸å¥½ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆä½ ä»€ä¹ˆéƒ½åšæŒä¸ä¸‹å»ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä¸ºä»€ä¹ˆå½“ä½ æƒ³åšä»€ä¹ˆäº‹æ—¶ï¼Œåˆ«äººçˆ±æ‰“å‡»ä½ ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;ä½ å°±æ˜¯ä¸€ä¸ª loser!</p><p>&emsp;æ€ä¹ˆæ ·ä¹Ÿè¿‡ä¸å¥½è¿™ä¸€ç”Ÿï¼</p><p>&emsp;ä¸€åˆ‡çš„ä¸€åˆ‡éƒ½æ˜¯å› ä¸ºä½ æ— èƒ½ï¼</p><p>&emsp;åˆ«äººç©è½¬ç€ä½ çš„ä¸€åˆ‡ï¼Œåˆ«äººä¾µèš€ç€ä½ çš„ä¸€åˆ‡ï¼Œä½†æ˜¯åªæ˜¯æ¯«æ— è¡¨æƒ…çš„åœ¨ä¸€æ—çœ‹ç€ã€‚å› ä¸ºä½ æ‡¦å¼±ï¼Œå› ä¸ºä½ æ— èƒ½ï¼</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/8e904538/">https://blog.coder4j.cn/posts/8e904538/</a> </p>]]></content>
      
      
      <categories>
          
          <category> æ¼«æ¼«äººç”Ÿè·¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬]ä¸ºä»€ä¹ˆå¹´è½»æ—¶è¦å¤šèµšé’±ï¼Ÿ</title>
      <link href="/posts/bef934ed/"/>
      <url>/posts/bef934ed/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="https://mp.weixin.qq.com/s?__biz=MjM5MTA4MjE5OA==&amp;mid=2660133503&amp;idx=1&amp;sn=cd14d3771918901b405008797c5728e8#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MjM5MTA4MjE5OA%3D%3D&amp;mid=2660133503&amp;idx=1&amp;sn=cd14d3771918901b405008797c5728e8#wechat_redirect</a></p></blockquote><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/ZsUic8pXgxFibEU1JABRpqPzSdmCYRCWiajsKBGPGOqcdAKZWSDLic6ibLtibYCfOjytScMdPR8tVyPwMdGOaPkYvczw/?wx_fmt=gif"></p><p>æ–‡ | ç‹è€³æœµ</p><p>æ¥æº | ç‹è€³æœµå…ˆç”Ÿï¼ˆID:huangezishibaï¼‰</p><p><strong>Part1</strong></p><p><strong>é‚£å¹´ï¼Œä½  23 å²ã€‚ç¬¬ä¸€æ¬¡å»å¥³æœ‹å‹å®¶ï¼Œè§çˆ¶æ¯ã€‚</strong></p><p>å…¶å®ï¼Œä»¥å‰ä½ ä»¬ä¹Ÿè§è¿‡ï¼Œåœ¨è§†é¢‘é‡Œã€‚è¿™æ¬¡ä¸ä¸€æ ·ï¼Œæ˜¯å¥³æœ‹å‹çˆ¶æ¯çš„ç››æƒ…é‚€è¯·ã€‚</p><p>ååœ¨æ»¡æ»¡çš„ä¸€æ¡Œé¥­èœå‰ï¼Œåœºé¢å¤ªæ­£å¼ï¼Œä½ æœ‰äº›éšéšä¸å®‰ã€‚</p><p>é¤è¿‡åŠç¨‹ï¼Œå¥³æœ‹å‹çš„çˆ¶äº²ï¼Œæœç„¶å¼€å§‹æé—®ï¼Œå…ˆæ˜¯äº›æ— å…³ç´§è¦çš„è¯é¢˜ï¼Œç„¶åè¯é”‹ä¸€è½¬ï¼š</p><blockquote><p>å¤§æ¦‚ä»€ä¹ˆæ—¶å€™ä¹°æˆ¿ï¼Ÿ</p></blockquote><p>æ—è¾¹ï¼Œå¥³æœ‹å‹çš„æ¯äº²ï¼Œä¹Ÿæ¼«ä¸ç»å¿ƒè¯´ï¼Œéš”å£å®¶è€åˆ˜çš„å‡†å¥³å©¿ï¼Œåˆšä¹°äº†å¥—ä¸‰å®¤ä¸¤å…ã€‚</p><p>ä½ ä¸çŸ¥é“ï¼Œè¯´äº›ä»€ä¹ˆæ‰å¥½ã€‚ä½ è„‘è¢‹é‡Œï¼Œæ»¡æ˜¯é‚£å¼ æ¯æœˆ 4000 çš„å·¥èµ„å¡ã€‚</p><p>ç„¶åï¼Œæ°”æ°›å°±å†·äº†ã€‚ä½ åŒ†åŒ†åƒå®Œé¥­ï¼Œæ‰¾äº†ä¸ªå…¬å¸æœ‰äº‹çš„å€Ÿå£ï¼Œå½“å¤©å°±è¿”ç¨‹äº†ã€‚</p><p><strong>ä¸€ä¸ªæ˜ŸæœŸåï¼Œä½ çº¦äº†å¥³æœ‹å‹å‡ºæ¥ï¼Œå¹³é™åœ°åˆ†äº†æ‰‹ã€‚</strong></p><p>å¥¹çš„æ³ªæ°´ï¼Œå°±åƒå†³å ¤çš„åï¼Œä½†ä½ ä»ç„¶å†·é™çš„èµ°äº†ã€‚</p><p>ä¸æ˜¯ä½ å†·é™ï¼Œè€Œæ˜¯ä½ å¼€å§‹æ‡‚å¾—ï¼Œè°ˆä¸èµ·é’±çš„çˆ±æƒ…ï¼Œæ³¨å®šèµ°ä¸è¿œã€‚</p><p>çˆ±æƒ…ä¸­å¯ä»¥æ²¡é’±ï¼Œä½†ç»“å©šä¸è¡Œã€‚</p><p><strong>Part2</strong></p><p><strong>ä½  26 å²äº†ï¼Œä½ ç»ˆäºæœ‰äº†äº›ç§¯è“„ã€‚</strong></p><p>è¿™ä¸‰å¹´ï¼Œä½ å»äº†æ–°çš„åŸå¸‚ï¼Œæ¢äº†æ–°å·¥ä½œã€‚ä½ æ›¾æ‹¼å‘½é™ªå®¢æˆ·å–é…’ï¼Œä¹Ÿæ›¾åŠ ç­åˆ°å¤©äº®ã€‚</p><p>ä½ çš„å·¥èµ„ç¿»äº†ä¸¤å€ï¼ŒæŸä¸ªæ—¶åˆ»ï¼Œä½ ç”šè‡³æ„Ÿè§‰å…¨èº«å……æ»¡äº†åŠ›é‡ã€‚ä½ å†³å®šå»ä¹°æˆ¿ã€‚</p><p>å«ç€èŒä¸šå¾®ç¬‘çš„é”€å”®é¡¾é—®ï¼Œå¸¦ä½ å»äº†æ ·æ¿é—´ã€‚</p><p>å—åŒ—é€šé€çš„æˆ·å‹ï¼Œå°åŒºç»¿åŒ–å¾ˆå¥½ï¼Œæ¨å¼€çª—ï¼Œä½ å°±èƒ½çœ‹åˆ°è¿œæ–¹çš„å±±è„Šçº¿ã€‚</p><p>ä½†é—®äº†æ€»ä»·ï¼Œä½ å°±æ²‰é»˜äº†ã€‚æˆ¿å­æ¶¨ä»·çš„é€Ÿåº¦ï¼Œå¤ªå¿«äº†ã€‚</p><p>ä½ æ…¢æ…¢èµ°å›å®¶ï¼Œå†³å®šè¿‡äº›æ—¥å­ï¼Œæˆ¿ä»·é™äº†å†ä¹°ã€‚ä½†ä½ æ‰“å¼€æœ‹å‹åœˆï¼Œçœ‹åˆ°çš„ç¬¬ä¸€æ¡åŠ¨æ€ï¼Œå°±æ˜¯å¸‚æ°‘è¿å¤œæ’é˜Ÿä¹°æˆ¿ã€‚</p><p>ä½ çŸ¥é“ï¼Œè¿˜ä¸å‡ºæ‰‹ï¼Œå¯èƒ½å†ä¹Ÿè¿½ä¸ä¸Šæˆ¿ä»·äº†ã€‚</p><p>ä½ ç‹ ä¸‹å¿ƒï¼Œç»™çˆ¶æ¯æ‰“ç”µè¯ï¼Œæ‹¿æ¥äº†ä»–ä»¬çš„ 10 ä¸‡å…»è€é’±ã€‚ä½ ç»™æ‰€æœ‰çš„äº²æˆšæ‰“ç”µè¯ï¼Œé™ªç€ç¬‘è„¸ï¼Œå‘ä»–ä»¬å€Ÿé’±ã€‚</p><p>ä¸‰å¤©åï¼Œå‡‘å¤Ÿäº†é¦–ä»˜ï¼Œä½ å»ç­¾äº†è´­æˆ¿åˆåŒã€‚</p><p><strong>æŒ‰ä¸ŠæŒ‡å°çš„é‚£ä¸€åˆ»ï¼Œä½ çš„çœ¼ç›é…¸äº†ã€‚</strong></p><p>æœ‰é’±å¤šå¥½å•Šã€‚</p><p>ä½ å¼€å§‹æ‡‚å¾—ï¼Œæœ‰é’±ï¼Œå°±æœ‰å®¶ï¼Œä½ å°±æœ‰ç¨³ç¨³çš„ç¡®å®šæ„Ÿã€‚</p><p><strong>Part3</strong></p><p><strong>ç¦» 28 å²åªæœ‰å››ä¸ªæœˆçš„æ—¶å€™ï¼Œä½ å¤±å»äº†å·¥ä½œã€‚</strong></p><p>æ˜¯è¢«åŠ¨çš„å¤±ä¸šï¼Œé›†å›¢å…¬å¸æ’¤é”€äº†åå—åŠäº‹å¤„ï¼Œè±¡å¾æ€§åœ°è¡¥å¿åï¼Œä½ è¢«é£æ•£äº†ã€‚</p><p>ä½ å¼€å§‹é‡æ–°æ‰¾å·¥ä½œï¼Œä»è¿™ä¸ªåŸå¸‚çš„å—è¾¹ï¼Œå¥”æ³¢åˆ°åŒ—è¾¹ã€‚</p><p>ä½ çªç„¶å‘ç°ï¼Œè¿‡äº† 30 ä»¥åï¼Œå·¥ä½œè¶Šæ¥è¶Šéš¾æ‰¾äº†ã€‚</p><p>è¦ä¹ˆæ˜¯è–ªæ°´å¤ªä½ï¼Œè¦ä¹ˆæ˜¯è¦æ±‚å¤ªé«˜ï¼Œä¸€å¤§ç¾¤åˆšå‡ºæ ¡é—¨çš„å¤§å­¦ç”Ÿï¼Œç­‰åœ¨é¢è¯•å®¤å¤–ï¼Œéšæ—¶å‡†å¤‡æŠŠä½  PK æ‰ã€‚</p><p><strong>è¿˜å®Œ 3 ä¸ªæœˆçš„æˆ¿è´·ï¼Œä½ çªç„¶å‘ç°ï¼Œå¡é‡Œåªå‰©ä¸‹ 1000 å—é’±äº†ã€‚</strong></p><p>å¹¸è¿çš„æ˜¯ï¼Œä½ ç»ˆäºèµ¶åœ¨ 28 å²å‰ï¼Œæ‰¾åˆ°äº†æ–°å·¥ä½œã€‚</p><p>è™½ç„¶å…¬å¸è·ç¦»ä½çš„åœ°æ–¹ï¼Œæœ‰ç‚¹è¿œï¼Œä½†ä¸€åˆ‡çœ‹èµ·æ¥ï¼Œéƒ½æ˜¯æœ‰å¸Œæœ›çš„æ ·å­ã€‚</p><p>æ‰€ä»¥ï¼Œ28 å²ç”Ÿæ—¥é‚£å¤©ï¼Œä½ ç‰¹æ„ç»™è‡ªå·±ç‚¹äº†ä¸€ä¸ªå°å°çš„è›‹ç³•ã€‚çƒ›å…‰é‡Œï¼Œä½ å®‰é™çš„è®¸æ„¿ã€‚</p><p>ä¸æ˜¯ä¸ºäº†çŠ’åŠ³è‡ªå·±ã€‚</p><p>è€Œæ˜¯ä½ å¼€å§‹æ‡‚å¾—ï¼Œæœ‰æ—¶å€™ï¼Œç¨³å®šçš„æ”¶å…¥ï¼Œä¹Ÿæ˜¯æœ‰æ¸©åº¦çš„ã€‚</p><p>å®ƒèƒ½å…ä½ æƒŠï¼Œå…ä½ è‹¦ï¼Œå…ä½ æ— æå¯ä¾ã€‚</p><p><strong>Part4</strong></p><p><strong>è½¬çœ¼ï¼Œä½  32 å²äº†ï¼Œæˆäº†åˆ«äººçœ¼é‡Œçš„ä¸­äº§ã€‚</strong></p><p>æ—¥å­è¿‡å¾—æ³¢æ¾œä¸æƒŠï¼Œä¸€åˆ‡éƒ½èµ°ä¸Šäº†æ­£è½¨ï¼Œå­©å­ä¹Ÿå·²ç» 3 å²ï¼Œè¯¥ä¸Šå¹¼å„¿å›­äº†ã€‚</p><p>ä½ æœ‰ä¸¤ç§é€‰æ‹©ï¼šæ¥¼ä¸‹çš„åŒè¯­å¹¼ç¨šå›­ï¼›æˆ–è€…æ˜¯æŠŠä»–é€åˆ°éš”å£å®‰ç½®å°åŒºï¼Œé‚£é‡Œä¹Ÿæœ‰ä¸€å®¶æ°‘è¥çš„å¹¼æ•™æœºæ„ã€‚</p><p>å‰ä¸€å®¶ï¼Œæ¯æœˆè´¹ç”¨ 4000ï¼Œæœ‰å¤–æ•™ã€‚åä¸€å®¶ï¼Œ1800 å°±å¤Ÿäº†ï¼Œè€å¸ˆéƒ½æ˜¯ä¸­å¹´çš„é˜¿å§¨ã€‚</p><p>ä½ åœ¨ç”µè„‘ä¸Šï¼Œçœ‹äº†ä¸€æ™šä¸Šçš„è™ç«¥æ–°é—»ï¼Œç¬¬äºŒå¤©æ—©é¤æ—¶ï¼Œä½ å’Œå¦»å­è¯´ï¼š</p><blockquote><p>å°±å»é‚£å®¶ 4000 å—çš„ä¼˜è´¨å¹¼å„¿å›­å§ã€‚</p></blockquote><p>ä½ æ²¡æœ‰å’Œå¦»å­è¯´ï¼Œè¿™æ®µæ—¶é—´ï¼Œå…¬å¸æ­£åœ¨è¿›è¡Œå²—ä½è°ƒæ•´ã€‚</p><p>ä½ å‡†å¤‡ç”³è¯·è°ƒå²—ï¼Œä»ç°åœ¨æ‚ é—²çš„åŠå…¬å®¤å·¥ä½œï¼Œè°ƒåˆ°ä¸€çº¿å·¥ä½œéƒ¨é—¨ã€‚è™½ç„¶ä¼šç´¯äº›ï¼Œä½†æ”¶å…¥ä¼šå¢åŠ ä¸å°‘ã€‚</p><p><strong>çŸ¥é“è°ƒå²—çš„æ¶ˆæ¯åï¼Œå¦»å­æœç„¶æŠ±æ€¨äº†ä½ ï¼Œè¯´ä½ ä¸è‡ªé‡åŠ›ã€‚</strong></p><p>ä½ æ²¡æœ‰è¾©è§£ï¼Œç›¸åä½ åœ¨å¿ƒé‡Œç¬‘äº†ã€‚</p><p>å› ä¸ºä½ å¼€å§‹æ‡‚äº†ï¼Œç´¯æ˜¯ç´¯äº›ï¼Œä½†è‡³å°‘åœ¨å­©å­éœ€è¦æ—¶ï¼Œä½ ä¸ä¼šå›Šä¸­ç¾æ¶©ï¼Œä½ ä¸ä¼šè®©ä»–åœ¨èµ·è·‘çº¿ä¸Šå°±è¾“äº†ã€‚</p><p><strong>Part5</strong></p><p><strong>åˆè¿‡äº†ä¸‰å¹´ã€‚</strong></p><p>æ‰€æœ‰çš„äº‹æƒ…ï¼Œéƒ½åœ¨å‘å¥½å¤„å‘å±•ï¼Œä½ ç”šè‡³æœ‰äº†é‡å¿ƒå‹ƒå‹ƒçš„è®¡åˆ’ï¼Œç­‰çˆ¶æ¯éƒ½é€€ä¼‘äº†ï¼Œå°±æŠŠä»–ä»¬æ¥åˆ°èº«è¾¹æ¥ã€‚</p><p>ä½†æ¸…æ™¨ï¼Œæ¯äº²çš„ç”µè¯å°±æ¥äº†ï¼Œçˆ¶äº²åœ¨æ™¨ç»ƒæ—¶çªå‘è„‘æº¢è¡€ï¼Œå¿åŸçš„åŒ»é™¢æŸæ‰‹æ— ç­–ã€‚</p><p>ä½ ç–¯äº†åœ°å¼€è½¦ï¼Œå¾€è€å®¶èµ¶ï¼ŒæŠŠçˆ¶æ¯æ¥åˆ°äº†ä½ ä½çš„ä¸€çº¿åŸå¸‚é‡Œã€‚</p><p>ä½ ç›¸ä¿¡ï¼Œè¿™é‡Œæœ‰ä¼˜è´¨çš„åŒ»ç–—èµ„æºï¼Œæœ‰ä¸€æµçš„åŒ»ç”Ÿï¼Œä¸€åˆ‡ä¼šé‡æ–°å›åˆ°åŸæ¥çš„æ ·å­ã€‚</p><p>åœ¨é‚£å®¶ä¸‰ç”²åŒ»é™¢é‡Œï¼Œç§‘å®¤é‡Œçš„åŒ»ç”Ÿï¼Œæœç„¶éƒ½ç»™å‡ºäº†è‚¯å®šçš„å›ç­”ï¼Œä½ çš„çˆ¶äº²ï¼Œä¹Ÿä¸€å¤©å¤©å¥½èµ·æ¥ã€‚</p><p><strong>ä½†æ¯å¤©å‡ åƒå—çš„æ”¯å‡ºï¼Œå¾ˆå¿«å°±è®©ä½ æ„Ÿè§‰åˆ°äº†å‹åŠ›ã€‚çˆ¶äº²çš„åŒ»ä¿è¯ï¼Œåœ¨è¿™é‡Œå½¢åŒåºŸçº¸ã€‚</strong></p><p>ä¸¤ä¸ªæœˆåï¼Œçˆ¶äº²åšæŒè¦å‡ºé™¢ã€‚ä½ ä¸è‚¯ï¼Œä½†çˆ¶äº²ç”¨å«ç³Šçš„å›ºæ‰§çš„å£°éŸ³å‘Šè¯‰ä½ ï¼Œå‰©ä¸‹çš„ï¼Œå°±æ˜¯åº·å¤è®­ç»ƒäº†ï¼Œè€å®¶ä¹Ÿå¯ä»¥ï¼Œå“ªé‡Œéƒ½ä¸€æ ·ã€‚</p><p>ä½ é€ä»–ä»¬å›å®¶ï¼Œå¹³æ—¶ä¸‰ä¸ªå°æ—¶çš„è·¯ç¨‹ï¼Œä½ å¼€äº†å…­ä¸ªå°æ—¶ã€‚</p><p>å› ä¸ºä½ æ€»æ˜¯å¿ä¸ä½ï¼Œæƒ³çˆ¬åœ¨æ–¹å‘ç›˜ä¸Šæƒ³å“­ã€‚</p><p>çˆ¶æ¯è€å»çš„é€Ÿåº¦ï¼Œæ¯”ä½ æƒ³è±¡çš„å¿«å¤šäº†ã€‚</p><p>ä½ å¼€å§‹æ‡‚äº†ï¼Œé’±æœ‰æ—¶ä¹Ÿæ˜¯å­å¿ƒã€‚å¦‚æœä½ æœ‰è¶³å¤Ÿçš„é’±ï¼Œå°±ä¸ä¼šå¯¹çˆ¶æ¯æ— èƒ½ä¸ºåŠ›ã€‚</p><p><strong>Part6</strong></p><p>å¦‚æœä½ æ²¡æœ‰ç»å†è¿‡ä¹°æˆ¿ï¼Œä½ ä¸ä¼šçŸ¥é“é’±æœ‰å¤šé‡è¦ï¼›</p><p>å¦‚æœä½ æ²¡æœ‰ç»å†è¿‡å®¶äººç”Ÿç—…ï¼Œä½ ä¸ä¼šçŸ¥é“ï¼Œé’±æ˜¯å¤šä¹ˆä¸å¯æˆ–ç¼ºï¼›</p><p>å¦‚æœä½ æ²¡æœ‰è¿‡æœˆè–ªä¸‰åƒçš„ç”Ÿæ´»ï¼Œä½ ä¸ä¼šçŸ¥é“ï¼Œèµšé’±æ˜¯ä¸ºäº†ä»€ä¹ˆã€‚</p><p>åœ¨ã€Šäº²çˆ±çš„å®‰å¾·çƒˆã€‹é‡Œï¼Œä½œå®¶é¾™åº”å°æœ‰ä¸€æ®µè¯è¯´çš„å¾ˆå¥½ï¼š</p><blockquote><p>â€œå­©å­ï¼Œæˆ‘è¦æ±‚ä½ è¯»ä¹¦ç”¨åŠŸï¼Œä¸æ˜¯å› ä¸ºæˆ‘è¦ä½ è·Ÿåˆ«äººæ¯”æˆç»©ï¼Œè€Œæ˜¯ï¼Œæˆ‘å¸Œæœ›ä½ å°†æ¥ä¼šæ‹¥æœ‰é€‰æ‹©çš„æƒåˆ©ï¼Œé€‰æ‹©æœ‰æ„ä¹‰ã€æœ‰æ—¶é—´çš„å·¥ä½œï¼Œè€Œä¸æ˜¯è¢«è¿«è°‹ç”Ÿã€‚â€</p></blockquote><p>åŒæ ·ï¼Œä¸ºä»€ä¹ˆå¹´è½»æ—¶è¦åŠªåŠ›èµšé’±ï¼Ÿ</p><p><strong>ä¸æ˜¯ä¸ºäº†æˆä¸ºå¯Œè±ªï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†äº«å—ã€‚</strong></p><p>è€Œæ˜¯æœ‰ä¸€å¤©ï¼Œä½ æœ‰åº•æ°”è¯´ï¼Œæˆ‘å¯è¿‡ä¸Šæ›´å¥½çš„ç”Ÿæ´»ï¼›</p><p>ä½ ä¹Ÿæœ‰åº•æ°”å¯¹äº²äººè¯´ï¼Œäº²çˆ±çš„ï¼Œåˆ«æ€•ï¼Œä¸€åˆ‡æœ‰æˆ‘ã€‚</p><p>ç‹å°”å¾·è¯´ï¼š</p><blockquote><p>â€œæˆ‘å¹´è½»æ—¶è¿˜ä»¥ä¸ºé‡‘é’±æœ€é‡è¦ï¼Œå¦‚ä»Šå¹´çºªå¤§äº†ï¼Œå‘ç°é‚£å¥è¯ä¸€ç‚¹ä¸å‡ã€‚â€</p></blockquote><p>åƒä¸‡åˆ«åœ¨å¹´è½»æ—¶å‡è£…ä¸çˆ±é’±ï¼Œä½ åº”è¯¥æ›´åŠªåŠ›ä¸€äº›ã€‚</p><p><strong>æˆ‘ä»¬åŠªåŠ›èµšé’±ï¼Œå°±æ˜¯ä¸ºäº†ä¸å¯¹äº²äººæ— èƒ½ä¸ºåŠ›ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤Ÿå¯¹ä¸–ç•Œè¯´ â€œä¸â€ã€‚</strong></p><p>ä½ ä¸ºä»€ä¹ˆå¹´è½»æ—¶è¦å¤šèµšé’±ï¼Ÿè¿™æ˜¯æˆ‘å¬è¿‡çš„æœ€å¥½çš„å›ç­”ã€‚</p><ul><li>ä½œè€…ç®€ä»‹ï¼šç‹è€³æœµå…ˆç”Ÿï¼Œé’å¹´ä½œå®¶ï¼ŒçŸ¥ååª’ä½“å‰é¦–å¸­è®°è€…ï¼Œå…³æ³¨äºèŒåœºå’Œä¸ªäººæˆé•¿ï¼Œåƒä¸‡çº§é˜…è¯»ä»£è¡¨ä½œã€Šåˆ«æ‰¯äº†ï¼Œè¿™ä¸–ç•Œä¸Šæ ¹æœ¬æ²¡æœ‰ç¨³å®šçš„å·¥ä½œã€‹ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼šç‹è€³æœµå…ˆç”Ÿï¼ˆIDï¼šhuangezishibaï¼‰ã€‚è½¬è½½è¯·è”ç³»åŸä½œè€…æˆæƒï¼</li></ul><p>â€” THE END â€”</p><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/mTzGsLCNvribcZPNdfZUzENkKhDafiaCqARhGjSB9lWicSctia48SvEicSINjd6WhiaXlfuVnmmXSM0veibjeOxjPBvuA/?wx_fmt=gif"></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/bef934ed/">https://blog.coder4j.cn/posts/bef934ed/</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] springboot è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„å®ç°å’ŒåŒºåˆ«</title>
      <link href="/posts/17d41b3e/"/>
      <url>/posts/17d41b3e/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="https://segmentfault.com/a/1190000012072060">https://segmentfault.com/a/1190000012072060</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>springmvc ä¸­æœ‰ä¸¤ç§å¾ˆæ™®éçš„ AOP å®ç°ï¼š<br>1. è¿‡æ»¤å™¨ï¼ˆFilterï¼‰<br>2. æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰</p><p>æœ¬ç¯‡é¢å¯¹çš„æ˜¯ä¸€äº›åˆšæ¥è§¦ springboot çš„äººç¾¤<br>æ‰€ä»¥ä¸»è¦è®²è§£ filter å’Œ interceptor çš„ç®€å•å®ç°å’Œå®ƒä»¬ä¹‹é—´åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«<br>ï¼ˆä¸€äº›å¤æ‚çš„åŠŸèƒ½æˆ‘ä¼šä¹‹åå‘å‡ºæ–‡ç« ï¼Œè¯·è®°å¾—å…³æ³¨ï¼‰</p><h2 id="Filter-çš„ç®€å•å®ç°"><a href="#Filter-çš„ç®€å•å®ç°" class="headerlink" title="Filter çš„ç®€å•å®ç°"></a>Filter çš„ç®€å•å®ç°</h2><p>å­—é¢æ„æ€ï¼šè¿‡æ»¤å™¨å°±æ˜¯è¿‡æ»¤çš„ä½œç”¨ï¼Œåœ¨ web å¼€å‘ä¸­è¿‡æ»¤ä¸€äº›æˆ‘ä»¬æŒ‡å®šçš„ url<br>é‚£ä¹ˆå®ƒèƒ½å¸®æˆ‘ä»¬è¿‡æ»¤ä»€ä¹ˆå‘¢ï¼Ÿ<br>é‚£åŠŸèƒ½å¯å°±å¤šäº†ï¼š<br>æ¯”å¦‚è¿‡æ‹¦æˆªæ‰æˆ‘ä»¬ä¸éœ€è¦çš„æ¥å£è¯·æ±‚<br>ä¿®æ”¹è¯·æ±‚ï¼ˆrequestï¼‰å’Œå“åº”ï¼ˆresponseï¼‰å†…å®¹<br>å®Œæˆ CORS è·¨åŸŸè¯·æ±‚ç­‰ç­‰</p><p>ç°åœ¨æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªç®€å•çš„è¿‡æ»¤å™¨ï¼š<br>å¯ä»¥æ–°å»ºä¸€ä¸ª filter åŒ…ï¼Œéšç€é¡¹ç›®çš„æ‰©å¤§è¿‡æ»¤å™¨ä¼šè¶Šæ¥è¶Šå¤š<br>åœ¨è¿™é‡Œæˆ‘æ–°å»ºäº†ä¸€ä¸ª<code>TestFilter</code>ç±»ï¼Œå®ç° Filter æ¥å£</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Component</span></span><br><span class="line"><span class="variable">@WebFilter</span>(urlPatterns = <span class="string">&quot;/Blogs&quot;</span>,filterName = <span class="string">&quot;blosTest&quot;</span>)</span><br><span class="line">public class TestFilter implements Filter&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸€æ­¥æ­¥æ¥<br>1.@Component å°±æ˜¯æŠŠè¿™ä¸ªç±»æ³¨å…¥åˆ° IOC å®¹å™¨ä¸­<br>2.@WebFilter(urlPatterns = â€œ/Blogsâ€,filterName = â€œblosTestâ€) è¯´æ˜è¿™æ˜¯ä¸€ä¸ª web è¿‡æ»¤å™¨ï¼Œå®ƒæ‹¦æˆªçš„ url ä¸º<code>/Blogs</code>ï¼Œè¿‡æ»¤å™¨åå­—ä¸º<code>blogsTest</code></p><p>ä¸‹é¢è´´å‡ºå®ç°æ¥å£ä¹‹åçš„ä¸‰ä¸ªé‡æ„æ–¹æ³•ï¼š</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        HttpServletRequest request= (HttpServletRequest) servletRequest;</span><br><span class="line">        HttpServletResponse response = (HttpServletResponse) servletResponse;</span><br><span class="line">        System.out.printf(<span class="string">&quot;è¿‡æ»¤å™¨å®ç°&quot;</span>);</span><br><span class="line">        filterChain.doFilter(request,response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ï¼ˆinitï¼‰å’Œæ‘§æ¯ï¼ˆdestroyï¼‰æ–¹æ³•ä¸€èˆ¬ä¸ä¼šç”¨åˆ°ï¼Œå…·ä½“ä½¿ç”¨çœ‹ä¸‹æºç ä¾¿çŸ¥<br>doFilterï¼ˆï¼‰æ˜¯è¿‡æ»¤å™¨çš„æ ¸å¿ƒ<br>æ³¨æ„ï¼šåœ¨å®ç°æ¥å£æ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬è¦è½¬æ¢ request å’Œ response ç±»å‹è‡³ HttpServletï¼Œå¦åˆ™æ¥ä¸‹å»çš„æ“ä½œå¯èƒ½ä¼šæŠ¥é”™ã€‚<br>å¦‚æœè¿‡æ»¤é€šè¿‡ï¼Œæ‰§è¡Œ<code>filterChain.doFilter(request,response);</code><br>è¯´æ˜è¿™ä¸ª url å·²ç»ç»è¿‡äº†æˆ‘ä»¬çš„ Filter<br>å…¶ä»–ä¸è¦è®¾ç½®ï¼Œæˆ‘ä»¬æ‰§è¡Œçœ‹ä¸‹ç»“æœï¼š</p><p><img src="https://segmentfault.com/img/bVYOwA?w=806&h=168"></p><p><img src="https://segmentfault.com/img/bVYOwD?w=708&h=182"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œåªéœ€è¦ä¸€ä¸ªç±»æˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„è¿‡æ»¤å™¨</p><p>å½“ç„¶å¯ä»¥ä¸ç”¨æ³¨è§£çš„æ–¹å¼ï¼Œé…ç½®å¯åŠ¨ç±»</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿‡æ»¤å™¨</span></span><br><span class="line">    @Bean</span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean filterRegistrationBean()&#123;</span><br><span class="line">        FilterRegistrationBean filterRegistrationBean = <span class="keyword">new</span> <span class="type">FilterRegistrationBean</span>();</span><br><span class="line">        List&lt;<span class="keyword">String</span>&gt; urlPatterns = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line"></span><br><span class="line">        TestFilter testFilter = <span class="keyword">new</span> <span class="type">TestFilter</span>();   <span class="comment">//newè¿‡æ»¤å™¨</span></span><br><span class="line">        urlPatterns.add(<span class="string">&quot;/Blogs&quot;</span>);      <span class="comment">//æŒ‡å®šéœ€è¦è¿‡æ»¤çš„url</span></span><br><span class="line">        filterRegistrationBean.setFilter(testFilter);       <span class="comment">//set</span></span><br><span class="line">        filterRegistrationBean.setUrlPatterns(urlPatterns);     <span class="comment">//set</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> filterRegistrationBean;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæœ¬äººå…¶å®è¿˜æ˜¯æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼æ·»åŠ è¿‡æ»¤å™¨</p><h2 id="Interceptor-çš„ç®€å•å®ç°"><a href="#Interceptor-çš„ç®€å•å®ç°" class="headerlink" title="Interceptor çš„ç®€å•å®ç°"></a>Interceptor çš„ç®€å•å®ç°</h2><p>æ‹¦æˆªå™¨çš„å®ç°æ¯”è¿‡æ»¤å™¨ç¨å¾®å¤æ‚ä¸€ç‚¹<br>æˆ‘ä»¬åŒæ ·å¯ä»¥æ–°å»ºä¸€ä¸ª interceptor åŒ…<br>åœ¨é‡Œé¢æ–°å»ºä¸€ä¸ªåä¸º<code>MyInterceptor</code>çš„ç±»</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">MyInterceptor</span> <span class="symbol">implements</span> <span class="symbol">HandlerInterceptor</span> &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç±»å®ç°äº†<code>HandleInterceptor</code>æ¥å£<br>ç›´æ¥è´´ç±»ä»£ç ï¼Œæˆ‘ä¼šåœ¨ä»£ç ä¸­æ³¨é‡ŠåŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åœ¨è¯·æ±‚å¤„ç†ä¹‹å‰è¿›è¡Œè°ƒç”¨ï¼ˆControlleræ–¹æ³•è°ƒç”¨ä¹‹å‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.printf(<span class="string">&quot;preHandleè¢«è°ƒç”¨&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    <span class="comment">//å¦‚æœfalseï¼Œåœæ­¢æµç¨‹ï¼Œapiè¢«æ‹¦æˆª</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯·æ±‚å¤„ç†ä¹‹åè¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯åœ¨è§†å›¾è¢«æ¸²æŸ“ä¹‹å‰ï¼ˆControlleræ–¹æ³•è°ƒç”¨ä¹‹åï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandleè¢«è°ƒç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨æ•´ä¸ªè¯·æ±‚ç»“æŸä¹‹åè¢«è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨DispatcherServlet æ¸²æŸ“äº†å¯¹åº”çš„è§†å›¾ä¹‹åæ‰§è¡Œï¼ˆä¸»è¦æ˜¯ç”¨äºè¿›è¡Œèµ„æºæ¸…ç†å·¥ä½œï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletionè¢«è°ƒç”¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒä¾æ¬¡å®ç°äº†ä¸‰ä¸ªæ–¹æ³•<br>ç›¸æ¯”è¿‡æ»¤å™¨ï¼Œæ‹¦æˆªå™¨è¿˜éœ€è¦åœ¨ springmvc ä¸­æ³¨å…¥<br>æ‰€ä»¥æˆ‘ä»¬æ‰“å¼€å¯åŠ¨ç±»ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WarApplication</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.<span class="built_in">run</span>(WarApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//mvcæ§åˆ¶å™¨</span></span><br><span class="line">    <span class="comment">//@Configuration</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcConfigurer</span> <span class="title">extends</span> <span class="title">WebMvcConfigurerAdapter</span>&#123;</span></span><br><span class="line">        <span class="comment">//å¢åŠ æ‹¦æˆªå™¨</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span></span>&#123;</span><br><span class="line">            registry.addInterceptor(<span class="keyword">new</span> MyInterceptor())    <span class="comment">//æŒ‡å®šæ‹¦æˆªå™¨ç±»</span></span><br><span class="line">                    .addPathPatterns(<span class="string">&quot;/Handles&quot;</span>);        <span class="comment">//æŒ‡å®šè¯¥ç±»æ‹¦æˆªçš„url</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘åœ¨<code>/Handles</code>è¿™ä¸ª url ä¸­è¿›è¡Œæ‹¦æˆª<br>ä»£ç å†™å®Œäº†ï¼Œæ¥çœ‹ä¸‹ç»“æœ</p><p><img src="https://segmentfault.com/img/bVYOyA?w=722&h=200"></p><p><img src="https://segmentfault.com/img/bVYOyI?w=652&h=194"></p><p>å½“è¿›å…¥æŒ‡å®š url æ—¶ï¼Œæˆ‘ä»¬æ‰§è¡Œåˆ°äº†æ‹¦æˆªå™¨<br>æ¥ä¸‹æ¥å°±å¯ä»¥æ ¹æ®éœ€æ±‚å»ä½¿ç”¨æ‹¦æˆªå™¨äº†</p><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä»¬æœ‰å¾ˆå¤§çš„åŒºåˆ«<br>æœ€ç®€å•æ˜äº†çš„åŒºåˆ«å°±æ˜¯<strong>è¿‡æ»¤å™¨å¯ä»¥ä¿®æ”¹ requestï¼Œè€Œæ‹¦æˆªå™¨ä¸èƒ½</strong><br><strong>è¿‡æ»¤å™¨éœ€è¦åœ¨ servlet å®¹å™¨ä¸­å®ç°ï¼Œæ‹¦æˆªå™¨å¯ä»¥é€‚ç”¨äº javaEEï¼ŒjavaSE ç­‰å„ç§ç¯å¢ƒ</strong><br><strong>æ‹¦æˆªå™¨å¯ä»¥è°ƒç”¨ IOC å®¹å™¨ä¸­çš„å„ç§ä¾èµ–ï¼Œè€Œè¿‡æ»¤å™¨ä¸èƒ½</strong><br><strong>è¿‡æ»¤å™¨åªèƒ½åœ¨è¯·æ±‚çš„å‰åä½¿ç”¨ï¼Œè€Œæ‹¦æˆªå™¨å¯ä»¥è¯¦ç»†åˆ°æ¯ä¸ªæ–¹æ³•</strong><br>åŒºåˆ«å¾ˆå¤šï¼Œå¤§å®¶å¯ä»¥å»æŸ¥ä¸‹</p><p>æ€»çš„æ¥è¯´<br>è¿‡æ»¤å™¨å°±æ˜¯ç­›é€‰å‡ºä½ è¦çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ requeset ä¸­ä½ è¦çš„é‚£éƒ¨åˆ†<br>æ‹¦æˆªå™¨åœ¨åšå®‰å…¨æ–¹é¢ç”¨çš„æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ç»ˆæ­¢ä¸€äº›æµç¨‹<br>ç½‘ä¸Šæœ‰ä¸€å¼ å›¾ç‰‡å¾ˆä¸é”™ï¼Œè¿™é‡Œæ‹·è¿‡æ¥ç»™å¤§å®¶çœ‹ä¸€ä¸‹</p><p><img src="https://segmentfault.com/img/bVYOEG?w=1392&h=808"></p><p><strong>ä»¥ä¸Šä¾¿æ˜¯ springboot ä¸­è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„å®ç°å’ŒåŒºåˆ«ï¼›</strong><br><strong>è§‰å¾—è¿˜å¯ä»¥çš„è¯·ç‚¹ä¸ªèµï¼Œèµä¸äº†ä¹Ÿå¯ä»¥æ”¶è—ä¸‹ï¼›</strong><br><strong>æ€»ä¹‹ï¼Œè°¢è°¢é˜…è¯»ï½</strong></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/17d41b3e/">https://blog.coder4j.cn/posts/17d41b3e/</a> </p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
          <category> spring boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring boot </tag>
            
            <tag> è¿‡æ»¤å™¨ </tag>
            
            <tag> æ‹¦æˆªå™¨ </tag>
            
            <tag> web </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ docker å…‰é€Ÿå®‰è£… gitlab</title>
      <link href="/posts/3f39df5c/"/>
      <url>/posts/3f39df5c/</url>
      
        <content type="html"><![CDATA[<ul><li>ä½¿ç”¨ docker å®‰è£… gitlab<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… postgresql</span></span><br><span class="line">docker <span class="builtin-name">run</span> <span class="attribute">--name</span>=gitlab-postgresql -d --env <span class="attribute">DB_NAME</span>=gitlabhq_prodution --env <span class="attribute">DB_USER</span>=gitlab --env <span class="attribute">DB_PASS</span>=password sameersbn/postgresql:9.4-12</span><br><span class="line"><span class="comment"># å®‰è£… redis</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name gitlab-redis -d sameersbn/redis</span><br><span class="line"><span class="comment"># å®‰è£… gitlab</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name gitlab -d --link gitlab-postgresql:postgresql --link gitlab-redis:redisio --publish 10022:22 --publish 10080:80 --env <span class="attribute">GITLAB_PORT</span>=10080 --env <span class="attribute">GITLAB_SSH_PORT</span>=10022 --env <span class="attribute">GITLAB_SECRETS_DB_KEY_BASE</span>=long-and-random-alpha-numeric-string sameersbn/gitlab:8.4.4</span><br></pre></td></tr></table></figure></li><li>è®¿é—® http://æœ¬åœ°ip:10080<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fn1jbcqanij21ro11sq8s.jpg"></li></ul><ul><li>å‚è€ƒé“¾æ¥<br><a href="https://github.com/sameersbn/docker-gitlab">docker-gitlab</a><br><a href="http://www.damagehead.com/docker-gitlab/">Zero to GitLab in 5 seconds or less*</a>  </li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/3f39df5c/">https://blog.coder4j.cn/posts/3f39df5c/</a> </p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
          <category> gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ docker å…‰é€Ÿå®‰è£… wordpress</title>
      <link href="/posts/a8f54955/"/>
      <url>/posts/a8f54955/</url>
      
        <content type="html"><![CDATA[<ul><li>ä½¿ç”¨ docker å®‰è£… wordpress</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…æ•°æ®åº“</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name db --env <span class="attribute">MYSQL_ROOT_PASSWORD</span>=example -d mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… wordpress</span></span><br><span class="line">docker <span class="builtin-name">run</span> --name MyWordPress --link db:mysql -p 8080:80 -d wordpress</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸæ•ˆæœå›¾<br><img src="http://ww1.sinaimg.cn/large/68f7efe0gy1fn1igx342oj21sc0tsdjn.jpg"></p><ul><li>å‘½ä»¤è§£æ  <ul><li>å®‰è£…æ•°æ®åº“  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> --name db --env <span class="attribute">MYSQL_ROOT_PASSWORD</span>=example -d mariadb</span><br></pre></td></tr></table></figure><ul><li>docker run <ul><li>å¯åŠ¨å®¹å™¨çš„å‘½ä»¤</li></ul></li><li>â€“name db<ul><li>æŒ‡å®šå¯åŠ¨å®¹å™¨çš„åç§°</li></ul></li><li>â€“env MYSQL_ROOT_PASSWORD=example<ul><li>ä¼ å…¥ç¯å¢ƒå˜é‡ï¼Œæ­¤å¤„æ˜¯è®¾ç½® mysql å¯†ç ä¸º example</li></ul></li><li>-d <ul><li>åå°è¿è¡Œï¼Œå¦åˆ™å‰å°è¿›è¡Œ</li></ul></li></ul></li><li>å®‰è£… wordpress  <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name MyWordPress --link db:mysql -p <span class="number">8080</span>:<span class="number">80</span> -d wordpress</span><br></pre></td></tr></table></figure><ul><li>â€“link db:mysql<ul><li>ä¸ä¸Šé¢å¯åŠ¨çš„ db å®¹å™¨å»ºç«‹è”ç³»</li></ul></li><li>-p 8080:80<ul><li>ç«¯å£æ˜ å°„ï¼ŒæŠŠå®¿ä¸»æœºçš„8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨å†…çš„80ç«¯å£</li></ul></li></ul></li></ul></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/a8f54955/">https://blog.coder4j.cn/posts/a8f54955/</a> </p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018å¹´æ–°å¹´æ„¿æ™¯</title>
      <link href="/posts/f596c62f/"/>
      <url>/posts/f596c62f/</url>
      
        <content type="html"><![CDATA[<div class="tip">  ä»Šå¤©æ˜¯2018å¹´ç¬¬ä¸€å¤©ï¼Œè½¬çœ¼2017å°±è¿™æ ·è¿‡å»äº†ï¼Œæ„Ÿè§‰è’åºŸäº†å¤§æŠŠæ—¶å…‰ï¼Œæ–°çš„ä¸€å¹´å¸Œæœ›è‡ªå·±å¯ä»¥èœ•å˜ï¼    æˆä¸ºä¸€ä¸ªé è°±çš„äººï¼</div><ul><li><p>ç”Ÿæ´»</p><ul><li>æ›´çˆ±èèï¼Œä»¥åå°‘æ€¼å¥¹äº†ã€‚åˆ«å¤ªå­©å­æ°”ï¼Œè€æƒ¹å¥¹ç”Ÿæ°”ã€‚</li><li>ä¹Ÿè¯¥è€ƒè™‘ç»“å©šçš„äº‹äº†</li><li>å­¦ä¼šå‡ ä¸ªæ‹¿æ‰‹èœ</li><li>æ´»çš„å¥åº·ä¸€ç‚¹ï¼Œå°‘åƒè¾£ï¼Œå°‘ç†¬å¤œï¼Œå°‘å–ç¢³é…¸é¥®æ–™</li><li>å‡è‚¥ï¼Œå›åˆ°120æ–¤</li><li>çœ‹å‡ æœ¬ä¹¦</li><li>ä¸€ä¸ªæ˜ŸæœŸå†™ä¸€ç¯‡åšå®¢</li></ul></li><li><p>å­¦ä¹ </p><ul><li>dockerå­¦ä¹ </li><li>elasticsearchå­¦ä¹ </li><li>zookeeperå­¦ä¹ </li><li>mongodbå­¦ä¹ </li><li>jvmå­¦ä¹ </li><li>è®¾è®¡æ¨¡å¼å­¦ä¹ </li><li>nginxå­¦ä¹ </li><li>hadoopå­¦ä¹ </li><li>hbase å­¦ä¹ </li><li>æ¶æ„å­¦ä¹ </li></ul></li><li><p>å·¥ä½œ</p><ul><li>æé«˜å·¥ä½œæ•ˆç‡ï¼Œä¸è¦é‚£ä¹ˆç´¯</li><li>æé«˜ç®¡ç†èƒ½åŠ›ä¸äººé™…äº¤å¾€èƒ½åŠ›</li><li>æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå¯ç”¨æ€§</li><li>å¯¹ä¸šåŠ¡çš„ç†Ÿç»ƒåº¦è¦æé«˜</li><li>ä½¿æœåŠ¡å™¨çš„ç¨³å®šæ€§æå‡ä¸€ä¸ªæ¡£æ¬¡ï¼Œå…¨åŠ›åšåˆ°0äº‹æ•…ï¼Œ0å®•æœº</li></ul></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/f596c62f/">https://blog.coder4j.cn/posts/f596c62f/</a> </p>]]></content>
      
      
      <categories>
          
          <category> æ–°å¹´æ„¿æ™¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 2018 </tag>
            
            <tag> æ–°å¹´æ„¿æ™¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring boot å¯¹äº js çš„ long ç²¾åº¦é—®é¢˜å¤„ç†</title>
      <link href="/posts/6bfa638e/"/>
      <url>/posts/6bfa638e/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‡ å¤©å‰åç«¯è”è°ƒï¼Œé‡åˆ°ä¸€ä¸ªè¯¡å¼‚çš„é—®é¢˜ã€‚å‰ç«¯è¯·æ±‚åç«¯æä¾›çš„è¯¦æƒ…æ¥å£å¾—åˆ°ç”¨æˆ·çš„ Id ä¸å…¶å®ƒæ•°æ®ã€‚ç„¶åå‰ç«¯åˆæŠŠè¿™ä¸ª Idä¸ä¿®æ”¹çš„æ•°æ®å†…å®¹ä¸€åŒä¼ å›åç«¯çš„ä¿®æ”¹æ¥å£ã€‚ç»“æœå‰ç«¯åé¦ˆæ­»æ´»ä¿®æ”¹ä¸äº†ã€‚  </p><p>ç„¶åå„ç§ debug æŸ¥æ—¥å¿—ï¼Œå‘ç°è¯¦æƒ…æ¥å£è¿”å›ç»™å‰ç«¯çš„ä¸å‰ç«¯è°ƒç”¨ä¿®æ”¹æ¥å£ä¼ å›çš„ Id ä¸ä¸€è‡´ã€‚  </p><p>ç„¶åä¸€æŸ¥å‘ç°æ˜¯ js çš„ç²¾åº¦é—®é¢˜ï¼ŒåŸä»¥ä¸º js åªæ˜¯æµ®ç‚¹å‹ä¼šæœ‰ç²¾åº¦é—®é¢˜ï¼Œæ²¡æƒ³åˆ°é•¿æ•´å‹ä¹Ÿä¼šå‡ºç°ã€‚å› ä¸ºæ˜¯è¯­è¨€çš„é™åˆ¶ï¼Œå‰ç«¯è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æ˜¯å¾ˆåƒåŠ›çš„ã€‚æ‰€ä»¥åªèƒ½åœ¨åç«¯åœ¨ä¼  json çš„æ—¶å€™æŠŠ long å…¨éƒ¨è½¬æˆ string ç±»å‹ã€‚  </p><p>ç„¶åé—®é¢˜åˆæ¥äº†ï¼Œå› ä¸ºé¡¹ç›®å·²å†™äº†å·®ä¸å¤šäº†ã€‚å¤ªå¤šåœ°æ–¹ç”¨äº† long ç±»å‹ï¼Œæ”¹åŸºç¡€ç±»çš„å­—æ®µç±»å‹æ˜¯ä¸å¯èƒ½äº†ã€‚äºæ˜¯æƒ³åœ¨å¯¹è±¡è½¬ json çš„æ—¶å€™èƒ½å¦ç»Ÿä¸€å¤„ç†ã€‚  </p><p>å› ä¸ºä½¿ç”¨çš„æ˜¯ spring boot æ¡†æ¶ï¼Œè€Œ spring boot é»˜è®¤çš„ json æ¡†æ¶çš„Jacksonã€‚å°±æ˜¯æ‰¾äº†ä¸€ä¸‹ï¼Œæœç„¶ jackson æœ‰ä¸€ä¸ªå¯ä»¥è‡ªå®šä¹‰çš„ç±»å‹è½¬æ¢å™¨æœºåˆ¶ã€‚ç›´æ¥ä¸Šä»£ç â†“  </p><ul><li><p>json è½¬æ¢å™¨<br>JsonLong2StrConverter</p><pre><code>public class JsonLong2StrConverter extends StdSerializer&lt;Long&gt; &#123;  public JsonLong2StrConverter() &#123;    super(Long.class);  &#125;  @Override  public void serialize(Long value, JsonGenerator gen, SerializerProvider provider)      throws IOException &#123;    gen.writeString(value.toString());  &#125;&#125;</code></pre></li><li><p>ä½¿ç”¨é…ç½®<br>JsonConf</p><pre><code>@Configuration@EnableWebMvcpublic class JsonConf extends WebMvcConfigurerAdapter &#123;  @Override  public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123;    converters.add(new MappingJackson2HttpMessageConverter(        new Jackson2ObjectMapperBuilder()//            .propertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE)            .serializationInclusion(                Include.NON_NULL)            .serializerByType(Long.class, new JsonLong2StrConverter())            .serializerByType(Long.TYPE, new JsonLong2StrConverter()).build()));  &#125;&#125;</code></pre></li></ul><p>è¿™æ · spring boot åœ¨è½¬æ¢ json æ—¶ï¼Œå‘ç°æ˜¯ Long ç±»å‹å°±ç›´æ¥è½¬æˆ String ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åŠ ä¸ªå•å¼•å·ã€‚</p><p>å‚è€ƒï¼š<br><a href="http://okeeper.leanote.com/post/Spring-boot-%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89Json%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">Spring boot é…ç½®è‡ªå®šä¹‰Jsonç±»å‹è½¬æ¢</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/6bfa638e/">https://blog.coder4j.cn/posts/6bfa638e/</a> </p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
          <category> json </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring boot </tag>
            
            <tag> json </tag>
            
            <tag> ç²¾åº¦ </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CDNåŸç†</title>
      <link href="/posts/ccbef645/"/>
      <url>/posts/ccbef645/</url>
      
        <content type="html"><![CDATA[<blockquote><p>&emsp;&emsp;CDNæ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚<br>&emsp;&emsp;CDNçš„åŸºæœ¬åŸç†æ˜¯å¹¿æ³›é‡‡ç”¨å„ç§ç¼“å­˜æœåŠ¡å™¨ï¼Œå°†è¿™äº›ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåˆ°ç”¨æˆ·è®¿é—®ç›¸å¯¹é›†ä¸­çš„åœ°åŒºæˆ–ç½‘ç»œä¸­ï¼Œåœ¨ç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ï¼Œåˆ©ç”¨å…¨å±€è´Ÿè½½æŠ€æœ¯å°†ç”¨æˆ·çš„è®¿é—®æŒ‡å‘è·ç¦»æœ€è¿‘çš„å·¥ä½œæ­£å¸¸çš„ç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œç”±ç¼“å­˜æœåŠ¡å™¨ç›´æ¥å“åº”ç”¨æˆ·è¯·æ±‚ã€‚  â€“ç™¾åº¦ç™¾ç§‘</p></blockquote><p>&emsp;&emsp;å…¶å®CDNè¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜ã€‚åªä¸è¿‡æ˜¯CDNæœºæ„ä¼šæŠŠåœ¨å…¨å›½å„åœ°çƒ­ç‚¹çš„åœ°æ–¹ï¼Œéƒ¨ç½²ä¸€äº›æœåŠ¡å™¨ã€‚å¦‚æœä½ çš„ç½‘ç«™ä½¿ç”¨CDNåï¼Œä¼šæŠŠä½ ç½‘ç«™ä¸Š<strong>é™æ€</strong>çš„å†…å®¹ç¼“å­˜åœ¨è¿™äº›æœåŠ¡å™¨ä¸Šã€‚å¦‚æœç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™ï¼Œç”¨æˆ·çš„è¯·æ±‚ä¼šè¢«å‘é€åˆ°ç¦»ä»–æœ€è¿‘çš„CDNæœåŠ¡å™¨ä¸Šï¼Œä»¥æ­¤æé«˜å“åº”é€Ÿåº¦ã€‚</p><p>&emsp;&emsp;å¯¹äº<strong>é™æ€</strong>å†…å®¹å±…å¤šçš„ç½‘ç«™ï¼Œæé€Ÿæ˜æ˜¾ã€‚å¯¹äº<strong>åŠ¨æ€ç½‘ç«™</strong>ä¼šå›æºåˆ°åŸæœåŠ¡å™¨ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰ä»»ä½•æé«˜ã€‚æ‰€ä»¥è¦æƒ³è¾¾åˆ°æœ€å¥½æ•ˆæœï¼Œå¯ä»¥å¯¹ç½‘ç«™å®ç°åŠ¨é™åˆ†ç¦»ï¼Œæ¯”å¦‚å‰åç«¯åˆ†ç¦»ã€‚æŠŠå‰ç«¯é¡µé¢åŠ åˆ°CDNï¼Œè€Œåç«¯æ¥å£è¿˜æ˜¯ç”¨åŸæœåŠ¡å™¨çš„ã€‚</p><p>&emsp;&emsp;éšä¾¿è¯´ä¸€ä¸‹ï¼ŒCDNå¯¹DDOSæœ‰ä¸€å®šçš„é˜²æŠ¤ä½œç”¨ï¼Œå› ä¸ºå…¨å›½å¤§é‡çš„è‚‰é¸¡è®¿é—®ä¼šè¢«åˆ†æ•£åˆ°å„ä¸ªCDNæœåŠ¡å™¨ï¼Œå¯¹ä¸»ç«™å½±å“å°±å‡å°å¾ˆå¤šã€‚å½“ç„¶ä¹Ÿæ˜¯åªé’ˆå¯¹äºé™æ€ç±»å‹æœ‰æ•ˆï¼ŒåŠ¨æ€ç½‘ç«™è¯¥æŒ‚è¿˜æ˜¯ä¼šæŒ‚ï¼</p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/ccbef645/">https://blog.coder4j.cn/posts/ccbef645/</a> </p>]]></content>
      
      
      <categories>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cdn </tag>
            
            <tag> æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mavenæŒ‰ç¯å¢ƒåŠ è½½é…ç½®æ–‡ä»¶</title>
      <link href="/posts/b5fc9dfd/"/>
      <url>/posts/b5fc9dfd/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡mavençš„profileå®ç°æŒ‰ç¯å¢ƒæ¥åŠ è½½é…ç½®æ–‡ä»¶</p><a id="more"></a><h6 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h6><p><img src="/images/pasted-0.png" alt="upload successful"></p><h6 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">id</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">config.dir</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">config.dir</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">id</span>&gt;</span>test<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">config.dir</span>&gt;</span>test<span class="tag">&lt;/<span class="name">config.dir</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">id</span>&gt;</span>beta<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">config.dir</span>&gt;</span>beta<span class="tag">&lt;/<span class="name">config.dir</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">id</span>&gt;</span>release<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">config.dir</span>&gt;</span>release<span class="tag">&lt;/<span class="name">config.dir</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/profile/$&#123;config.dir&#125;<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>./<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>./<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line">truetrue<span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">build</span>&gt;</span>  </span><br></pre></td></tr></table></figure><h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><blockquote><p>å¤§è‡´æ€è·¯å°±æ˜¯å»ºä¸€ä¸ªprofileçš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•åå¯ä»¥éšæ„åªè¦è·Ÿåé¢ä¿æŒä¸€è‡´å°±è¡Œï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹é¢å»ºå‡ ä¸ªæŒ‰ç¯å¢ƒåŒºåˆ†çš„ç›®å½•ï¼Œé€šå¸¸æ˜¯dev(å¼€å‘)ï¼Œtestï¼ˆæµ‹è¯•ï¼‰ï¼Œbetaï¼ˆé¢„å‘ï¼‰ï¼Œrelease(æ­£å¼)ã€‚ç„¶åå†é€šè¿‡mavençš„profileç‰¹æ€§ï¼Œç”ŸæˆæŒ‰ç¯å¢ƒçš„${config.dir}çš„å€¼ã€‚æœ€åé€šè¿‡mavençš„resourcesæ ‡ç­¾æ¥å®Œæˆé…ç½®æ–‡ä»¶çš„æ‹·è´ï¼Œå¤§åŠŸå‘Šæˆã€‚</p></blockquote><h5 id="æ‰“åŒ…å‘½ä»¤"><a href="#æ‰“åŒ…å‘½ä»¤" class="headerlink" title="æ‰“åŒ…å‘½ä»¤"></a>æ‰“åŒ…å‘½ä»¤</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn clean <span class="keyword">install</span> -P(profile_id)</span><br><span class="line">eg. mvn clean <span class="keyword">install</span> -Pdev  <span class="comment">--æ‰“åŒ…å¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/b5fc9dfd/">https://blog.coder4j.cn/posts/b5fc9dfd/</a> </p>]]></content>
      
      
      <categories>
          
          <category> maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
            <tag> profile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ­å»ºæ•´ç†</title>
      <link href="/posts/e8182b73/"/>
      <url>/posts/e8182b73/</url>
      
        <content type="html"><![CDATA[<p>æœ¬åšå®¢æ­å»ºå‚è€ƒçš„æ•™ç¨‹</p><a id="more"></a><ul><li><p>åŸºç¡€æ•™ç¨‹ï¼š<br><a href="https://xuanwo.org/2015/03/26/hexo-intor/">å²ä¸Šæœ€è¯¦ç»†çš„Hexoåšå®¢æ­å»ºå›¾æ–‡æ•™ç¨‹</a></p></li><li><p>æ¨¡æ¿<br><a href="https://material.viosey.com/">material</a></p></li><li><p>httpè½¬https:<br><a href="https://g2ex.github.io/2015/10/14/Hexo-with-SSL-Hosted-on-Github-Page/">ä¸ºGithubçš„Hexoåšå®¢å¯ç”¨SSL/TLS</a></p></li><li><p>å…¶å®ƒé…ç½®:<br><a href="http://www.jianshu.com/p/a52b68794a6b">hexoåˆ›å»ºä¸ªäººåšå®¢ï¼ˆé™„åŠ æ’å…¥éŸ³ä¹ã€åˆ†äº«ã€è¯„è®ºã€æ ‡ç­¾é¡µã€æœç´¢ï¼‰</a></p></li><li><p>è®¿é—®åˆ†æµ:<br><a href="http://www.franktly.com/2016/07/05/Hexo%E5%90%8C%E6%97%B6%E9%83%A8%E7%BD%B2%E5%9C%A8Coding%E5%92%8CGitHub%E4%B8%8A%E5%B9%B6%E4%BD%BF%E7%94%A8DNSPod%E5%88%86%E6%B5%81/">HexoåŒæ—¶éƒ¨ç½²åœ¨Codingå’ŒGitHubä¸Šå¹¶ä½¿ç”¨DNSPodåˆ†æµ</a></p></li><li><p>SEO:<br><a href="http://www.jianshu.com/p/86557c34b671">Hexo Seoä¼˜åŒ–è®©ä½ çš„åšå®¢åœ¨googleæœç´¢æ’åç¬¬ä¸€</a><br><a href="http://www.jianshu.com/p/619dab2d3c08">hexoæäº¤æœç´¢å¼•æ“ï¼ˆç™¾åº¦+è°·æ­Œï¼‰</a></p></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/e8182b73/">https://blog.coder4j.cn/posts/e8182b73/</a> </p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Aopæ³¨è§£æ•™ç¨‹</title>
      <link href="/posts/e634ec1e/"/>
      <url>/posts/e634ec1e/</url>
      
        <content type="html"><![CDATA[<blockquote><p>spring aopå¸¸ç”¨çš„æœ‰ä»¥ä¸‹ï¼š</p><ul><li>é€šçŸ¥ç±»å‹ï¼š<ul><li>å‰ç½®é€šçŸ¥ï¼ˆBefore adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ä¹‹å‰æ‰§è¡Œçš„é€šçŸ¥ï¼Œä½†è¿™ä¸ªé€šçŸ¥ä¸èƒ½é˜»æ­¢è¿æ¥ç‚¹ä¹‹å‰çš„æ‰§è¡Œæµç¨‹ï¼ˆé™¤éå®ƒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼‰ã€‚</li><li>åç½®é€šçŸ¥ï¼ˆAfter returning adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹æ­£å¸¸å®Œæˆåæ‰§è¡Œçš„é€šçŸ¥ï¼šä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œæ­£å¸¸è¿”å›ã€‚</li><li>å¼‚å¸¸é€šçŸ¥ï¼ˆAfter throwing adviceï¼‰ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸é€€å‡ºæ—¶æ‰§è¡Œçš„é€šçŸ¥ã€‚</li><li>æœ€ç»ˆé€šçŸ¥ï¼ˆAfter (finally) adviceï¼‰ï¼šå½“æŸè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥ï¼ˆä¸è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸é€€å‡ºï¼‰ã€‚</li><li>ç¯ç»•é€šçŸ¥ï¼ˆAround Adviceï¼‰ï¼šåŒ…å›´ä¸€ä¸ªè¿æ¥ç‚¹çš„é€šçŸ¥ï¼Œå¦‚æ–¹æ³•è°ƒç”¨ã€‚è¿™æ˜¯æœ€å¼ºå¤§çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åå®Œæˆè‡ªå®šä¹‰çš„è¡Œä¸ºã€‚å®ƒä¹Ÿä¼šé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œè¿æ¥ç‚¹æˆ–ç›´æ¥è¿”å›å®ƒè‡ªå·±çš„è¿”å›å€¼æˆ–æŠ›å‡ºå¼‚å¸¸æ¥ç»“æŸæ‰§è¡Œã€‚</li></ul></li></ul></blockquote><blockquote><ul><li>æ ¸å¿ƒé…ç½®åªè¦åœ¨AOPçš„å®ç°æ–¹æ³•ä¸ŠåŠ ä¸Š@Aspectä¸åœ¨spring é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š <a href="aop:aspectj-autoproxy/">aop:aspectj-autoproxy/</a>,spring å°±å¯ä»¥é…ç½®aopæ–¹æ³•ï¼Œç„¶åå†æ ¹æ®æ–¹æ³•çš„å¢å¼ºæ ‡ç­¾ä¸åŒçš„æ•ˆæœï¼Œè¿™é‡Œéœ€è¦æ³¨æ„æ˜¯å®ƒä»¬çš„å‚æ•°ä¸åŒã€‚</li></ul></blockquote><ul><li><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mrwood_study<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xyz.mrwood.study<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>study-spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>study-spring-aop<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.2.5.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- springå¼€å§‹ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring ç»“æŸ--&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- AOP begin --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjrt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- AOP end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—å¼€å§‹ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.21<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿—ç»“æŸ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>spring-context.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--è‡ªåŠ¨æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;xyz.mrwood.study&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯aop--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>AopHandler.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016, 791650277@qq.com(Mr.kiwi) All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡¹ç›®ï¼šstudy</span></span><br><span class="line"><span class="comment"> * åŒ…åï¼šxyz.mrwood.study.aop</span></span><br><span class="line"><span class="comment"> * åŠŸèƒ½ï¼šaopå®ç°</span></span><br><span class="line"><span class="comment"> * æ—¶é—´ï¼š2016-05-28 10:33</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šMr.Kiwi</span></span><br><span class="line"><span class="comment"> * é€šçŸ¥ç±»å‹ï¼š</span></span><br><span class="line"><span class="comment"> * å‰ç½®é€šçŸ¥ï¼ˆBefore adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ä¹‹å‰æ‰§è¡Œçš„é€šçŸ¥ï¼Œä½†è¿™ä¸ªé€šçŸ¥ä¸èƒ½é˜»æ­¢è¿æ¥ç‚¹ä¹‹å‰çš„æ‰§è¡Œæµç¨‹ï¼ˆé™¤éå®ƒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼‰ã€‚</span></span><br><span class="line"><span class="comment"> * åç½®é€šçŸ¥ï¼ˆAfter returning adviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹æ­£å¸¸å®Œæˆåæ‰§è¡Œçš„é€šçŸ¥ï¼šä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œæ­£å¸¸è¿”å›ã€‚</span></span><br><span class="line"><span class="comment"> * å¼‚å¸¸é€šçŸ¥ï¼ˆAfter throwing adviceï¼‰ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸é€€å‡ºæ—¶æ‰§è¡Œçš„é€šçŸ¥ã€‚</span></span><br><span class="line"><span class="comment"> * æœ€ç»ˆé€šçŸ¥ï¼ˆAfter (finally) adviceï¼‰ï¼šå½“æŸè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥ï¼ˆä¸è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸é€€å‡ºï¼‰ã€‚</span></span><br><span class="line"><span class="comment"> * ç¯ç»•é€šçŸ¥ï¼ˆAround Adviceï¼‰ï¼šåŒ…å›´ä¸€ä¸ªè¿æ¥ç‚¹çš„é€šçŸ¥ï¼Œå¦‚æ–¹æ³•è°ƒç”¨ã€‚è¿™æ˜¯æœ€å¼ºå¤§çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åå®Œæˆè‡ªå®šä¹‰çš„è¡Œä¸ºã€‚å®ƒä¹Ÿä¼šé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œè¿æ¥ç‚¹æˆ–ç›´æ¥è¿”å›å®ƒè‡ªå·±çš„è¿”å›å€¼æˆ–æŠ›å‡ºå¼‚å¸¸æ¥ç»“æŸæ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AopHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªå·¥ç¨‹ä¸‹æ‰€æœ‰çš„åˆ‡ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* xyz.mrwood.study..*.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getAllPoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªæ‰€æœ‰serviceå±‚ä¸‹çš„åˆ‡ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* xyz.mrwood.study.service..*.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getServicePoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰ç½®å¢å¼º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Before(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeMethod</span><span class="params">(JoinPoint joinPoint)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[å‰ç½®å¢å¼ºå¼€å§‹]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å¼€å§‹äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;getServicePoint()&quot;, throwing = &quot;ex&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exceptionMethod</span><span class="params">(JoinPoint joinPoint, Exception ex)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[å¼‚å¸¸å¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;å¦‚æœä½ çœ‹åˆ°è¿™è¡Œï¼Œå°±è¯´æ˜ä½ çš„ç¨‹åºæŠ¥é”™äº†ï¼&quot;</span> + <span class="string">&quot;å¼‚å¸¸ä¿¡æ¯ï¼š&quot;</span> + ex.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åç½®å¢å¼ºï¼Œåªæœ‰åœ¨æ–¹æ³•æ­£å¸¸ç»“æŸæ‰ä¼šè°ƒç”¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> returnVal</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;getServicePoint()&quot;,returning = &quot;returnVal&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturningMethod</span><span class="params">(Object returnVal)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[åç½®å¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;å½“ä½ çœ‹åˆ°è¿™ä¸ªè¯´æ˜ï¼Œä½ çš„æ–¹æ³•æ²¡æœ‰æ­£å¸¸ç»“æŸäº†ï¼&quot;</span> + <span class="string">&quot;å®ƒçš„è¿”å›å€¼ä¸ºï¼š&quot;</span> + returnVal);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æœ€ç»ˆå¢å¼ºï¼Œç±»ä¼¼äºfinallyçš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@After(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[æœ€ç»ˆå¢å¼º]ï¼š&quot;</span> + <span class="string">&quot;æ— è®ºå‘è®ºå‘ç”Ÿä»€ä¹ˆäº‹ï¼Œæˆ‘éƒ½ä¼šè¿è¡Œï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¯ç»•å¢å¼º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> proceedingJoinPoint</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Around(&quot;getServicePoint()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">aroundMethod</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[ç¯ç»•å¢å¼ºå¼€å§‹]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å¼€å§‹äº†ï¼&quot;</span>);</span><br><span class="line">        Object returnVal = proceedingJoinPoint.proceed(proceedingJoinPoint.getArgs());</span><br><span class="line">        System.out.println(<span class="string">&quot;[ç¯ç»•å¢å¼ºç»“æŸ]ï¼š&quot;</span> + <span class="string">&quot;æ–¹æ³•å·²ç»ç»“æŸäº†ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> returnVal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>TargetService.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016, 791650277@qq.com(Mr.kiwi) All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡¹ç›®ï¼šstudy</span></span><br><span class="line"><span class="comment"> * åŒ…åï¼šxyz.mrwood.study.service</span></span><br><span class="line"><span class="comment"> * åŠŸèƒ½ï¼šè¢«æ‹¦æˆªçš„ç›®æ ‡ç±»</span></span><br><span class="line"><span class="comment"> * æ—¶é—´ï¼š2016-05-28 10:32</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šMr.Kiwi</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TargetService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String  <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œç»“æœ<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">ç¯ç»•å¢å¼ºå¼€å§‹</span>]ï¼šæ–¹æ³•å¼€å§‹äº†ï¼</span><br><span class="line">[<span class="meta">å‰ç½®å¢å¼ºå¼€å§‹</span>]ï¼šæ–¹æ³•å¼€å§‹äº†</span><br><span class="line">[<span class="meta">ç¯ç»•å¢å¼ºç»“æŸ</span>]ï¼šæ–¹æ³•å·²ç»ç»“æŸäº†ï¼</span><br><span class="line">[<span class="meta">æœ€ç»ˆå¢å¼º</span>]ï¼šæ— è®ºå‘è®ºå‘ç”Ÿä»€ä¹ˆäº‹ï¼Œæˆ‘éƒ½ä¼šè¿è¡Œï¼</span><br><span class="line">[<span class="meta">åç½®å¢å¼º</span>]ï¼šå½“ä½ çœ‹åˆ°è¿™ä¸ªè¯´æ˜ï¼Œä½ çš„æ–¹æ³•æ²¡æœ‰æ­£å¸¸ç»“æŸäº†ï¼å®ƒçš„è¿”å›å€¼ä¸ºï¼štest</span><br></pre></td></tr></table></figure></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/e634ec1e/">https://blog.coder4j.cn/posts/e634ec1e/</a> </p>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
          <category> aop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> aop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring é›†æˆdruid</title>
      <link href="/posts/f23e3ef2/"/>
      <url>/posts/f23e3ef2/</url>
      
        <content type="html"><![CDATA[<p><strong>application.properties</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######################æ•°æ®åº“è®¿é—®é…ç½®#########################</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“é“¾æ¥</span></span><br><span class="line"><span class="meta">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/coder4j?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“ç”¨æˆ·å</span></span><br><span class="line"><span class="meta">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“ç”¨æˆ·å¯†ç </span></span><br><span class="line"><span class="meta">spring.datasource.password</span>=<span class="string">root</span></span><br><span class="line"><span class="comment"># æ•°æ®åº“é©±åŠ¨ç±»</span></span><br><span class="line"><span class="comment"># spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="comment"># mysql driver 6.0ä»¥åè¦ä½¿ç”¨ä¸‹é¢çš„ç±»</span></span><br><span class="line"><span class="meta">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment"># ä¸»æ•°æ®æº(è¿™é‡Œä½¿ç”¨çš„druid),å¦‚æœæ˜¯é€šè¿‡ä»£ç æ³¨å…¥ï¼Œè¿™é‡Œæ²¡ä»€ä¹ˆç”¨</span></span><br><span class="line"><span class="comment">#spring.datasource.type=com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line"><span class="comment">######################æ•°æ®åº“è¿æ¥æ± é…ç½®#########################</span></span><br><span class="line"><span class="comment"># sb1.3ä»¥å‰è¿™æ ·é…ç½®æ˜¯å¯ä»¥ç›´æ¥æ³¨å…¥çš„ï¼Œ1.4ä¹‹ååªæ”¯æŒå‡ ç§å†…ç½®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€šè¿‡</span></span><br><span class="line"><span class="comment"># ä»£ç æ‰‹åŠ¨æ³¨å…¥ï¼Œä»£ç é…ç½®ä¼˜å…ˆçº§æ¯”é…ç½®æ–‡ä»¶çš„é«˜</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–å¤§å°ï¼Œæœ€å°ï¼Œæœ€å¤§</span></span><br><span class="line"><span class="meta">spring.datasource.initialSize</span>=<span class="string">5</span></span><br><span class="line"><span class="meta">spring.datasource.minIdle</span>=<span class="string">5</span></span><br><span class="line"><span class="meta">spring.datasource.maxActive</span>=<span class="string">20</span></span><br><span class="line"><span class="comment"># é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´</span></span><br><span class="line"><span class="meta">spring.datasource.maxWait</span>=<span class="string">60000</span></span><br><span class="line"><span class="comment"># é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’</span></span><br><span class="line"><span class="meta">spring.datasource.timeBetweenEvictionRunsMillis</span>=<span class="string">60000</span></span><br><span class="line"><span class="comment"># é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’</span></span><br><span class="line"><span class="meta">spring.datasource.minEvictableIdleTimeMillis</span>=<span class="string">300000</span></span><br><span class="line"><span class="meta">spring.datasource.validationQuery</span>=<span class="string">SELECT 1 FROM DUAL</span></span><br><span class="line"><span class="meta">spring.datasource.testWhileIdle</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.datasource.testOnBorrow</span>=<span class="string">false</span></span><br><span class="line"><span class="meta">spring.datasource.testOnReturn</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿æ¥ä¸ŠPSCacheçš„å¤§å°</span></span><br><span class="line"><span class="meta">spring.datasource.poolPreparedStatements</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.datasource.maxPoolPreparedStatementPerConnectionSize</span>=<span class="string">20</span></span><br><span class="line"><span class="comment"># é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œå»æ‰åç›‘æ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ï¼Œ&#x27;wall&#x27;ç”¨äºé˜²ç«å¢™</span></span><br><span class="line"><span class="meta">spring.datasource.filters</span>=<span class="string">stat,wall,log4j</span></span><br><span class="line"><span class="comment"># é€šè¿‡connectPropertieså±æ€§æ¥æ‰“å¼€mergeSqlåŠŸèƒ½ï¼›æ…¢SQLè®°å½•</span></span><br><span class="line"><span class="meta">spring.datasource.connectionProperties</span>=<span class="string">druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000</span></span><br><span class="line"><span class="comment"># åˆå¹¶å¤šä¸ªDruidDataSourceçš„ç›‘æ§æ•°æ®</span></span><br><span class="line"><span class="comment">#spring.datasource.useGlobalDataSourceStat=true</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šspring boot 1.4ä»¥å‰ç‰ˆæœ¬ï¼Œè¿™äº›é…ç½®å·²ç»å¤Ÿäº†ï¼Œspring bootä¼šè‡ªåŠ¨æ³¨å…¥ï¼Œä½†æ˜¯ä¹‹åçš„ç‰ˆæœ¬ï¼Œåªæœ‰å‡ ç§å†…ç½®çš„æ•°æ®æºå¯ä»¥é€šè¿‡é…ç½®æ³¨å…¥ï¼Œdruidæš‚æ—¶æ²¡æœ‰å†…ç½®ï¼Œæ‰€ä»¥è¦é€šè¿‡ä»£ç æ³¨å…¥</strong></p><p><strong>DruidConfig.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2017, 791650277@qq.com(Mr.kiwi) All Rights Reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> cn.coder4j.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.support.http.StatViewServlet;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.support.http.WebStatFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.ServletRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Primary;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡¹ç›®ï¼šjalfred</span></span><br><span class="line"><span class="comment"> * åŒ…åï¼šcn.coder4j</span></span><br><span class="line"><span class="comment"> * åŠŸèƒ½ï¼šæ•°æ®æºdruidçš„é…ç½®</span></span><br><span class="line"><span class="comment"> * æ—¶é—´ï¼š2017-02-17 23:30</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šMr.Kiwi</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">// PrimaryåŒåbeanï¼Œä¼šä»¥äº›ä¸ºå‡†</span></span><br><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="comment">// ConfigurationPropertiesä¼šæ³¨å…¥åŒåå±æ€§</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(&quot;spring.datasource&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">druidDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        DruidDataSource druidDataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> druidDataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œä¸€ä¸ªStatViewServlet</span></span><br><span class="line"><span class="comment">     * duridç»Ÿè®¡é¡µé¢ç›¸å…³çš„servlet</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletRegistrationBean <span class="title">druidStatViewServle</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ServletRegistrationBean servletRegistrationBean = <span class="keyword">new</span> ServletRegistrationBean(<span class="keyword">new</span> StatViewServlet(),<span class="string">&quot;/druid2/*&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ åˆå§‹åŒ–å‚æ•°ï¼šinitParams</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç™½åå•ï¼š</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="string">&quot;allow&quot;</span>,<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">        <span class="comment">//IPé»‘åå• (å­˜åœ¨å…±åŒæ—¶ï¼Œdenyä¼˜å…ˆäºallow) : å¦‚æœæ»¡è¶³denyçš„è¯æç¤º:Sorry, you are not permitted to view this page.</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="string">&quot;deny&quot;</span>,<span class="string">&quot;192.168.1.73&quot;</span>);</span><br><span class="line">        <span class="comment">//ç™»å½•æŸ¥çœ‹ä¿¡æ¯çš„è´¦å·å¯†ç .</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="string">&quot;loginUsername&quot;</span>,<span class="string">&quot;admin2&quot;</span>);</span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="string">&quot;loginPassword&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="comment">//æ˜¯å¦èƒ½å¤Ÿé‡ç½®æ•°æ®.</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="string">&quot;resetEnable&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> servletRegistrationBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œä¸€ä¸ªï¼šfilterRegistrationBean</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªè¦è¢«druidç»Ÿè®¡çš„é¡µé¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">druidStatFilter</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        FilterRegistrationBean filterRegistrationBean = <span class="keyword">new</span> FilterRegistrationBean(<span class="keyword">new</span> WebStatFilter());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ è¿‡æ»¤è§„åˆ™.</span></span><br><span class="line">        filterRegistrationBean.addUrlPatterns(<span class="string">&quot;/*&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ ä¸éœ€è¦å¿½ç•¥çš„æ ¼å¼ä¿¡æ¯.</span></span><br><span class="line">        filterRegistrationBean.addInitParameter(<span class="string">&quot;exclusions&quot;</span>,<span class="string">&quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> filterRegistrationBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/f23e3ef2/">https://blog.coder4j.cn/posts/f23e3ef2/</a> </p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring boot </tag>
            
            <tag> druid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring boot é›†æˆ redis</title>
      <link href="/posts/126591a7/"/>
      <url>/posts/126591a7/</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é›†æˆredis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">######################redisé…ç½®#########################</span><br><span class="line"># REDIS (RedisProperties)</span><br><span class="line"># Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰</span><br><span class="line">spring.redis.database&#x3D;0</span><br><span class="line"># RedisæœåŠ¡å™¨åœ°å€</span><br><span class="line">spring.redis.host&#x3D;localhost</span><br><span class="line"># RedisæœåŠ¡å™¨è¿æ¥ç«¯å£</span><br><span class="line">spring.redis.port&#x3D;6379</span><br><span class="line"># RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰</span><br><span class="line">spring.redis.password&#x3D;</span><br><span class="line"># è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span><br><span class="line">spring.redis.pool.max-active&#x3D;8</span><br><span class="line"># è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span><br><span class="line">spring.redis.pool.max-wait&#x3D;-1</span><br><span class="line"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span><br><span class="line">spring.redis.pool.max-idle&#x3D;8</span><br><span class="line"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span><br><span class="line">spring.redis.pool.min-idle&#x3D;0</span><br><span class="line"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">spring.redis.timeout&#x3D;0</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span>  </span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;  </span><br><span class="line"><span class="meta">@Resource</span>  </span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Users&gt; redisTemplate;</span><br></pre></td></tr></table></figure><blockquote><p>ç„¶åå°±å¯ä»¥åœ¨ç±»é‡Œä½¿ç”¨äº†ï¼Œä½¿ç”¨æ³›å‹çš„æ—¶å€™å¦‚æœç”¨@AutowiredæŒ‰ç±»å‹æ³¨å…¥ä¼šæŠ¥é”™ï¼Œè¦ç”¨@Resource    </p></blockquote><p><em>å¦‚æœæ–¹æ³•æƒ³ç”¨ç¼“å­˜ï¼Œè¦åœ¨é…ç½®ç±»ä¸ŠåŠ ä¸Š@EnableCachingæ‰“å¼€ç¼“å­˜ï¼Œå¹¶ä¸”è¦åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Cacheable(value = â€œgetByUsernameâ€)</em></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/126591a7/">https://blog.coder4j.cn/posts/126591a7/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> spring boot </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring boot é›†æˆç›‘æ§</title>
      <link href="/posts/407827fd/"/>
      <url>/posts/407827fd/</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--spring boot ç³»ç»Ÿç›‘æ§--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹å¤–å¼€æ”¾ç›‘æ§</span></span><br><span class="line"><span class="comment"># å°†å…¶å®ƒå¥åº·æ¥å£ä¹Ÿæš´éœ²å‡ºå»</span></span><br><span class="line"><span class="meta">endpoints.health.sensitive</span> = <span class="string">false</span></span><br><span class="line"><span class="meta">management.security.enabled</span> = <span class="string">false</span></span><br><span class="line"><span class="comment"># è®¾ç½®å¥åº·ç›‘æ§çš„åº”ç”¨å</span></span><br><span class="line"><span class="comment">#management.context-path=/manage/api/</span></span><br><span class="line"><span class="comment"># å¼€å¯åŸºç¡€é‰´æƒ</span></span><br><span class="line"><span class="comment">#security.basic.enabled=true</span></span><br><span class="line"><span class="comment"># è¦é‰´æƒè·¯å¾„</span></span><br><span class="line"><span class="comment">#security.basic.path=/manage/api/*</span></span><br><span class="line"><span class="comment">#security.user.name=admin</span></span><br><span class="line"><span class="comment">#security.user.password=123456</span></span><br></pre></td></tr></table></figure><p><em>ä¸åŠ securityä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¼šæŠ¥æƒé™ä¸è¶³</em></p><blockquote><p>æœ‰ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯åŠ ä¸Šsecurityï¼Œåšæ‹¦æˆªï¼Œå¹¶ä¸”é…ç½®ç›¸åº”çš„è´¦å·å¯†ç ã€‚å¦ä¸€ä¸ªé…ç½®ä¸Šé¢æ‰€ç¤ºçš„å±æ€§ï¼Œå¯¹ç›‘æ§é¡µé¢å…³é—­é»˜è®¤æƒé™éªŒè¯ï¼Œç„¶åæˆ‘ä»¬è‡ªå·±å»å®ç°</p></blockquote><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/407827fd/">https://blog.coder4j.cn/posts/407827fd/</a> </p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring boot </tag>
            
            <tag> ç›‘æ§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tomcaté…ç½®httpsè¯ä¹¦</title>
      <link href="/posts/ca6bae8b/"/>
      <url>/posts/ca6bae8b/</url>
      
        <content type="html"><![CDATA[<h1 id="Tomcaté…ç½®httpsè¯ä¹¦"><a href="#Tomcaté…ç½®httpsè¯ä¹¦" class="headerlink" title="Tomcaté…ç½®httpsè¯ä¹¦"></a>Tomcaté…ç½®httpsè¯ä¹¦</h1><blockquote><p>ç½‘ä¸Šæœç´¢å‡ºæ¥å¤§å¤šæ•°æ˜¯é€šè¿‡keytoolè‡ªå·²ç”Ÿæˆè¯ä¹¦æ¥å®Œæˆï¼Œè¿™ç§åœ¨å·¥ä½œå¾ˆå°‘ç”¨åˆ°ï¼ˆæµè§ˆå™¨ä¼šæŠ¥ä¸å®‰å…¨ï¼‰ã€‚ä»¥ä¸‹æ˜¯é€šè¿‡ç”³è¯·çš„è¯ä¹¦é…ç½®è¿‡ç¨‹ã€‚å› ä¸ºåœ¨é…ç½®ä¸­é‡åˆ°äº†ä¸€äº›å‘ï¼Œè®°ä¹‹  </p></blockquote><h4 id="1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥"><a href="#1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥" class="headerlink" title="1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥"></a>1ã€å‡†å¤‡è¯ä¹¦ä¸ç§é’¥</h4><p><code>demo.crt</code>  <code>demo.key</code></p><h4 id="2ã€åˆå¹¶è¯ä¹¦"><a href="#2ã€åˆå¹¶è¯ä¹¦" class="headerlink" title="2ã€åˆå¹¶è¯ä¹¦"></a>2ã€åˆå¹¶è¯ä¹¦</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -export -<span class="keyword">in</span> <span class="built_in">demo</span>.crt -inkey <span class="built_in">demo</span>.<span class="built_in">key</span> -out <span class="built_in">demo</span>.p12 -name <span class="built_in">demo</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€ demo.crt æ˜¯ä½ çš„è¯ä¹¦<br>2ã€ demo.key æ˜¯ä½ çš„ç§é’¥<br>3ã€ demo.p12 æ˜¯åˆå¹¶åçš„è¯ä¹¦<br>4ã€-name åé¢çš„demoæ˜¯æŒ‡å®šçš„åˆ«åï¼Œåé¢é…ç½®tomcat8.5ä¹‹åçš„ç‰ˆæœ¬éœ€è¦ç”¨åˆ°ï¼Œè¦è®°ä½<br>5ã€æ‰§è¡Œè¿™æ¡å‘½ä»¤è¦è®¾ç½®ä¸€ä¸ªå¯¼å‡ºå¯†ç ï¼Œåé¢è¦ç”¨åˆ°ï¼Œè¦è®°ä½ï¼Œæœ€å¥½6ä½ä»¥ä¸Š  </p></blockquote><h4 id="3ã€ç”Ÿæˆkeystoreæ–‡ä»¶"><a href="#3ã€ç”Ÿæˆkeystoreæ–‡ä»¶" class="headerlink" title="3ã€ç”Ÿæˆkeystoreæ–‡ä»¶"></a>3ã€ç”Ÿæˆkeystoreæ–‡ä»¶</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">keytool</span> -importkeystore -srckeystore demo.p<span class="number">12</span> -srcstoretype PKCS<span class="number">12</span> -destkeystore demo.jks  </span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€demo.p12 æ˜¯ç¬¬äºŒæ­¥ç”Ÿæˆçš„è¯ä¹¦å<br>2ã€demo.jks æ˜¯ç”Ÿæˆçš„keystoreæ–‡ä»¶å<br>3ã€æ‰§è¡Œè¿™æ¡å‘½ä»¤ä¼šé¦–å…ˆè®©ä½ è®¾ç½®ä¸€ä¸ªå¯†ç ï¼Œè¿™ä¸ªå¯†ç åé¢é…ç½®ä¼šç”¨åˆ°ï¼Œè¦è®°ä½ã€‚ç„¶åéªŒè¯ä¸Šä¸€æ­¥è®¾ç½®çš„å¯†ç ã€‚æ¨èè¯¥æ­¥éª¤è®¾ç½®çš„å¯†ç ä¸ä¸Šä¸€æ­¥ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å¯èƒ½ä¼šå‡ºç°é”™è¯¯è¯¦è§ <a href="http://hw1287789687.iteye.com/blog/1965703">java.security.UnrecoverableKeyException: Cannot recover key - ç®€å•çš„å¹¸ç¦ - ITeyeæŠ€æœ¯ç½‘ç«™</a>   </p></blockquote><h4 id="4ã€é…ç½®tomcat"><a href="#4ã€é…ç½®tomcat" class="headerlink" title="4ã€é…ç½®tomcat"></a>4ã€é…ç½®tomcat</h4><p><code>tomcat 8.5 ä¹‹å‰</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">SSLEnabled</span>=<span class="string">&quot;true&quot;</span> <span class="attr">acceptCount</span>=<span class="string">&quot;100&quot;</span> <span class="attr">clientAuth</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">disableUploadTimeout</span>=<span class="string">&quot;true&quot;</span> <span class="attr">enableLookups</span>=<span class="string">&quot;false&quot;</span> <span class="attr">maxThreads</span>=<span class="string">&quot;25&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">port</span>=<span class="string">&quot;8443&quot;</span> <span class="attr">keystoreFile</span>=<span class="string">&quot;~/ssl/demo.jks&quot;</span> <span class="attr">keystorePass</span>=<span class="string">&quot;123456&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">protocol</span>=<span class="string">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span> <span class="attr">scheme</span>=<span class="string">&quot;https&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">secure</span>=<span class="string">&quot;true&quot;</span> <span class="attr">sslProtocol</span>=<span class="string">&quot;TLS&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>tomcat 8.5 ä¹‹å</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8643&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">maxThreads</span>=<span class="string">&quot;150&quot;</span> <span class="attr">SSLEnabled</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SSLHostConfig</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Certificate</span> <span class="attr">certificateKeystoreFile</span>=<span class="string">&quot;~/ssl/demo.jks&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">certificateKeyAlias</span>=<span class="string">&quot;demo&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">certificateKeystorePassword</span>=<span class="string">&quot;123456&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">type</span>=<span class="string">&quot;RSA&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">SSLHostConfig</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Connector</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<br>1ã€~_ssl_demo.jks  æ˜¯ä½ å‰é¢æ­¥éª¤ç”Ÿæˆçš„storekeyæ–‡ä»¶çš„è·¯å¾„<br>2ã€123456 æ˜¯å‰é¢ç¬¬3æ­¥è®¾ç½®çš„å¯†ç <br>3ã€tomcat8.5ä¹‹åæœ‰ä¸€ä¸ªcertificateKeyAliasè¿™ä¸ªæ˜¯2æ­¥è®¾ç½®-nameçš„å€¼  </p></blockquote><h4 id="å‚æ•°åœ°å€ï¼š"><a href="#å‚æ•°åœ°å€ï¼š" class="headerlink" title="å‚æ•°åœ°å€ï¼š"></a>å‚æ•°åœ°å€ï¼š</h4><p><a href="http://blog.csdn.net/freeiceflame/article/details/50420059">TOMCATå¯¼å…¥é€šè¿‡ç¬¬ä¸‰æ–¹è¯ä¹¦æœºæ„è·å–çš„è¯ä¹¦ - IceFlameåšå®¢é¢‘é“ - CSDN.NET</a></p><p>  <a href="http://hw1287789687.iteye.com/blog/1965703">java.security.UnrecoverableKeyException: Cannot recover key - ç®€å•çš„å¹¸ç¦ - ITeyeæŠ€æœ¯ç½‘ç«™</a></p><p><a href="https://www.oschina.net/question/12_23148">5åˆ†é’Ÿå†…æå®š Tomcat çš„ SSL é…ç½® - å¼€æºä¸­å›½ç¤¾åŒº</a></p><p><a href="https://bbs.wosign.com/forum.php?mod=viewthread&tid=2881">tomcat 8.5+ç‰ˆæœ¬SSLè¯ä¹¦éƒ¨ç½²-æ²ƒé€šCAå®˜æ–¹è®ºå› -  ä¸“ä¸šæ•°å­—è¯ä¹¦è®ºå›</a></p><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/ca6bae8b/">https://blog.coder4j.cn/posts/ca6bae8b/</a> </p>]]></content>
      
      
      <categories>
          
          <category> tomcat </category>
          
          <category> https </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tomcat </tag>
            
            <tag> https </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>lombokä½¿ç”¨æ•™ç¨‹</title>
      <link href="/posts/488c3b78/"/>
      <url>/posts/488c3b78/</url>
      
        <content type="html"><![CDATA[<h1 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h1><h4 id="ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç "><a href="#ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç " class="headerlink" title="ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç "></a>ä½œç”¨ï¼šå¸®ä½¿ç”¨è€…æé«˜ç¼–ç æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä¸å†—ä½™çš„ä»£ç </h4><h4 id="åŸç†ï¼šASM-åŠ¨æ€ä¿®æ”¹classæ–‡ä»¶"><a href="#åŸç†ï¼šASM-åŠ¨æ€ä¿®æ”¹classæ–‡ä»¶" class="headerlink" title="åŸç†ï¼šASM  åŠ¨æ€ä¿®æ”¹classæ–‡ä»¶"></a>åŸç†ï¼šASM  åŠ¨æ€ä¿®æ”¹classæ–‡ä»¶</h4><hr><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><h4 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h3><ul><li>å®‰è£…æ’ä»¶<br><img src="http://ww2.sinaimg.cn/large/68f7efe0gw1fb0hl2gmyzj20su0kagqg.jpg"></li></ul><hr><h1 id="å¸¸ç”¨æ³¨è§£ï¼š"><a href="#å¸¸ç”¨æ³¨è§£ï¼š" class="headerlink" title="å¸¸ç”¨æ³¨è§£ï¼š"></a>å¸¸ç”¨æ³¨è§£ï¼š</h1><h2 id="java-beanç›¸å…³"><a href="#java-beanç›¸å…³" class="headerlink" title="java beanç›¸å…³"></a>java beanç›¸å…³</h2><h3 id="Setter"><a href="#Setter" class="headerlink" title="@Setter"></a>@Setter</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç”Ÿæˆsetteræ–¹æ³•</p></blockquote></li></ul><ul><li><code>æºç </code>     <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Setter</span></span><br><span class="line">       <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">private</span> Integer id;</span><br><span class="line">           <span class="keyword">private</span> String name;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></li><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Getter"><a href="#Getter" class="headerlink" title="@Getter"></a>@Getter</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç”Ÿæˆgetteræ–¹æ³•</p></blockquote></li></ul><ul><li><code>æºç </code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="ToString"><a href="#ToString" class="headerlink" title="@ToString"></a>@ToString</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç”ŸæˆtoStringæ–¹æ³•</p></blockquote></li></ul><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.id + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.name + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Getter-lazy-true"><a href="#Getter-lazy-true" class="headerlink" title="@Getter(lazy = true)"></a>@Getter(lazy = true)</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>æ‡’åŠ è½½å±æ€§</p></blockquote></li></ul><ul><li><p><code>æ³¨æ„:</code></p><blockquote><p>è¿™ä¸ªä¸ä¸Šé¢@Getterä¸åŒï¼Œé‚£ä¸ªæ˜¯ä¿®é¥°åœ¨ç±»ä¸Šçš„ï¼Œä¹Ÿå¯ä»¥ä¿®é¥°åœ¨å±æ€§ä¸Šã€‚å¦‚æœæœ‰lazy=trueåªèƒ½ä¿®é¥°åœ¨å±æ€§ï¼Œå¹¶ä¸”è¿˜è¦æ˜¯private finalä¿®é¥°ï¼Œé™åˆ¶å¾ˆå¤§</p></blockquote></li><li><p><code>ç¼–ç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Getter(lazy = true)</span> <span class="keyword">private</span> <span class="keyword">final</span> List&lt;Integer&gt; ids = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicReference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AtomicReference&lt;Object&gt; ids = <span class="keyword">new</span> AtomicReference();</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">getIds</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Object value = <span class="keyword">this</span>.ids.get();</span><br><span class="line">        <span class="keyword">if</span>(value == <span class="keyword">null</span>) &#123;</span><br><span class="line">            AtomicReference var2 = <span class="keyword">this</span>.ids;</span><br><span class="line">            <span class="keyword">synchronized</span>(<span class="keyword">this</span>.ids) &#123;</span><br><span class="line">                value = <span class="keyword">this</span>.ids.get();</span><br><span class="line">                <span class="keyword">if</span>(value == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    List actualValue = Arrays.asList(<span class="keyword">new</span> Integer[]&#123;Integer.valueOf(<span class="number">1</span>), Integer.valueOf(<span class="number">2</span>), Integer.valueOf(<span class="number">3</span>), Integer.valueOf(<span class="number">4</span>)&#125;);</span><br><span class="line">                    value = actualValue == <span class="keyword">null</span>?<span class="keyword">this</span>.ids:actualValue;</span><br><span class="line">                    <span class="keyword">this</span>.ids.set(value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (List)((List)(value == <span class="keyword">this</span>.ids?<span class="keyword">null</span>:value));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="EqualsAndHashCode"><a href="#EqualsAndHashCode" class="headerlink" title="@EqualsAndHashCode"></a>@EqualsAndHashCode</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç”Ÿæˆequalsæ–¹æ³•ä¸hashCodeæ–¹æ³•</p></blockquote></li></ul><ul><li><code>æºç </code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>ç¼–è¯‘å</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o <span class="keyword">instanceof</span> LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            <span class="keyword">if</span>(!other.canEqual(<span class="keyword">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.id;</span><br><span class="line">                Integer other$id = other.id;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$id != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String <span class="keyword">this</span>$name = <span class="keyword">this</span>.name;</span><br><span class="line">                String other$name = other.name;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$name != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">canEqual</span><span class="params">(Object other)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> other <span class="keyword">instanceof</span> LombokDemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> PRIME = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">byte</span> result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.id;</span><br><span class="line">        <span class="keyword">int</span> result1 = result * <span class="number">59</span> + ($id == <span class="keyword">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.name;</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="keyword">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="NoAragsConstructor"><a href="#NoAragsConstructor" class="headerlink" title="@NoAragsConstructor"></a>@NoAragsConstructor</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>æ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</p></blockquote></li><li><p><code>æ³¨æ„</code></p><blockquote><p>è¿™ä¸ªæ³¨è§£åœ¨æ²¡æœ‰å…¶å®ƒæœ‰å‚æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹javaé»˜è®¤ä¼šæ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@NoArgsConstructor</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">Integer</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="AllArgsConstructor"><a href="#AllArgsConstructor" class="headerlink" title="@AllArgsConstructor"></a>@AllArgsConstructor</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>æ·»åŠ ä¸€ä¸ªæ‰€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°</p></blockquote></li></ul><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;&quot;id&quot;, &quot;name&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">(Integer id, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="RequiredArgsConstructor"><a href="#RequiredArgsConstructor" class="headerlink" title="@RequiredArgsConstructor"></a>@RequiredArgsConstructor</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç”Ÿæˆä¸€ä¸ªåŒ…å«å¿…å¡«å‚æ•°çš„æ„é€ å‡½æ•°</p></blockquote></li><li><p><code>æ³¨æ„</code></p><blockquote><p>è¦ä¸@NonNull æ­é…ä½¿ç”¨ï¼Œè¯¥æ³¨è§£ä¿®é¥°çš„å±æ€§å°±æ˜¯å¿…å¡«å‚æ•°</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequiredArgsConstructor</span><br><span class="line">public class LombokDemo &#123;</span><br><span class="line"></span><br><span class="line">    @NonNull private Integer id;</span><br><span class="line">    private String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;&quot;id&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">(<span class="meta">@NonNull</span> Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(id == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Date"><a href="#Date" class="headerlink" title="@Date"></a>@Date</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªç»¼åˆæ³¨è§£äº†ï¼Œç­‰äºåŒæ—¶ä½¿ç”¨</p><p><code>@Getter</code>, <code>@Setter</code>, <code>@ToString</code>, <code>@EqualsAndHashCode</code>,<code>@RequiredArgsConstructor</code></p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o <span class="keyword">instanceof</span> LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            <span class="keyword">if</span>(!other.canEqual(<span class="keyword">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.getId();</span><br><span class="line">                Integer other$id = other.getId();</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$id != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String <span class="keyword">this</span>$name = <span class="keyword">this</span>.getName();</span><br><span class="line">                String other$name = other.getName();</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(other$name != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">canEqual</span><span class="params">(Object other)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> other <span class="keyword">instanceof</span> LombokDemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> PRIME = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">byte</span> result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.getId();</span><br><span class="line">        <span class="keyword">int</span> result1 = result * <span class="number">59</span> + ($id == <span class="keyword">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.getName();</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="keyword">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.getId() + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.getName() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ä¸å¯å˜ç±»çš„@Date, ä»–ä¼šé»˜è®¤ç»™å±æ€§åŠ ä¸Šfinal</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.beans.ConstructorProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;&quot;id&quot;, &quot;name&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">(Integer id, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!(o <span class="keyword">instanceof</span> LombokDemo)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LombokDemo other = (LombokDemo)o;</span><br><span class="line">            Integer <span class="keyword">this</span>$id = <span class="keyword">this</span>.getId();</span><br><span class="line">            Integer other$id = other.getId();</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>$id == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(other$id != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$id.equals(other$id)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            String <span class="keyword">this</span>$name = <span class="keyword">this</span>.getName();</span><br><span class="line">            String other$name = other.getName();</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>$name == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(other$name != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> PRIME = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">byte</span> result = <span class="number">1</span>;</span><br><span class="line">        Integer $id = <span class="keyword">this</span>.getId();</span><br><span class="line">        <span class="keyword">int</span> result1 = result * <span class="number">59</span> + ($id == <span class="keyword">null</span>?<span class="number">43</span>:$id.hashCode());</span><br><span class="line">        String $name = <span class="keyword">this</span>.getName();</span><br><span class="line">        result1 = result1 * <span class="number">59</span> + ($name == <span class="keyword">null</span>?<span class="number">43</span>:$name.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;LombokDemo(id=&quot;</span> + <span class="keyword">this</span>.getId() + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.getName() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Accessors"><a href="#Accessors" class="headerlink" title="@Accessors"></a>@Accessors</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>è¿™ä¸ªæ³¨è§£è¦æ­é…@Getterä¸@Setterä½¿ç”¨ï¼Œç”¨æ¥ä¿®æ”¹é»˜è®¤çš„setterä¸getteræ–¹æ³•çš„å½¢å¼</p></blockquote></li><li><p><code>æ³¨æ„</code></p><blockquote><p>@Accessorsæœ‰ä¸‰ä¸ªå‚æ•°å¯ä»¥ä½¿ç”¨</p><ol><li>chain  é“¾å¼çš„å½¢å¼</li><li>fluent  æµå¼çš„å½¢å¼</li><li>prefix  ç”ŸæˆæŒ‡å®šå‰ç¼€çš„å±æ€§çš„getterä¸setteræ–¹æ³•ï¼Œå¹¶ä¸”ç”Ÿæˆçš„getterä¸setteræ–¹æ³•æ—¶ä¼šå»é™¤å‰ç¼€</li></ol></blockquote></li><li><p><code>æºç  chain = true</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Accessors(chain = true)</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å chain = true</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LombokDemo <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LombokDemo <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><code>æºç  fluent = true</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Accessors(fluent = true)</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å fluent = true</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LombokDemo <span class="title">id</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LombokDemo <span class="title">name</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">id</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>æºç  prefix = &quot;xxx&quot;</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Accessors(prefix = &quot;xxx&quot;)</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å prefix = &quot;xxx&quot;</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer xxxId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.xxxId = xxxId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.xxxId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><hr><h1 id="å…¶å®ƒæ³¨è§£ï¼š"><a href="#å…¶å®ƒæ³¨è§£ï¼š" class="headerlink" title="å…¶å®ƒæ³¨è§£ï¼š"></a>å…¶å®ƒæ³¨è§£ï¼š</h1><h2 id="æ—¥å¿—ç›¸å…³"><a href="#æ—¥å¿—ç›¸å…³" class="headerlink" title="æ—¥å¿—ç›¸å…³"></a>æ—¥å¿—ç›¸å…³</h2><h3 id="Log4j"><a href="#Log4j" class="headerlink" title="@Log4j"></a>@Log4j</h3><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Log4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger log = Logger.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="CommonsLog"><a href="#CommonsLog" class="headerlink" title="@CommonsLog"></a>@CommonsLog</h3><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CommonsLog</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.Log;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.LogFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Log log = LogFactory.getLog(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="Log"><a href="#Log" class="headerlink" title="@Log"></a>@Log</h3><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Log</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger log = Logger.getLogger(LombokDemo.class.getName());</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="Log4j2"><a href="#Log4j2" class="headerlink" title="@Log4j2"></a>@Log4j2</h3><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Log4j2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger log = LogManager.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="Slf4j"><a href="#Slf4j" class="headerlink" title="@Slf4j"></a>@Slf4j</h3><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(LombokDemo.class);</span><br><span class="line">    <span class="keyword">private</span> Integer xxxId;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="è®¾è®¡æ¨¡å¼ç›¸å…³"><a href="#è®¾è®¡æ¨¡å¼ç›¸å…³" class="headerlink" title="è®¾è®¡æ¨¡å¼ç›¸å…³"></a>è®¾è®¡æ¨¡å¼ç›¸å…³</h2><h3 id="Builder"><a href="#Builder" class="headerlink" title="@Builder"></a>@Builder</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>é€šè¿‡å»ºé€ è€…æ¨¡å—æ¥ç”Ÿæˆbean</p></blockquote></li></ul><ul><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    LombokDemo(Integer id, String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> LombokDemo.<span class="function">LombokDemoBuilder <span class="title">builder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LombokDemo.LombokDemoBuilder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemoBuilder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Integer id;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        LombokDemoBuilder() &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> LombokDemo.<span class="function">LombokDemoBuilder <span class="title">id</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> LombokDemo.<span class="function">LombokDemoBuilder <span class="title">name</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LombokDemo <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> LombokDemo(<span class="keyword">this</span>.id, <span class="keyword">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;LombokDemo.LombokDemoBuilder(id=&quot;</span> + <span class="keyword">this</span>.id + <span class="string">&quot;, name=&quot;</span> + <span class="keyword">this</span>.name + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Delegate"><a href="#Delegate" class="headerlink" title="@Delegate"></a>@Delegate</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>@Delegateæ³¨é‡Šçš„å±æ€§ï¼Œä¼šæŠŠè¿™ä¸ªå±æ€§å¯¹è±¡çš„å…¬æœ‰éé™æ€æ–¹æ³•åˆåˆ°å½“å‰ç±»</p></blockquote></li><li><p><code>æ³¨æ„</code></p><blockquote><p>å…¬å…± éé™æ€æ–¹æ³•</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delegate</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">byte</span> <span class="title">byteValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.byteValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">short</span> <span class="title">shortValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.shortValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">intValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.intValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">longValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.longValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">floatValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.floatValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">doubleValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.doubleValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Integer arg0)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id.compareTo(arg0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="å·¥å…·ç›¸å…³"><a href="#å·¥å…·ç›¸å…³" class="headerlink" title="å·¥å…·ç›¸å…³"></a>å·¥å…·ç›¸å…³</h2><h3 id="Cleanup"><a href="#Cleanup" class="headerlink" title="@Cleanup"></a>@Cleanup</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>å…³é—­æµ</p></blockquote></li><li><p><code>æ³¨æ„</code></p><blockquote><p>å…³é—­æµçš„æ–¹å¼æœ‰ç‚¹æ€ªå¼‚ï¼Œè€Œä¸”æ²¡æœ‰åœ¨<strong>finally</strong>é‡Œé¢å…³é—­ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸çš„å°±ä¸ä¼šå…³é—­äº†</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Cleanup</span> InputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xxx.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;xxx.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(Collections.singletonList(inputStream).get(<span class="number">0</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            inputStream.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="Synchronized"><a href="#Synchronized" class="headerlink" title="@Synchronized"></a>@Synchronized</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>ç»™æ–¹æ³•åŠ ä¸€ä¸ªåŒæ­¥å—</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Synchronized</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object $lock = <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Object var1 = <span class="keyword">this</span>.$lock;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="keyword">this</span>.$lock) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><h3 id="SneakyThrows"><a href="#SneakyThrows" class="headerlink" title="@SneakyThrows"></a>@SneakyThrows</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>å¿½ç•¥å¼‚å¸¸</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String s = <span class="keyword">new</span> String(<span class="string">&quot;test&quot;</span>.getBytes(), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object $lock = <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Object var1 = <span class="keyword">this</span>.$lock;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="keyword">this</span>.$lock) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="NonNull"><a href="#NonNull" class="headerlink" title="@NonNull"></a>@NonNull</h3><ul><li><p><code>åŠŸèƒ½</code></p><blockquote><p>è®¾ç½®ä¸èƒ½ä¸ºç©ºçš„å‚æ•°</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="meta">@NonNull</span> String val)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="meta">@NonNull</span> String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(val == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;val&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="UtilityClass"><a href="#UtilityClass" class="headerlink" title="@UtilityClass"></a>@UtilityClass</h3></li><li><p><code>åŠŸèƒ½</code></p><blockquote><p>æŠŠæ™®é€šç±»è½¬ä¸ºå·¥å…·ç±»</p></blockquote></li><li><p><code>æºç </code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@UtilityClass</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">&quot;kiwi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">util</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>ç¼–è¯‘å</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.mrwood.study.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LombokDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Integer id = Integer.valueOf(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String name = <span class="string">&quot;kiwi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">util</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LombokDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;This is a utility class and cannot be instantiated&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ul><p>æœ¬æ–‡åœ°å€ <a href="https://blog.coder4j.cn/posts/488c3b78/">https://blog.coder4j.cn/posts/488c3b78/</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> lombok </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
